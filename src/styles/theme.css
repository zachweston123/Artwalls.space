/* Global theme tokens + base theming.
   Do NOT redesign; enforce consistent dark mode + single font everywhere. */

/* A) Tokens (exact) */
:root {
  /* base */
  --bg: #ffffff;
  --surface-1: #f7f8fb;
  --surface-2: #ffffff;
  --surface-3: #f1f4fb;
  --border: rgba(0,0,0,.10);

  /* text */
  --text: #0b0c0f;
  --text-muted: rgba(11,12,15,.70);

  /* brand accents (KEEP) */
  --blue: #2f6bff;
  --blue-hover: #2457d6;
  --on-blue: #ffffff;
  --blue-muted: rgba(47,107,255,.14);

  --green: #22c55e;
  --green-muted: rgba(34,197,94,.15);

  /* semantic */
  --warning: #f59e0b;
  --danger: #ef4444;

  /* focus */
  --focus: rgba(47,107,255,.45);

  /* Back-compat for existing tokenized components */
  --accent: var(--blue);
  --accent-hover: var(--blue-hover);
  --accent-contrast: var(--on-blue);
  --success: var(--green);
  --success-muted: var(--green-muted);
}

html[data-theme="dark"] {
  --bg: #0b0f17;
  --surface-1: #0f1623;
  --surface-2: #121b2b;
  --surface-3: #17233a;
  --border: rgba(255,255,255,.10);

  --text: rgba(255,255,255,.92);
  --text-muted: rgba(255,255,255,.68);

  --blue: #3b7bff;
  --blue-hover: #2f6bff;
  --on-blue: #ffffff;
  --blue-muted: rgba(59,123,255,.18);

  --green: #34d399;
  --green-muted: rgba(52,211,153,.16);

  --warning: #fbbf24;
  --danger: #f87171;

  --focus: rgba(59,123,255,.55);
}

html[data-theme="light"] {
  color-scheme: light;
}

html[data-theme="dark"] {
  color-scheme: dark;
}

/* B) Apply globally (exact) */
html, body {
  background: var(--bg);
  color: var(--text);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif;
  min-height: 100%;
}

#root, #app, main {
  background: var(--bg);
  min-height: 100vh;
}

/* 1) One global font (inherit everywhere). */
*, *::before, *::after {
  font-family: inherit;
}

/* C) Tokenize core elements */
input,
textarea,
select {
  background: var(--surface-1);
  color: var(--text);
  border: 1px solid var(--border);
}

input::placeholder,
textarea::placeholder {
  color: var(--text-muted);
}

input:focus,
textarea:focus,
select:focus {
  outline: none;
  box-shadow: 0 0 0 3px var(--focus);
}

table {
  color: var(--text);
}

thead {
  background: var(--surface-3);
}

tbody {
  background: var(--surface-2);
}

tbody tr:hover {
  background: var(--surface-3);
}

th,
td {
  border-color: var(--border);
}

/* Dark-mode overrides for common Tailwind "white island" utilities.
   Keeps UI consistent while components are migrated to tokens. */
html[data-theme="dark"] .bg-white { background-color: var(--surface-2) !important; }
html[data-theme="dark"] .bg-neutral-50,
html[data-theme="dark"] .bg-neutral-100 { background-color: var(--surface-3) !important; }

html[data-theme="dark"] .text-black,
html[data-theme="dark"] .text-neutral-900 { color: var(--text) !important; }

html[data-theme="dark"] .text-neutral-700,
html[data-theme="dark"] .text-neutral-600,
html[data-theme="dark"] .text-neutral-500 { color: var(--text-muted) !important; }

html[data-theme="dark"] .border-neutral-200,
html[data-theme="dark"] .border-neutral-300 { border-color: var(--border) !important; }

/* D) Token utility shims
  This repo does not compile Tailwind at build time, so arbitrary-value
  utilities like `bg-[var(--surface-2)]` would otherwise have no CSS.
  Keep components token-first while ensuring production renders correctly. */

/* Backgrounds */
.bg-\[var\(--bg\)\] { background-color: var(--bg); }
.bg-\[var\(--surface-1\)\] { background-color: var(--surface-1); }
.bg-\[var\(--surface-2\)\] { background-color: var(--surface-2); }
.bg-\[var\(--surface-3\)\] { background-color: var(--surface-3); }
.bg-\[var\(--accent\)\] { background-color: var(--accent); }
.bg-\[var\(--accent-hover\)\] { background-color: var(--accent-hover); }
.bg-\[var\(--blue\)\] { background-color: var(--blue); }
.bg-\[var\(--blue-hover\)\] { background-color: var(--blue-hover); }
.bg-\[var\(--blue-muted\)\] { background-color: var(--blue-muted); }
.bg-\[var\(--on-blue\)\] { background-color: var(--on-blue); }
.bg-\[var\(--green\)\] { background-color: var(--green); }
.bg-\[var\(--green-muted\)\] { background-color: var(--green-muted); }
.bg-\[var\(--warning\)\] { background-color: var(--warning); }
.bg-\[var\(--danger\)\] { background-color: var(--danger); }
.bg-\[var\(--success\)\] { background-color: var(--success); }
.bg-\[var\(--success-muted\)\] { background-color: var(--success-muted); }

/* Text */
.text-\[var\(--text\)\] { color: var(--text); }
.text-\[var\(--text-muted\)\] { color: var(--text-muted); }
.text-\[var\(--accent\)\] { color: var(--accent); }
.text-\[var\(--accent-contrast\)\] { color: var(--accent-contrast); }
.text-\[var\(--blue\)\] { color: var(--blue); }
.text-\[var\(--on-blue\)\] { color: var(--on-blue); }
.text-\[var\(--green\)\] { color: var(--green); }
.text-\[var\(--warning\)\] { color: var(--warning); }
.text-\[var\(--danger\)\] { color: var(--danger); }
.text-\[var\(--success\)\] { color: var(--success); }

/* Borders */
.border-\[var\(--border\)\] { border-color: var(--border); }
.border-\[var\(--accent\)\] { border-color: var(--accent); }
.border-\[var\(--blue\)\] { border-color: var(--blue); }
.border-\[var\(--green\)\] { border-color: var(--green); }
.border-\[var\(--danger\)\] { border-color: var(--danger); }
.border-\[var\(--warning\)\] { border-color: var(--warning); }
.border-\[var\(--success\)\] { border-color: var(--success); }

/* Divide color (pairs with existing divide-x/divide-y utilities) */
.divide-\[var\(--border\)\] > :not([hidden]) ~ :not([hidden]) { border-color: var(--border); }

/* Hover variants */
.hover\:bg-\[var\(--surface-2\)\]:hover { background-color: var(--surface-2); }
.hover\:bg-\[var\(--surface-3\)\]:hover { background-color: var(--surface-3); }
.hover\:bg-\[var\(--accent\)\]:hover { background-color: var(--accent); }
.hover\:bg-\[var\(--accent-hover\)\]:hover { background-color: var(--accent-hover); }
.hover\:bg-\[var\(--blue\)\]:hover { background-color: var(--blue); }
.hover\:bg-\[var\(--blue-hover\)\]:hover { background-color: var(--blue-hover); }
.hover\:bg-\[var\(--green-muted\)\]:hover { background-color: var(--green-muted); }
.hover\:bg-\[var\(--green\)\]:hover { background-color: var(--green); }
.hover\:border-\[var\(--focus\)\]:hover { border-color: var(--focus); }
.hover\:border-\[var\(--blue\)\]:hover { border-color: var(--blue); }
.hover\:border-\[var\(--green\)\]:hover { border-color: var(--green); }
.hover\:text-\[var\(--text\)\]:hover { color: var(--text); }
.hover\:text-\[var\(--text-muted\)\]:hover { color: var(--text-muted); }
.hover\:text-\[var\(--accent\)\]:hover { color: var(--accent); }

/* Group-hover variants */
.group:hover .group-hover\:bg-\[var\(--surface-3\)\] { background-color: var(--surface-3); }
.group:hover .group-hover\:bg-\[var\(--blue\)\] { background-color: var(--blue); }
.group:hover .group-hover\:bg-\[var\(--green\)\] { background-color: var(--green); }
.group:hover .group-hover\:border-\[var\(--green\)\] { border-color: var(--green); }
.group:hover .group-hover\:text-\[var\(--on-blue\)\] { color: var(--on-blue); }
.group:hover .group-hover\:text-\[var\(--accent-contrast\)\] { color: var(--accent-contrast); }

/* Placeholder variant */
.placeholder\:text-\[var\(--text-muted\)\]::placeholder { color: var(--text-muted); }

/* Disabled variants */
.disabled\:bg-\[var\(--surface-3\)\]:disabled { background-color: var(--surface-3); }
.disabled\:text-\[var\(--text-muted\)\]:disabled { color: var(--text-muted); }

/* Focus ring color variants (pairs with existing focus:ring-* utilities) */
.focus\:ring-\[var\(--focus\)\]:focus { --tw-ring-color: var(--focus); }
.focus\:ring-\[var\(--blue\)\]:focus { --tw-ring-color: var(--blue); }
.focus\:ring-\[var\(--green\)\]:focus { --tw-ring-color: var(--green); }

/* Focus-visible variants (used in some buttons/tiles) */
.focus-visible\:ring-\[var\(--focus\)\]:focus-visible { --tw-ring-color: var(--focus); }
.focus-visible\:ring-offset-\[var\(--bg\)\]:focus-visible { --tw-ring-offset-color: var(--bg); }
