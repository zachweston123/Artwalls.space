/* Global theme tokens + base theming.
   Do NOT redesign; enforce consistent dark mode + single font everywhere. */

/* A) Tokens (exact) */
:root {
  /* base */
  --bg: #ffffff;
  --surface-1: #f7f8fb;
  --surface-2: #ffffff;
  --surface-3: #f1f4fb;
  --border: rgba(0,0,0,.10);

  /* text */
  --text: #0b0c0f;
  --text-muted: rgba(11,12,15,.70);

  /* brand accents (KEEP) */
  --blue: #2f6bff;
  --blue-hover: #2457d6;
  --on-blue: #ffffff;
  --blue-muted: rgba(47,107,255,.14);

  --green: #22c55e;
  --green-muted: rgba(34,197,94,.15);

  /* semantic */
  --warning: #f59e0b;
  --danger: #ef4444;

  /* focus */
  --focus: rgba(47,107,255,.45);

  /* Back-compat for existing tokenized components */
  --accent: var(--blue);
  --accent-hover: var(--blue-hover);
  --accent-contrast: var(--on-blue);
  --success: var(--green);
  --success-muted: var(--green-muted);
}

html[data-theme="dark"] {
  --bg: #0b0f17;
  --surface-1: #0f1623;
  --surface-2: #121b2b;
  --surface-3: #17233a;
  --border: rgba(255,255,255,.10);

  --text: rgba(255,255,255,.92);
  --text-muted: rgba(255,255,255,.68);

  --blue: #3b7bff;
  --blue-hover: #2f6bff;
  --on-blue: #ffffff;
  --blue-muted: rgba(59,123,255,.18);

  --green: #34d399;
  --green-muted: rgba(52,211,153,.16);

  --warning: #fbbf24;
  --danger: #f87171;

  --focus: rgba(59,123,255,.55);
}

html[data-theme="light"] {
  color-scheme: light;
}

html[data-theme="dark"] {
  color-scheme: dark;
}

/* B) Apply globally (exact) */
html, body {
  background: var(--bg);
  color: var(--text);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif;
  min-height: 100%;
}

#root, #app, main {
  background: var(--bg);
  min-height: 100vh;
}

/* 1) One global font (inherit everywhere). */
*, *::before, *::after {
  font-family: inherit;
}

/* C) Tokenize core elements */
input,
textarea,
select {
  background: var(--surface-1);
  color: var(--text);
  border: 1px solid var(--border);
}

input::placeholder,
textarea::placeholder {
  color: var(--text-muted);
}

input:focus,
textarea:focus,
select:focus {
  outline: none;
  box-shadow: 0 0 0 3px var(--focus);
}

table {
  color: var(--text);
}

thead {
  background: var(--surface-3);
}

tbody {
  background: var(--surface-2);
}

tbody tr:hover {
  background: var(--surface-3);
}

th,
td {
  border-color: var(--border);
}

/* Dark-mode overrides for common Tailwind "white island" utilities.
   Keeps UI consistent while components are migrated to tokens. */
html[data-theme="dark"] .bg-white { background-color: var(--surface-2) !important; }
html[data-theme="dark"] .bg-neutral-50,
html[data-theme="dark"] .bg-neutral-100 { background-color: var(--surface-3) !important; }

html[data-theme="dark"] .text-black,
html[data-theme="dark"] .text-neutral-900 { color: var(--text) !important; }

html[data-theme="dark"] .text-neutral-700,
html[data-theme="dark"] .text-neutral-600,
html[data-theme="dark"] .text-neutral-500 { color: var(--text-muted) !important; }

html[data-theme="dark"] .border-neutral-200,
html[data-theme="dark"] .border-neutral-300 { border-color: var(--border) !important; }
