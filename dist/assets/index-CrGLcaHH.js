(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function n(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(c){if(c.ep)return;c.ep=!0;const d=n(c);fetch(c.href,d)}})();function np(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var eo={exports:{}},gn={},to={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ld;function ap(){if(Ld)return ie;Ld=1;var l=Symbol.for("react.element"),s=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),m=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function N(E){return E===null||typeof E!="object"?null:(E=w&&E[w]||E["@@iterator"],typeof E=="function"?E:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,S={};function b(E,$,le){this.props=E,this.context=$,this.refs=S,this.updater=le||P}b.prototype.isReactComponent={},b.prototype.setState=function(E,$){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,$,"setState")},b.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function O(){}O.prototype=b.prototype;function U(E,$,le){this.props=E,this.context=$,this.refs=S,this.updater=le||P}var k=U.prototype=new O;k.constructor=U,A(k,b.prototype),k.isPureReactComponent=!0;var F=Array.isArray,X=Object.prototype.hasOwnProperty,G={current:null},ae={key:!0,ref:!0,__self:!0,__source:!0};function ce(E,$,le){var oe,he={},me=null,ge=null;if($!=null)for(oe in $.ref!==void 0&&(ge=$.ref),$.key!==void 0&&(me=""+$.key),$)X.call($,oe)&&!ae.hasOwnProperty(oe)&&(he[oe]=$[oe]);var fe=arguments.length-2;if(fe===1)he.children=le;else if(1<fe){for(var je=Array(fe),lt=0;lt<fe;lt++)je[lt]=arguments[lt+2];he.children=je}if(E&&E.defaultProps)for(oe in fe=E.defaultProps,fe)he[oe]===void 0&&(he[oe]=fe[oe]);return{$$typeof:l,type:E,key:me,ref:ge,props:he,_owner:G.current}}function de(E,$){return{$$typeof:l,type:E.type,key:$,ref:E.ref,props:E.props,_owner:E._owner}}function Qe(E){return typeof E=="object"&&E!==null&&E.$$typeof===l}function bt(E){var $={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(le){return $[le]})}var Ue=/\/+/g;function Le(E,$){return typeof E=="object"&&E!==null&&E.key!=null?bt(""+E.key):$.toString(36)}function wt(E,$,le,oe,he){var me=typeof E;(me==="undefined"||me==="boolean")&&(E=null);var ge=!1;if(E===null)ge=!0;else switch(me){case"string":case"number":ge=!0;break;case"object":switch(E.$$typeof){case l:case s:ge=!0}}if(ge)return ge=E,he=he(ge),E=oe===""?"."+Le(ge,0):oe,F(he)?(le="",E!=null&&(le=E.replace(Ue,"$&/")+"/"),wt(he,$,le,"",function(lt){return lt})):he!=null&&(Qe(he)&&(he=de(he,le+(!he.key||ge&&ge.key===he.key?"":(""+he.key).replace(Ue,"$&/")+"/")+E)),$.push(he)),1;if(ge=0,oe=oe===""?".":oe+":",F(E))for(var fe=0;fe<E.length;fe++){me=E[fe];var je=oe+Le(me,fe);ge+=wt(me,$,le,je,he)}else if(je=N(E),typeof je=="function")for(E=je.call(E),fe=0;!(me=E.next()).done;)me=me.value,je=oe+Le(me,fe++),ge+=wt(me,$,le,je,he);else if(me==="object")throw $=String(E),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return ge}function Dt(E,$,le){if(E==null)return E;var oe=[],he=0;return wt(E,oe,"","",function(me){return $.call(le,me,he++)}),oe}function Ze(E){if(E._status===-1){var $=E._result;$=$(),$.then(function(le){(E._status===0||E._status===-1)&&(E._status=1,E._result=le)},function(le){(E._status===0||E._status===-1)&&(E._status=2,E._result=le)}),E._status===-1&&(E._status=0,E._result=$)}if(E._status===1)return E._result.default;throw E._result}var Ee={current:null},B={transition:null},se={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:B,ReactCurrentOwner:G};function q(){throw Error("act(...) is not supported in production builds of React.")}return ie.Children={map:Dt,forEach:function(E,$,le){Dt(E,function(){$.apply(this,arguments)},le)},count:function(E){var $=0;return Dt(E,function(){$++}),$},toArray:function(E){return Dt(E,function($){return $})||[]},only:function(E){if(!Qe(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},ie.Component=b,ie.Fragment=n,ie.Profiler=c,ie.PureComponent=U,ie.StrictMode=i,ie.Suspense=p,ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,ie.act=q,ie.cloneElement=function(E,$,le){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var oe=A({},E.props),he=E.key,me=E.ref,ge=E._owner;if($!=null){if($.ref!==void 0&&(me=$.ref,ge=G.current),$.key!==void 0&&(he=""+$.key),E.type&&E.type.defaultProps)var fe=E.type.defaultProps;for(je in $)X.call($,je)&&!ae.hasOwnProperty(je)&&(oe[je]=$[je]===void 0&&fe!==void 0?fe[je]:$[je])}var je=arguments.length-2;if(je===1)oe.children=le;else if(1<je){fe=Array(je);for(var lt=0;lt<je;lt++)fe[lt]=arguments[lt+2];oe.children=fe}return{$$typeof:l,type:E.type,key:he,ref:me,props:oe,_owner:ge}},ie.createContext=function(E){return E={$$typeof:m,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:d,_context:E},E.Consumer=E},ie.createElement=ce,ie.createFactory=function(E){var $=ce.bind(null,E);return $.type=E,$},ie.createRef=function(){return{current:null}},ie.forwardRef=function(E){return{$$typeof:f,render:E}},ie.isValidElement=Qe,ie.lazy=function(E){return{$$typeof:v,_payload:{_status:-1,_result:E},_init:Ze}},ie.memo=function(E,$){return{$$typeof:g,type:E,compare:$===void 0?null:$}},ie.startTransition=function(E){var $=B.transition;B.transition={};try{E()}finally{B.transition=$}},ie.unstable_act=q,ie.useCallback=function(E,$){return Ee.current.useCallback(E,$)},ie.useContext=function(E){return Ee.current.useContext(E)},ie.useDebugValue=function(){},ie.useDeferredValue=function(E){return Ee.current.useDeferredValue(E)},ie.useEffect=function(E,$){return Ee.current.useEffect(E,$)},ie.useId=function(){return Ee.current.useId()},ie.useImperativeHandle=function(E,$,le){return Ee.current.useImperativeHandle(E,$,le)},ie.useInsertionEffect=function(E,$){return Ee.current.useInsertionEffect(E,$)},ie.useLayoutEffect=function(E,$){return Ee.current.useLayoutEffect(E,$)},ie.useMemo=function(E,$){return Ee.current.useMemo(E,$)},ie.useReducer=function(E,$,le){return Ee.current.useReducer(E,$,le)},ie.useRef=function(E){return Ee.current.useRef(E)},ie.useState=function(E){return Ee.current.useState(E)},ie.useSyncExternalStore=function(E,$,le){return Ee.current.useSyncExternalStore(E,$,le)},ie.useTransition=function(){return Ee.current.useTransition()},ie.version="18.3.1",ie}var Md;function Eo(){return Md||(Md=1,to.exports=ap()),to.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zd;function lp(){if(zd)return gn;zd=1;var l=Eo(),s=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,c=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function m(f,p,g){var v,w={},N=null,P=null;g!==void 0&&(N=""+g),p.key!==void 0&&(N=""+p.key),p.ref!==void 0&&(P=p.ref);for(v in p)i.call(p,v)&&!d.hasOwnProperty(v)&&(w[v]=p[v]);if(f&&f.defaultProps)for(v in p=f.defaultProps,p)w[v]===void 0&&(w[v]=p[v]);return{$$typeof:s,type:f,key:N,ref:P,props:w,_owner:c.current}}return gn.Fragment=n,gn.jsx=m,gn.jsxs=m,gn}var Fd;function ip(){return Fd||(Fd=1,eo.exports=lp()),eo.exports}var t=ip(),Va={},ro={exports:{}},at={},so={exports:{}},no={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bd;function op(){return Bd||(Bd=1,(function(l){function s(B,se){var q=B.length;B.push(se);e:for(;0<q;){var E=q-1>>>1,$=B[E];if(0<c($,se))B[E]=se,B[q]=$,q=E;else break e}}function n(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var se=B[0],q=B.pop();if(q!==se){B[0]=q;e:for(var E=0,$=B.length,le=$>>>1;E<le;){var oe=2*(E+1)-1,he=B[oe],me=oe+1,ge=B[me];if(0>c(he,q))me<$&&0>c(ge,he)?(B[E]=ge,B[me]=q,E=me):(B[E]=he,B[oe]=q,E=oe);else if(me<$&&0>c(ge,q))B[E]=ge,B[me]=q,E=me;else break e}}return se}function c(B,se){var q=B.sortIndex-se.sortIndex;return q!==0?q:B.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;l.unstable_now=function(){return d.now()}}else{var m=Date,f=m.now();l.unstable_now=function(){return m.now()-f}}var p=[],g=[],v=1,w=null,N=3,P=!1,A=!1,S=!1,b=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(B){for(var se=n(g);se!==null;){if(se.callback===null)i(g);else if(se.startTime<=B)i(g),se.sortIndex=se.expirationTime,s(p,se);else break;se=n(g)}}function F(B){if(S=!1,k(B),!A)if(n(p)!==null)A=!0,Ze(X);else{var se=n(g);se!==null&&Ee(F,se.startTime-B)}}function X(B,se){A=!1,S&&(S=!1,O(ce),ce=-1),P=!0;var q=N;try{for(k(se),w=n(p);w!==null&&(!(w.expirationTime>se)||B&&!bt());){var E=w.callback;if(typeof E=="function"){w.callback=null,N=w.priorityLevel;var $=E(w.expirationTime<=se);se=l.unstable_now(),typeof $=="function"?w.callback=$:w===n(p)&&i(p),k(se)}else i(p);w=n(p)}if(w!==null)var le=!0;else{var oe=n(g);oe!==null&&Ee(F,oe.startTime-se),le=!1}return le}finally{w=null,N=q,P=!1}}var G=!1,ae=null,ce=-1,de=5,Qe=-1;function bt(){return!(l.unstable_now()-Qe<de)}function Ue(){if(ae!==null){var B=l.unstable_now();Qe=B;var se=!0;try{se=ae(!0,B)}finally{se?Le():(G=!1,ae=null)}}else G=!1}var Le;if(typeof U=="function")Le=function(){U(Ue)};else if(typeof MessageChannel<"u"){var wt=new MessageChannel,Dt=wt.port2;wt.port1.onmessage=Ue,Le=function(){Dt.postMessage(null)}}else Le=function(){b(Ue,0)};function Ze(B){ae=B,G||(G=!0,Le())}function Ee(B,se){ce=b(function(){B(l.unstable_now())},se)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(B){B.callback=null},l.unstable_continueExecution=function(){A||P||(A=!0,Ze(X))},l.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<B?Math.floor(1e3/B):5},l.unstable_getCurrentPriorityLevel=function(){return N},l.unstable_getFirstCallbackNode=function(){return n(p)},l.unstable_next=function(B){switch(N){case 1:case 2:case 3:var se=3;break;default:se=N}var q=N;N=se;try{return B()}finally{N=q}},l.unstable_pauseExecution=function(){},l.unstable_requestPaint=function(){},l.unstable_runWithPriority=function(B,se){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var q=N;N=B;try{return se()}finally{N=q}},l.unstable_scheduleCallback=function(B,se,q){var E=l.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?E+q:E):q=E,B){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=q+$,B={id:v++,callback:se,priorityLevel:B,startTime:q,expirationTime:$,sortIndex:-1},q>E?(B.sortIndex=q,s(g,B),n(p)===null&&B===n(g)&&(S?(O(ce),ce=-1):S=!0,Ee(F,q-E))):(B.sortIndex=$,s(p,B),A||P||(A=!0,Ze(X))),B},l.unstable_shouldYield=bt,l.unstable_wrapCallback=function(B){var se=N;return function(){var q=N;N=se;try{return B.apply(this,arguments)}finally{N=q}}}})(no)),no}var Vd;function cp(){return Vd||(Vd=1,so.exports=op()),so.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wd;function up(){if(Wd)return at;Wd=1;var l=Eo(),s=cp();function n(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,c={};function d(e,r){m(e,r),m(e+"Capture",r)}function m(e,r){for(c[e]=r,e=0;e<r.length;e++)i.add(r[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function N(e){return p.call(w,e)?!0:p.call(v,e)?!1:g.test(e)?w[e]=!0:(v[e]=!0,!1)}function P(e,r,a,o){if(a!==null&&a.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return o?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function A(e,r,a,o){if(r===null||typeof r>"u"||P(e,r,a,o))return!0;if(o)return!1;if(a!==null)switch(a.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function S(e,r,a,o,u,h,x){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=o,this.attributeNamespace=u,this.mustUseProperty=a,this.propertyName=e,this.type=r,this.sanitizeURL=h,this.removeEmptyString=x}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){b[e]=new S(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];b[r]=new S(r,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){b[e]=new S(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){b[e]=new S(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){b[e]=new S(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){b[e]=new S(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){b[e]=new S(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){b[e]=new S(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){b[e]=new S(e,5,!1,e.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function U(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(O,U);b[r]=new S(r,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(O,U);b[r]=new S(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(O,U);b[r]=new S(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){b[e]=new S(e,1,!1,e.toLowerCase(),null,!1,!1)}),b.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){b[e]=new S(e,1,!1,e.toLowerCase(),null,!0,!0)});function k(e,r,a,o){var u=b.hasOwnProperty(r)?b[r]:null;(u!==null?u.type!==0:o||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(A(r,a,u,o)&&(a=null),o||u===null?N(r)&&(a===null?e.removeAttribute(r):e.setAttribute(r,""+a)):u.mustUseProperty?e[u.propertyName]=a===null?u.type===3?!1:"":a:(r=u.attributeName,o=u.attributeNamespace,a===null?e.removeAttribute(r):(u=u.type,a=u===3||u===4&&a===!0?"":""+a,o?e.setAttributeNS(o,r,a):e.setAttribute(r,a))))}var F=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),G=Symbol.for("react.portal"),ae=Symbol.for("react.fragment"),ce=Symbol.for("react.strict_mode"),de=Symbol.for("react.profiler"),Qe=Symbol.for("react.provider"),bt=Symbol.for("react.context"),Ue=Symbol.for("react.forward_ref"),Le=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),Dt=Symbol.for("react.memo"),Ze=Symbol.for("react.lazy"),Ee=Symbol.for("react.offscreen"),B=Symbol.iterator;function se(e){return e===null||typeof e!="object"?null:(e=B&&e[B]||e["@@iterator"],typeof e=="function"?e:null)}var q=Object.assign,E;function $(e){if(E===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);E=r&&r[1]||""}return`
`+E+e}var le=!1;function oe(e,r){if(!e||le)return"";le=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(R){var o=R}Reflect.construct(e,[],r)}else{try{r.call()}catch(R){o=R}e.call(r.prototype)}else{try{throw Error()}catch(R){o=R}e()}}catch(R){if(R&&o&&typeof R.stack=="string"){for(var u=R.stack.split(`
`),h=o.stack.split(`
`),x=u.length-1,y=h.length-1;1<=x&&0<=y&&u[x]!==h[y];)y--;for(;1<=x&&0<=y;x--,y--)if(u[x]!==h[y]){if(x!==1||y!==1)do if(x--,y--,0>y||u[x]!==h[y]){var j=`
`+u[x].replace(" at new "," at ");return e.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",e.displayName)),j}while(1<=x&&0<=y);break}}}finally{le=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?$(e):""}function he(e){switch(e.tag){case 5:return $(e.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return e=oe(e.type,!1),e;case 11:return e=oe(e.type.render,!1),e;case 1:return e=oe(e.type,!0),e;default:return""}}function me(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ae:return"Fragment";case G:return"Portal";case de:return"Profiler";case ce:return"StrictMode";case Le:return"Suspense";case wt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case bt:return(e.displayName||"Context")+".Consumer";case Qe:return(e._context.displayName||"Context")+".Provider";case Ue:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Dt:return r=e.displayName||null,r!==null?r:me(e.type)||"Memo";case Ze:r=e._payload,e=e._init;try{return me(e(r))}catch{}}return null}function ge(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(r);case 8:return r===ce?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function fe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function je(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function lt(e){var r=je(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),o=""+e[r];if(!e.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var u=a.get,h=a.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return u.call(this)},set:function(x){o=""+x,h.call(this,x)}}),Object.defineProperty(e,r,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(x){o=""+x},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function On(e){e._valueTracker||(e._valueTracker=lt(e))}function Wo(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),o="";return e&&(o=je(e)?e.checked?"true":"false":e.value),e=o,e!==a?(r.setValue(e),!0):!1}function In(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function il(e,r){var a=r.checked;return q({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function qo(e,r){var a=r.defaultValue==null?"":r.defaultValue,o=r.checked!=null?r.checked:r.defaultChecked;a=fe(r.value!=null?r.value:a),e._wrapperState={initialChecked:o,initialValue:a,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Ho(e,r){r=r.checked,r!=null&&k(e,"checked",r,!1)}function ol(e,r){Ho(e,r);var a=fe(r.value),o=r.type;if(a!=null)o==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?cl(e,r.type,a):r.hasOwnProperty("defaultValue")&&cl(e,r.type,fe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function Ko(e,r,a){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var o=r.type;if(!(o!=="submit"&&o!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,a||r===e.value||(e.value=r),e.defaultValue=r}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function cl(e,r,a){(r!=="number"||In(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var Ps=Array.isArray;function Wr(e,r,a,o){if(e=e.options,r){r={};for(var u=0;u<a.length;u++)r["$"+a[u]]=!0;for(a=0;a<e.length;a++)u=r.hasOwnProperty("$"+e[a].value),e[a].selected!==u&&(e[a].selected=u),u&&o&&(e[a].defaultSelected=!0)}else{for(a=""+fe(a),r=null,u=0;u<e.length;u++){if(e[u].value===a){e[u].selected=!0,o&&(e[u].defaultSelected=!0);return}r!==null||e[u].disabled||(r=e[u])}r!==null&&(r.selected=!0)}}function ul(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return q({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Go(e,r){var a=r.value;if(a==null){if(a=r.children,r=r.defaultValue,a!=null){if(r!=null)throw Error(n(92));if(Ps(a)){if(1<a.length)throw Error(n(93));a=a[0]}r=a}r==null&&(r=""),a=r}e._wrapperState={initialValue:fe(a)}}function Jo(e,r){var a=fe(r.value),o=fe(r.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),r.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),o!=null&&(e.defaultValue=""+o)}function Qo(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function Yo(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dl(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?Yo(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $n,Xo=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,a,o,u){MSApp.execUnsafeLocalFunction(function(){return e(r,a,o,u)})}:e})(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for($n=$n||document.createElement("div"),$n.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=$n.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function Rs(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var Os={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},o0=["Webkit","ms","Moz","O"];Object.keys(Os).forEach(function(e){o0.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),Os[r]=Os[e]})});function Zo(e,r,a){return r==null||typeof r=="boolean"||r===""?"":a||typeof r!="number"||r===0||Os.hasOwnProperty(e)&&Os[e]?(""+r).trim():r+"px"}function ec(e,r){e=e.style;for(var a in r)if(r.hasOwnProperty(a)){var o=a.indexOf("--")===0,u=Zo(a,r[a],o);a==="float"&&(a="cssFloat"),o?e.setProperty(a,u):e[a]=u}}var c0=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hl(e,r){if(r){if(c0[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function ml(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pl=null;function fl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xl=null,qr=null,Hr=null;function tc(e){if(e=tn(e)){if(typeof xl!="function")throw Error(n(280));var r=e.stateNode;r&&(r=na(r),xl(e.stateNode,e.type,r))}}function rc(e){qr?Hr?Hr.push(e):Hr=[e]:qr=e}function sc(){if(qr){var e=qr,r=Hr;if(Hr=qr=null,tc(e),r)for(e=0;e<r.length;e++)tc(r[e])}}function nc(e,r){return e(r)}function ac(){}var gl=!1;function lc(e,r,a){if(gl)return e(r,a);gl=!0;try{return nc(e,r,a)}finally{gl=!1,(qr!==null||Hr!==null)&&(ac(),sc())}}function Is(e,r){var a=e.stateNode;if(a===null)return null;var o=na(a);if(o===null)return null;a=o[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(n(231,r,typeof a));return a}var vl=!1;if(f)try{var $s={};Object.defineProperty($s,"passive",{get:function(){vl=!0}}),window.addEventListener("test",$s,$s),window.removeEventListener("test",$s,$s)}catch{vl=!1}function u0(e,r,a,o,u,h,x,y,j){var R=Array.prototype.slice.call(arguments,3);try{r.apply(a,R)}catch(D){this.onError(D)}}var Ds=!1,Dn=null,Un=!1,yl=null,d0={onError:function(e){Ds=!0,Dn=e}};function h0(e,r,a,o,u,h,x,y,j){Ds=!1,Dn=null,u0.apply(d0,arguments)}function m0(e,r,a,o,u,h,x,y,j){if(h0.apply(this,arguments),Ds){if(Ds){var R=Dn;Ds=!1,Dn=null}else throw Error(n(198));Un||(Un=!0,yl=R)}}function Nr(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function ic(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function oc(e){if(Nr(e)!==e)throw Error(n(188))}function p0(e){var r=e.alternate;if(!r){if(r=Nr(e),r===null)throw Error(n(188));return r!==e?null:e}for(var a=e,o=r;;){var u=a.return;if(u===null)break;var h=u.alternate;if(h===null){if(o=u.return,o!==null){a=o;continue}break}if(u.child===h.child){for(h=u.child;h;){if(h===a)return oc(u),e;if(h===o)return oc(u),r;h=h.sibling}throw Error(n(188))}if(a.return!==o.return)a=u,o=h;else{for(var x=!1,y=u.child;y;){if(y===a){x=!0,a=u,o=h;break}if(y===o){x=!0,o=u,a=h;break}y=y.sibling}if(!x){for(y=h.child;y;){if(y===a){x=!0,a=h,o=u;break}if(y===o){x=!0,o=h,a=u;break}y=y.sibling}if(!x)throw Error(n(189))}}if(a.alternate!==o)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?e:r}function cc(e){return e=p0(e),e!==null?uc(e):null}function uc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=uc(e);if(r!==null)return r;e=e.sibling}return null}var dc=s.unstable_scheduleCallback,hc=s.unstable_cancelCallback,f0=s.unstable_shouldYield,x0=s.unstable_requestPaint,Te=s.unstable_now,g0=s.unstable_getCurrentPriorityLevel,bl=s.unstable_ImmediatePriority,mc=s.unstable_UserBlockingPriority,Ln=s.unstable_NormalPriority,v0=s.unstable_LowPriority,pc=s.unstable_IdlePriority,Mn=null,Ut=null;function y0(e){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Mn,e,void 0,(e.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:j0,b0=Math.log,w0=Math.LN2;function j0(e){return e>>>=0,e===0?32:31-(b0(e)/w0|0)|0}var zn=64,Fn=4194304;function Us(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Bn(e,r){var a=e.pendingLanes;if(a===0)return 0;var o=0,u=e.suspendedLanes,h=e.pingedLanes,x=a&268435455;if(x!==0){var y=x&~u;y!==0?o=Us(y):(h&=x,h!==0&&(o=Us(h)))}else x=a&~u,x!==0?o=Us(x):h!==0&&(o=Us(h));if(o===0)return 0;if(r!==0&&r!==o&&(r&u)===0&&(u=o&-o,h=r&-r,u>=h||u===16&&(h&4194240)!==0))return r;if((o&4)!==0&&(o|=a&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=o;0<r;)a=31-jt(r),u=1<<a,o|=e[a],r&=~u;return o}function N0(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function k0(e,r){for(var a=e.suspendedLanes,o=e.pingedLanes,u=e.expirationTimes,h=e.pendingLanes;0<h;){var x=31-jt(h),y=1<<x,j=u[x];j===-1?((y&a)===0||(y&o)!==0)&&(u[x]=N0(y,r)):j<=r&&(e.expiredLanes|=y),h&=~y}}function wl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function fc(){var e=zn;return zn<<=1,(zn&4194240)===0&&(zn=64),e}function jl(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function Ls(e,r,a){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-jt(r),e[r]=a}function _0(e,r){var a=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<a;){var u=31-jt(a),h=1<<u;r[u]=0,o[u]=-1,e[u]=-1,a&=~h}}function Nl(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var o=31-jt(a),u=1<<o;u&r|e[o]&r&&(e[o]|=r),a&=~u}}var xe=0;function xc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var gc,kl,vc,yc,bc,_l=!1,Vn=[],tr=null,rr=null,sr=null,Ms=new Map,zs=new Map,nr=[],S0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wc(e,r){switch(e){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":Ms.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":zs.delete(r.pointerId)}}function Fs(e,r,a,o,u,h){return e===null||e.nativeEvent!==h?(e={blockedOn:r,domEventName:a,eventSystemFlags:o,nativeEvent:h,targetContainers:[u]},r!==null&&(r=tn(r),r!==null&&kl(r)),e):(e.eventSystemFlags|=o,r=e.targetContainers,u!==null&&r.indexOf(u)===-1&&r.push(u),e)}function E0(e,r,a,o,u){switch(r){case"focusin":return tr=Fs(tr,e,r,a,o,u),!0;case"dragenter":return rr=Fs(rr,e,r,a,o,u),!0;case"mouseover":return sr=Fs(sr,e,r,a,o,u),!0;case"pointerover":var h=u.pointerId;return Ms.set(h,Fs(Ms.get(h)||null,e,r,a,o,u)),!0;case"gotpointercapture":return h=u.pointerId,zs.set(h,Fs(zs.get(h)||null,e,r,a,o,u)),!0}return!1}function jc(e){var r=kr(e.target);if(r!==null){var a=Nr(r);if(a!==null){if(r=a.tag,r===13){if(r=ic(a),r!==null){e.blockedOn=r,bc(e.priority,function(){vc(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wn(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=El(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);pl=o,a.target.dispatchEvent(o),pl=null}else return r=tn(a),r!==null&&kl(r),e.blockedOn=a,!1;r.shift()}return!0}function Nc(e,r,a){Wn(e)&&a.delete(r)}function C0(){_l=!1,tr!==null&&Wn(tr)&&(tr=null),rr!==null&&Wn(rr)&&(rr=null),sr!==null&&Wn(sr)&&(sr=null),Ms.forEach(Nc),zs.forEach(Nc)}function Bs(e,r){e.blockedOn===r&&(e.blockedOn=null,_l||(_l=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,C0)))}function Vs(e){function r(u){return Bs(u,e)}if(0<Vn.length){Bs(Vn[0],e);for(var a=1;a<Vn.length;a++){var o=Vn[a];o.blockedOn===e&&(o.blockedOn=null)}}for(tr!==null&&Bs(tr,e),rr!==null&&Bs(rr,e),sr!==null&&Bs(sr,e),Ms.forEach(r),zs.forEach(r),a=0;a<nr.length;a++)o=nr[a],o.blockedOn===e&&(o.blockedOn=null);for(;0<nr.length&&(a=nr[0],a.blockedOn===null);)jc(a),a.blockedOn===null&&nr.shift()}var Kr=F.ReactCurrentBatchConfig,qn=!0;function A0(e,r,a,o){var u=xe,h=Kr.transition;Kr.transition=null;try{xe=1,Sl(e,r,a,o)}finally{xe=u,Kr.transition=h}}function T0(e,r,a,o){var u=xe,h=Kr.transition;Kr.transition=null;try{xe=4,Sl(e,r,a,o)}finally{xe=u,Kr.transition=h}}function Sl(e,r,a,o){if(qn){var u=El(e,r,a,o);if(u===null)Wl(e,r,o,Hn,a),wc(e,o);else if(E0(u,e,r,a,o))o.stopPropagation();else if(wc(e,o),r&4&&-1<S0.indexOf(e)){for(;u!==null;){var h=tn(u);if(h!==null&&gc(h),h=El(e,r,a,o),h===null&&Wl(e,r,o,Hn,a),h===u)break;u=h}u!==null&&o.stopPropagation()}else Wl(e,r,o,null,a)}}var Hn=null;function El(e,r,a,o){if(Hn=null,e=fl(o),e=kr(e),e!==null)if(r=Nr(e),r===null)e=null;else if(a=r.tag,a===13){if(e=ic(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return Hn=e,null}function kc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(g0()){case bl:return 1;case mc:return 4;case Ln:case v0:return 16;case pc:return 536870912;default:return 16}default:return 16}}var ar=null,Cl=null,Kn=null;function _c(){if(Kn)return Kn;var e,r=Cl,a=r.length,o,u="value"in ar?ar.value:ar.textContent,h=u.length;for(e=0;e<a&&r[e]===u[e];e++);var x=a-e;for(o=1;o<=x&&r[a-o]===u[h-o];o++);return Kn=u.slice(e,1<o?1-o:void 0)}function Gn(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Jn(){return!0}function Sc(){return!1}function it(e){function r(a,o,u,h,x){this._reactName=a,this._targetInst=u,this.type=o,this.nativeEvent=h,this.target=x,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(a=e[y],this[y]=a?a(h):h[y]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Jn:Sc,this.isPropagationStopped=Sc,this}return q(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Jn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Jn)},persist:function(){},isPersistent:Jn}),r}var Gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Al=it(Gr),Ws=q({},Gr,{view:0,detail:0}),P0=it(Ws),Tl,Pl,qs,Qn=q({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ol,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qs&&(qs&&e.type==="mousemove"?(Tl=e.screenX-qs.screenX,Pl=e.screenY-qs.screenY):Pl=Tl=0,qs=e),Tl)},movementY:function(e){return"movementY"in e?e.movementY:Pl}}),Ec=it(Qn),R0=q({},Qn,{dataTransfer:0}),O0=it(R0),I0=q({},Ws,{relatedTarget:0}),Rl=it(I0),$0=q({},Gr,{animationName:0,elapsedTime:0,pseudoElement:0}),D0=it($0),U0=q({},Gr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),L0=it(U0),M0=q({},Gr,{data:0}),Cc=it(M0),z0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},F0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function V0(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=B0[e])?!!r[e]:!1}function Ol(){return V0}var W0=q({},Ws,{key:function(e){if(e.key){var r=z0[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=Gn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?F0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ol,charCode:function(e){return e.type==="keypress"?Gn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),q0=it(W0),H0=q({},Qn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ac=it(H0),K0=q({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ol}),G0=it(K0),J0=q({},Gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q0=it(J0),Y0=q({},Qn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),X0=it(Y0),Z0=[9,13,27,32],Il=f&&"CompositionEvent"in window,Hs=null;f&&"documentMode"in document&&(Hs=document.documentMode);var em=f&&"TextEvent"in window&&!Hs,Tc=f&&(!Il||Hs&&8<Hs&&11>=Hs),Pc=" ",Rc=!1;function Oc(e,r){switch(e){case"keyup":return Z0.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ic(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jr=!1;function tm(e,r){switch(e){case"compositionend":return Ic(r);case"keypress":return r.which!==32?null:(Rc=!0,Pc);case"textInput":return e=r.data,e===Pc&&Rc?null:e;default:return null}}function rm(e,r){if(Jr)return e==="compositionend"||!Il&&Oc(e,r)?(e=_c(),Kn=Cl=ar=null,Jr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Tc&&r.locale!=="ko"?null:r.data;default:return null}}var sm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $c(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!sm[e.type]:r==="textarea"}function Dc(e,r,a,o){rc(o),r=ta(r,"onChange"),0<r.length&&(a=new Al("onChange","change",null,a,o),e.push({event:a,listeners:r}))}var Ks=null,Gs=null;function nm(e){eu(e,0)}function Yn(e){var r=es(e);if(Wo(r))return e}function am(e,r){if(e==="change")return r}var Uc=!1;if(f){var $l;if(f){var Dl="oninput"in document;if(!Dl){var Lc=document.createElement("div");Lc.setAttribute("oninput","return;"),Dl=typeof Lc.oninput=="function"}$l=Dl}else $l=!1;Uc=$l&&(!document.documentMode||9<document.documentMode)}function Mc(){Ks&&(Ks.detachEvent("onpropertychange",zc),Gs=Ks=null)}function zc(e){if(e.propertyName==="value"&&Yn(Gs)){var r=[];Dc(r,Gs,e,fl(e)),lc(nm,r)}}function lm(e,r,a){e==="focusin"?(Mc(),Ks=r,Gs=a,Ks.attachEvent("onpropertychange",zc)):e==="focusout"&&Mc()}function im(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yn(Gs)}function om(e,r){if(e==="click")return Yn(r)}function cm(e,r){if(e==="input"||e==="change")return Yn(r)}function um(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Nt=typeof Object.is=="function"?Object.is:um;function Js(e,r){if(Nt(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),o=Object.keys(r);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var u=a[o];if(!p.call(r,u)||!Nt(e[u],r[u]))return!1}return!0}function Fc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bc(e,r){var a=Fc(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=r&&o>=r)return{node:a,offset:r-e};e=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Fc(a)}}function Vc(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Vc(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Wc(){for(var e=window,r=In();r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=In(e.document)}return r}function Ul(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function dm(e){var r=Wc(),a=e.focusedElem,o=e.selectionRange;if(r!==a&&a&&a.ownerDocument&&Vc(a.ownerDocument.documentElement,a)){if(o!==null&&Ul(a)){if(r=o.start,e=o.end,e===void 0&&(e=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(e,a.value.length);else if(e=(r=a.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var u=a.textContent.length,h=Math.min(o.start,u);o=o.end===void 0?h:Math.min(o.end,u),!e.extend&&h>o&&(u=o,o=h,h=u),u=Bc(a,h);var x=Bc(a,o);u&&x&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==x.node||e.focusOffset!==x.offset)&&(r=r.createRange(),r.setStart(u.node,u.offset),e.removeAllRanges(),h>o?(e.addRange(r),e.extend(x.node,x.offset)):(r.setEnd(x.node,x.offset),e.addRange(r)))}}for(r=[],e=a;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)e=r[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hm=f&&"documentMode"in document&&11>=document.documentMode,Qr=null,Ll=null,Qs=null,Ml=!1;function qc(e,r,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ml||Qr==null||Qr!==In(o)||(o=Qr,"selectionStart"in o&&Ul(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Qs&&Js(Qs,o)||(Qs=o,o=ta(Ll,"onSelect"),0<o.length&&(r=new Al("onSelect","select",null,r,a),e.push({event:r,listeners:o}),r.target=Qr)))}function Xn(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var Yr={animationend:Xn("Animation","AnimationEnd"),animationiteration:Xn("Animation","AnimationIteration"),animationstart:Xn("Animation","AnimationStart"),transitionend:Xn("Transition","TransitionEnd")},zl={},Hc={};f&&(Hc=document.createElement("div").style,"AnimationEvent"in window||(delete Yr.animationend.animation,delete Yr.animationiteration.animation,delete Yr.animationstart.animation),"TransitionEvent"in window||delete Yr.transitionend.transition);function Zn(e){if(zl[e])return zl[e];if(!Yr[e])return e;var r=Yr[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in Hc)return zl[e]=r[a];return e}var Kc=Zn("animationend"),Gc=Zn("animationiteration"),Jc=Zn("animationstart"),Qc=Zn("transitionend"),Yc=new Map,Xc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lr(e,r){Yc.set(e,r),d(r,[e])}for(var Fl=0;Fl<Xc.length;Fl++){var Bl=Xc[Fl],mm=Bl.toLowerCase(),pm=Bl[0].toUpperCase()+Bl.slice(1);lr(mm,"on"+pm)}lr(Kc,"onAnimationEnd"),lr(Gc,"onAnimationIteration"),lr(Jc,"onAnimationStart"),lr("dblclick","onDoubleClick"),lr("focusin","onFocus"),lr("focusout","onBlur"),lr(Qc,"onTransitionEnd"),m("onMouseEnter",["mouseout","mouseover"]),m("onMouseLeave",["mouseout","mouseover"]),m("onPointerEnter",["pointerout","pointerover"]),m("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ys="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ys));function Zc(e,r,a){var o=e.type||"unknown-event";e.currentTarget=a,m0(o,r,void 0,e),e.currentTarget=null}function eu(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],u=o.event;o=o.listeners;e:{var h=void 0;if(r)for(var x=o.length-1;0<=x;x--){var y=o[x],j=y.instance,R=y.currentTarget;if(y=y.listener,j!==h&&u.isPropagationStopped())break e;Zc(u,y,R),h=j}else for(x=0;x<o.length;x++){if(y=o[x],j=y.instance,R=y.currentTarget,y=y.listener,j!==h&&u.isPropagationStopped())break e;Zc(u,y,R),h=j}}}if(Un)throw e=yl,Un=!1,yl=null,e}function be(e,r){var a=r[Ql];a===void 0&&(a=r[Ql]=new Set);var o=e+"__bubble";a.has(o)||(tu(r,e,2,!1),a.add(o))}function Vl(e,r,a){var o=0;r&&(o|=4),tu(a,e,o,r)}var ea="_reactListening"+Math.random().toString(36).slice(2);function Xs(e){if(!e[ea]){e[ea]=!0,i.forEach(function(a){a!=="selectionchange"&&(fm.has(a)||Vl(a,!1,e),Vl(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[ea]||(r[ea]=!0,Vl("selectionchange",!1,r))}}function tu(e,r,a,o){switch(kc(r)){case 1:var u=A0;break;case 4:u=T0;break;default:u=Sl}a=u.bind(null,r,a,e),u=void 0,!vl||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(u=!0),o?u!==void 0?e.addEventListener(r,a,{capture:!0,passive:u}):e.addEventListener(r,a,!0):u!==void 0?e.addEventListener(r,a,{passive:u}):e.addEventListener(r,a,!1)}function Wl(e,r,a,o,u){var h=o;if((r&1)===0&&(r&2)===0&&o!==null)e:for(;;){if(o===null)return;var x=o.tag;if(x===3||x===4){var y=o.stateNode.containerInfo;if(y===u||y.nodeType===8&&y.parentNode===u)break;if(x===4)for(x=o.return;x!==null;){var j=x.tag;if((j===3||j===4)&&(j=x.stateNode.containerInfo,j===u||j.nodeType===8&&j.parentNode===u))return;x=x.return}for(;y!==null;){if(x=kr(y),x===null)return;if(j=x.tag,j===5||j===6){o=h=x;continue e}y=y.parentNode}}o=o.return}lc(function(){var R=h,D=fl(a),L=[];e:{var I=Yc.get(e);if(I!==void 0){var V=Al,H=e;switch(e){case"keypress":if(Gn(a)===0)break e;case"keydown":case"keyup":V=q0;break;case"focusin":H="focus",V=Rl;break;case"focusout":H="blur",V=Rl;break;case"beforeblur":case"afterblur":V=Rl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Ec;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=O0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=G0;break;case Kc:case Gc:case Jc:V=D0;break;case Qc:V=Q0;break;case"scroll":V=P0;break;case"wheel":V=X0;break;case"copy":case"cut":case"paste":V=L0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Ac}var K=(r&4)!==0,Pe=!K&&e==="scroll",C=K?I!==null?I+"Capture":null:I;K=[];for(var _=R,T;_!==null;){T=_;var M=T.stateNode;if(T.tag===5&&M!==null&&(T=M,C!==null&&(M=Is(_,C),M!=null&&K.push(Zs(_,M,T)))),Pe)break;_=_.return}0<K.length&&(I=new V(I,H,null,a,D),L.push({event:I,listeners:K}))}}if((r&7)===0){e:{if(I=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",I&&a!==pl&&(H=a.relatedTarget||a.fromElement)&&(kr(H)||H[Wt]))break e;if((V||I)&&(I=D.window===D?D:(I=D.ownerDocument)?I.defaultView||I.parentWindow:window,V?(H=a.relatedTarget||a.toElement,V=R,H=H?kr(H):null,H!==null&&(Pe=Nr(H),H!==Pe||H.tag!==5&&H.tag!==6)&&(H=null)):(V=null,H=R),V!==H)){if(K=Ec,M="onMouseLeave",C="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(K=Ac,M="onPointerLeave",C="onPointerEnter",_="pointer"),Pe=V==null?I:es(V),T=H==null?I:es(H),I=new K(M,_+"leave",V,a,D),I.target=Pe,I.relatedTarget=T,M=null,kr(D)===R&&(K=new K(C,_+"enter",H,a,D),K.target=T,K.relatedTarget=Pe,M=K),Pe=M,V&&H)t:{for(K=V,C=H,_=0,T=K;T;T=Xr(T))_++;for(T=0,M=C;M;M=Xr(M))T++;for(;0<_-T;)K=Xr(K),_--;for(;0<T-_;)C=Xr(C),T--;for(;_--;){if(K===C||C!==null&&K===C.alternate)break t;K=Xr(K),C=Xr(C)}K=null}else K=null;V!==null&&ru(L,I,V,K,!1),H!==null&&Pe!==null&&ru(L,Pe,H,K,!0)}}e:{if(I=R?es(R):window,V=I.nodeName&&I.nodeName.toLowerCase(),V==="select"||V==="input"&&I.type==="file")var J=am;else if($c(I))if(Uc)J=cm;else{J=im;var Z=lm}else(V=I.nodeName)&&V.toLowerCase()==="input"&&(I.type==="checkbox"||I.type==="radio")&&(J=om);if(J&&(J=J(e,R))){Dc(L,J,a,D);break e}Z&&Z(e,I,R),e==="focusout"&&(Z=I._wrapperState)&&Z.controlled&&I.type==="number"&&cl(I,"number",I.value)}switch(Z=R?es(R):window,e){case"focusin":($c(Z)||Z.contentEditable==="true")&&(Qr=Z,Ll=R,Qs=null);break;case"focusout":Qs=Ll=Qr=null;break;case"mousedown":Ml=!0;break;case"contextmenu":case"mouseup":case"dragend":Ml=!1,qc(L,a,D);break;case"selectionchange":if(hm)break;case"keydown":case"keyup":qc(L,a,D)}var ee;if(Il)e:{switch(e){case"compositionstart":var ne="onCompositionStart";break e;case"compositionend":ne="onCompositionEnd";break e;case"compositionupdate":ne="onCompositionUpdate";break e}ne=void 0}else Jr?Oc(e,a)&&(ne="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ne="onCompositionStart");ne&&(Tc&&a.locale!=="ko"&&(Jr||ne!=="onCompositionStart"?ne==="onCompositionEnd"&&Jr&&(ee=_c()):(ar=D,Cl="value"in ar?ar.value:ar.textContent,Jr=!0)),Z=ta(R,ne),0<Z.length&&(ne=new Cc(ne,e,null,a,D),L.push({event:ne,listeners:Z}),ee?ne.data=ee:(ee=Ic(a),ee!==null&&(ne.data=ee)))),(ee=em?tm(e,a):rm(e,a))&&(R=ta(R,"onBeforeInput"),0<R.length&&(D=new Cc("onBeforeInput","beforeinput",null,a,D),L.push({event:D,listeners:R}),D.data=ee))}eu(L,r)})}function Zs(e,r,a){return{instance:e,listener:r,currentTarget:a}}function ta(e,r){for(var a=r+"Capture",o=[];e!==null;){var u=e,h=u.stateNode;u.tag===5&&h!==null&&(u=h,h=Is(e,a),h!=null&&o.unshift(Zs(e,h,u)),h=Is(e,r),h!=null&&o.push(Zs(e,h,u))),e=e.return}return o}function Xr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ru(e,r,a,o,u){for(var h=r._reactName,x=[];a!==null&&a!==o;){var y=a,j=y.alternate,R=y.stateNode;if(j!==null&&j===o)break;y.tag===5&&R!==null&&(y=R,u?(j=Is(a,h),j!=null&&x.unshift(Zs(a,j,y))):u||(j=Is(a,h),j!=null&&x.push(Zs(a,j,y)))),a=a.return}x.length!==0&&e.push({event:r,listeners:x})}var xm=/\r\n?/g,gm=/\u0000|\uFFFD/g;function su(e){return(typeof e=="string"?e:""+e).replace(xm,`
`).replace(gm,"")}function ra(e,r,a){if(r=su(r),su(e)!==r&&a)throw Error(n(425))}function sa(){}var ql=null,Hl=null;function Kl(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Gl=typeof setTimeout=="function"?setTimeout:void 0,vm=typeof clearTimeout=="function"?clearTimeout:void 0,nu=typeof Promise=="function"?Promise:void 0,ym=typeof queueMicrotask=="function"?queueMicrotask:typeof nu<"u"?function(e){return nu.resolve(null).then(e).catch(bm)}:Gl;function bm(e){setTimeout(function(){throw e})}function Jl(e,r){var a=r,o=0;do{var u=a.nextSibling;if(e.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(o===0){e.removeChild(u),Vs(r);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=u}while(a);Vs(r)}function ir(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function au(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return e;r--}else a==="/$"&&r++}e=e.previousSibling}return null}var Zr=Math.random().toString(36).slice(2),Lt="__reactFiber$"+Zr,en="__reactProps$"+Zr,Wt="__reactContainer$"+Zr,Ql="__reactEvents$"+Zr,wm="__reactListeners$"+Zr,jm="__reactHandles$"+Zr;function kr(e){var r=e[Lt];if(r)return r;for(var a=e.parentNode;a;){if(r=a[Wt]||a[Lt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=au(e);e!==null;){if(a=e[Lt])return a;e=au(e)}return r}e=a,a=e.parentNode}return null}function tn(e){return e=e[Lt]||e[Wt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function es(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function na(e){return e[en]||null}var Yl=[],ts=-1;function or(e){return{current:e}}function we(e){0>ts||(e.current=Yl[ts],Yl[ts]=null,ts--)}function ve(e,r){ts++,Yl[ts]=e.current,e.current=r}var cr={},He=or(cr),et=or(!1),_r=cr;function rs(e,r){var a=e.type.contextTypes;if(!a)return cr;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===r)return o.__reactInternalMemoizedMaskedChildContext;var u={},h;for(h in a)u[h]=r[h];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=u),u}function tt(e){return e=e.childContextTypes,e!=null}function aa(){we(et),we(He)}function lu(e,r,a){if(He.current!==cr)throw Error(n(168));ve(He,r),ve(et,a)}function iu(e,r,a){var o=e.stateNode;if(r=r.childContextTypes,typeof o.getChildContext!="function")return a;o=o.getChildContext();for(var u in o)if(!(u in r))throw Error(n(108,ge(e)||"Unknown",u));return q({},a,o)}function la(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cr,_r=He.current,ve(He,e),ve(et,et.current),!0}function ou(e,r,a){var o=e.stateNode;if(!o)throw Error(n(169));a?(e=iu(e,r,_r),o.__reactInternalMemoizedMergedChildContext=e,we(et),we(He),ve(He,e)):we(et),ve(et,a)}var qt=null,ia=!1,Xl=!1;function cu(e){qt===null?qt=[e]:qt.push(e)}function Nm(e){ia=!0,cu(e)}function ur(){if(!Xl&&qt!==null){Xl=!0;var e=0,r=xe;try{var a=qt;for(xe=1;e<a.length;e++){var o=a[e];do o=o(!0);while(o!==null)}qt=null,ia=!1}catch(u){throw qt!==null&&(qt=qt.slice(e+1)),dc(bl,ur),u}finally{xe=r,Xl=!1}}return null}var ss=[],ns=0,oa=null,ca=0,pt=[],ft=0,Sr=null,Ht=1,Kt="";function Er(e,r){ss[ns++]=ca,ss[ns++]=oa,oa=e,ca=r}function uu(e,r,a){pt[ft++]=Ht,pt[ft++]=Kt,pt[ft++]=Sr,Sr=e;var o=Ht;e=Kt;var u=32-jt(o)-1;o&=~(1<<u),a+=1;var h=32-jt(r)+u;if(30<h){var x=u-u%5;h=(o&(1<<x)-1).toString(32),o>>=x,u-=x,Ht=1<<32-jt(r)+u|a<<u|o,Kt=h+e}else Ht=1<<h|a<<u|o,Kt=e}function Zl(e){e.return!==null&&(Er(e,1),uu(e,1,0))}function ei(e){for(;e===oa;)oa=ss[--ns],ss[ns]=null,ca=ss[--ns],ss[ns]=null;for(;e===Sr;)Sr=pt[--ft],pt[ft]=null,Kt=pt[--ft],pt[ft]=null,Ht=pt[--ft],pt[ft]=null}var ot=null,ct=null,Ne=!1,kt=null;function du(e,r){var a=yt(5,null,null,0);a.elementType="DELETED",a.stateNode=r,a.return=e,r=e.deletions,r===null?(e.deletions=[a],e.flags|=16):r.push(a)}function hu(e,r){switch(e.tag){case 5:var a=e.type;return r=r.nodeType!==1||a.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,ot=e,ct=ir(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,ot=e,ct=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(a=Sr!==null?{id:Ht,overflow:Kt}:null,e.memoizedState={dehydrated:r,treeContext:a,retryLane:1073741824},a=yt(18,null,null,0),a.stateNode=r,a.return=e,e.child=a,ot=e,ct=null,!0):!1;default:return!1}}function ti(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ri(e){if(Ne){var r=ct;if(r){var a=r;if(!hu(e,r)){if(ti(e))throw Error(n(418));r=ir(a.nextSibling);var o=ot;r&&hu(e,r)?du(o,a):(e.flags=e.flags&-4097|2,Ne=!1,ot=e)}}else{if(ti(e))throw Error(n(418));e.flags=e.flags&-4097|2,Ne=!1,ot=e}}}function mu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ot=e}function ua(e){if(e!==ot)return!1;if(!Ne)return mu(e),Ne=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!Kl(e.type,e.memoizedProps)),r&&(r=ct)){if(ti(e))throw pu(),Error(n(418));for(;r;)du(e,r),r=ir(r.nextSibling)}if(mu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(r===0){ct=ir(e.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++}e=e.nextSibling}ct=null}}else ct=ot?ir(e.stateNode.nextSibling):null;return!0}function pu(){for(var e=ct;e;)e=ir(e.nextSibling)}function as(){ct=ot=null,Ne=!1}function si(e){kt===null?kt=[e]:kt.push(e)}var km=F.ReactCurrentBatchConfig;function rn(e,r,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var o=a.stateNode}if(!o)throw Error(n(147,e));var u=o,h=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===h?r.ref:(r=function(x){var y=u.refs;x===null?delete y[h]:y[h]=x},r._stringRef=h,r)}if(typeof e!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,e))}return e}function da(e,r){throw e=Object.prototype.toString.call(r),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function fu(e){var r=e._init;return r(e._payload)}function xu(e){function r(C,_){if(e){var T=C.deletions;T===null?(C.deletions=[_],C.flags|=16):T.push(_)}}function a(C,_){if(!e)return null;for(;_!==null;)r(C,_),_=_.sibling;return null}function o(C,_){for(C=new Map;_!==null;)_.key!==null?C.set(_.key,_):C.set(_.index,_),_=_.sibling;return C}function u(C,_){return C=vr(C,_),C.index=0,C.sibling=null,C}function h(C,_,T){return C.index=T,e?(T=C.alternate,T!==null?(T=T.index,T<_?(C.flags|=2,_):T):(C.flags|=2,_)):(C.flags|=1048576,_)}function x(C){return e&&C.alternate===null&&(C.flags|=2),C}function y(C,_,T,M){return _===null||_.tag!==6?(_=Gi(T,C.mode,M),_.return=C,_):(_=u(_,T),_.return=C,_)}function j(C,_,T,M){var J=T.type;return J===ae?D(C,_,T.props.children,M,T.key):_!==null&&(_.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Ze&&fu(J)===_.type)?(M=u(_,T.props),M.ref=rn(C,_,T),M.return=C,M):(M=$a(T.type,T.key,T.props,null,C.mode,M),M.ref=rn(C,_,T),M.return=C,M)}function R(C,_,T,M){return _===null||_.tag!==4||_.stateNode.containerInfo!==T.containerInfo||_.stateNode.implementation!==T.implementation?(_=Ji(T,C.mode,M),_.return=C,_):(_=u(_,T.children||[]),_.return=C,_)}function D(C,_,T,M,J){return _===null||_.tag!==7?(_=$r(T,C.mode,M,J),_.return=C,_):(_=u(_,T),_.return=C,_)}function L(C,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Gi(""+_,C.mode,T),_.return=C,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case X:return T=$a(_.type,_.key,_.props,null,C.mode,T),T.ref=rn(C,null,_),T.return=C,T;case G:return _=Ji(_,C.mode,T),_.return=C,_;case Ze:var M=_._init;return L(C,M(_._payload),T)}if(Ps(_)||se(_))return _=$r(_,C.mode,T,null),_.return=C,_;da(C,_)}return null}function I(C,_,T,M){var J=_!==null?_.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return J!==null?null:y(C,_,""+T,M);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case X:return T.key===J?j(C,_,T,M):null;case G:return T.key===J?R(C,_,T,M):null;case Ze:return J=T._init,I(C,_,J(T._payload),M)}if(Ps(T)||se(T))return J!==null?null:D(C,_,T,M,null);da(C,T)}return null}function V(C,_,T,M,J){if(typeof M=="string"&&M!==""||typeof M=="number")return C=C.get(T)||null,y(_,C,""+M,J);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case X:return C=C.get(M.key===null?T:M.key)||null,j(_,C,M,J);case G:return C=C.get(M.key===null?T:M.key)||null,R(_,C,M,J);case Ze:var Z=M._init;return V(C,_,T,Z(M._payload),J)}if(Ps(M)||se(M))return C=C.get(T)||null,D(_,C,M,J,null);da(_,M)}return null}function H(C,_,T,M){for(var J=null,Z=null,ee=_,ne=_=0,Fe=null;ee!==null&&ne<T.length;ne++){ee.index>ne?(Fe=ee,ee=null):Fe=ee.sibling;var pe=I(C,ee,T[ne],M);if(pe===null){ee===null&&(ee=Fe);break}e&&ee&&pe.alternate===null&&r(C,ee),_=h(pe,_,ne),Z===null?J=pe:Z.sibling=pe,Z=pe,ee=Fe}if(ne===T.length)return a(C,ee),Ne&&Er(C,ne),J;if(ee===null){for(;ne<T.length;ne++)ee=L(C,T[ne],M),ee!==null&&(_=h(ee,_,ne),Z===null?J=ee:Z.sibling=ee,Z=ee);return Ne&&Er(C,ne),J}for(ee=o(C,ee);ne<T.length;ne++)Fe=V(ee,C,ne,T[ne],M),Fe!==null&&(e&&Fe.alternate!==null&&ee.delete(Fe.key===null?ne:Fe.key),_=h(Fe,_,ne),Z===null?J=Fe:Z.sibling=Fe,Z=Fe);return e&&ee.forEach(function(yr){return r(C,yr)}),Ne&&Er(C,ne),J}function K(C,_,T,M){var J=se(T);if(typeof J!="function")throw Error(n(150));if(T=J.call(T),T==null)throw Error(n(151));for(var Z=J=null,ee=_,ne=_=0,Fe=null,pe=T.next();ee!==null&&!pe.done;ne++,pe=T.next()){ee.index>ne?(Fe=ee,ee=null):Fe=ee.sibling;var yr=I(C,ee,pe.value,M);if(yr===null){ee===null&&(ee=Fe);break}e&&ee&&yr.alternate===null&&r(C,ee),_=h(yr,_,ne),Z===null?J=yr:Z.sibling=yr,Z=yr,ee=Fe}if(pe.done)return a(C,ee),Ne&&Er(C,ne),J;if(ee===null){for(;!pe.done;ne++,pe=T.next())pe=L(C,pe.value,M),pe!==null&&(_=h(pe,_,ne),Z===null?J=pe:Z.sibling=pe,Z=pe);return Ne&&Er(C,ne),J}for(ee=o(C,ee);!pe.done;ne++,pe=T.next())pe=V(ee,C,ne,pe.value,M),pe!==null&&(e&&pe.alternate!==null&&ee.delete(pe.key===null?ne:pe.key),_=h(pe,_,ne),Z===null?J=pe:Z.sibling=pe,Z=pe);return e&&ee.forEach(function(sp){return r(C,sp)}),Ne&&Er(C,ne),J}function Pe(C,_,T,M){if(typeof T=="object"&&T!==null&&T.type===ae&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case X:e:{for(var J=T.key,Z=_;Z!==null;){if(Z.key===J){if(J=T.type,J===ae){if(Z.tag===7){a(C,Z.sibling),_=u(Z,T.props.children),_.return=C,C=_;break e}}else if(Z.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Ze&&fu(J)===Z.type){a(C,Z.sibling),_=u(Z,T.props),_.ref=rn(C,Z,T),_.return=C,C=_;break e}a(C,Z);break}else r(C,Z);Z=Z.sibling}T.type===ae?(_=$r(T.props.children,C.mode,M,T.key),_.return=C,C=_):(M=$a(T.type,T.key,T.props,null,C.mode,M),M.ref=rn(C,_,T),M.return=C,C=M)}return x(C);case G:e:{for(Z=T.key;_!==null;){if(_.key===Z)if(_.tag===4&&_.stateNode.containerInfo===T.containerInfo&&_.stateNode.implementation===T.implementation){a(C,_.sibling),_=u(_,T.children||[]),_.return=C,C=_;break e}else{a(C,_);break}else r(C,_);_=_.sibling}_=Ji(T,C.mode,M),_.return=C,C=_}return x(C);case Ze:return Z=T._init,Pe(C,_,Z(T._payload),M)}if(Ps(T))return H(C,_,T,M);if(se(T))return K(C,_,T,M);da(C,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,_!==null&&_.tag===6?(a(C,_.sibling),_=u(_,T),_.return=C,C=_):(a(C,_),_=Gi(T,C.mode,M),_.return=C,C=_),x(C)):a(C,_)}return Pe}var ls=xu(!0),gu=xu(!1),ha=or(null),ma=null,is=null,ni=null;function ai(){ni=is=ma=null}function li(e){var r=ha.current;we(ha),e._currentValue=r}function ii(e,r,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,o!==null&&(o.childLanes|=r)):o!==null&&(o.childLanes&r)!==r&&(o.childLanes|=r),e===a)break;e=e.return}}function os(e,r){ma=e,ni=is=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&r)!==0&&(rt=!0),e.firstContext=null)}function xt(e){var r=e._currentValue;if(ni!==e)if(e={context:e,memoizedValue:r,next:null},is===null){if(ma===null)throw Error(n(308));is=e,ma.dependencies={lanes:0,firstContext:e}}else is=is.next=e;return r}var Cr=null;function oi(e){Cr===null?Cr=[e]:Cr.push(e)}function vu(e,r,a,o){var u=r.interleaved;return u===null?(a.next=a,oi(r)):(a.next=u.next,u.next=a),r.interleaved=a,Gt(e,o)}function Gt(e,r){e.lanes|=r;var a=e.alternate;for(a!==null&&(a.lanes|=r),a=e,e=e.return;e!==null;)e.childLanes|=r,a=e.alternate,a!==null&&(a.childLanes|=r),a=e,e=e.return;return a.tag===3?a.stateNode:null}var dr=!1;function ci(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yu(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jt(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function hr(e,r,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(ue&2)!==0){var u=o.pending;return u===null?r.next=r:(r.next=u.next,u.next=r),o.pending=r,Gt(e,a)}return u=o.interleaved,u===null?(r.next=r,oi(o)):(r.next=u.next,u.next=r),o.interleaved=r,Gt(e,a)}function pa(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194240)!==0)){var o=r.lanes;o&=e.pendingLanes,a|=o,r.lanes=a,Nl(e,a)}}function bu(e,r){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var u=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var x={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};h===null?u=h=x:h=h.next=x,a=a.next}while(a!==null);h===null?u=h=r:h=h.next=r}else u=h=r;a={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:h,shared:o.shared,effects:o.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}function fa(e,r,a,o){var u=e.updateQueue;dr=!1;var h=u.firstBaseUpdate,x=u.lastBaseUpdate,y=u.shared.pending;if(y!==null){u.shared.pending=null;var j=y,R=j.next;j.next=null,x===null?h=R:x.next=R,x=j;var D=e.alternate;D!==null&&(D=D.updateQueue,y=D.lastBaseUpdate,y!==x&&(y===null?D.firstBaseUpdate=R:y.next=R,D.lastBaseUpdate=j))}if(h!==null){var L=u.baseState;x=0,D=R=j=null,y=h;do{var I=y.lane,V=y.eventTime;if((o&I)===I){D!==null&&(D=D.next={eventTime:V,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var H=e,K=y;switch(I=r,V=a,K.tag){case 1:if(H=K.payload,typeof H=="function"){L=H.call(V,L,I);break e}L=H;break e;case 3:H.flags=H.flags&-65537|128;case 0:if(H=K.payload,I=typeof H=="function"?H.call(V,L,I):H,I==null)break e;L=q({},L,I);break e;case 2:dr=!0}}y.callback!==null&&y.lane!==0&&(e.flags|=64,I=u.effects,I===null?u.effects=[y]:I.push(y))}else V={eventTime:V,lane:I,tag:y.tag,payload:y.payload,callback:y.callback,next:null},D===null?(R=D=V,j=L):D=D.next=V,x|=I;if(y=y.next,y===null){if(y=u.shared.pending,y===null)break;I=y,y=I.next,I.next=null,u.lastBaseUpdate=I,u.shared.pending=null}}while(!0);if(D===null&&(j=L),u.baseState=j,u.firstBaseUpdate=R,u.lastBaseUpdate=D,r=u.shared.interleaved,r!==null){u=r;do x|=u.lane,u=u.next;while(u!==r)}else h===null&&(u.shared.lanes=0);Pr|=x,e.lanes=x,e.memoizedState=L}}function wu(e,r,a){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var o=e[r],u=o.callback;if(u!==null){if(o.callback=null,o=a,typeof u!="function")throw Error(n(191,u));u.call(o)}}}var sn={},Mt=or(sn),nn=or(sn),an=or(sn);function Ar(e){if(e===sn)throw Error(n(174));return e}function ui(e,r){switch(ve(an,r),ve(nn,e),ve(Mt,sn),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:dl(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=dl(r,e)}we(Mt),ve(Mt,r)}function cs(){we(Mt),we(nn),we(an)}function ju(e){Ar(an.current);var r=Ar(Mt.current),a=dl(r,e.type);r!==a&&(ve(nn,e),ve(Mt,a))}function di(e){nn.current===e&&(we(Mt),we(nn))}var ke=or(0);function xa(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var hi=[];function mi(){for(var e=0;e<hi.length;e++)hi[e]._workInProgressVersionPrimary=null;hi.length=0}var ga=F.ReactCurrentDispatcher,pi=F.ReactCurrentBatchConfig,Tr=0,_e=null,Ie=null,Me=null,va=!1,ln=!1,on=0,_m=0;function Ke(){throw Error(n(321))}function fi(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!Nt(e[a],r[a]))return!1;return!0}function xi(e,r,a,o,u,h){if(Tr=h,_e=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ga.current=e===null||e.memoizedState===null?Am:Tm,e=a(o,u),ln){h=0;do{if(ln=!1,on=0,25<=h)throw Error(n(301));h+=1,Me=Ie=null,r.updateQueue=null,ga.current=Pm,e=a(o,u)}while(ln)}if(ga.current=wa,r=Ie!==null&&Ie.next!==null,Tr=0,Me=Ie=_e=null,va=!1,r)throw Error(n(300));return e}function gi(){var e=on!==0;return on=0,e}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?_e.memoizedState=Me=e:Me=Me.next=e,Me}function gt(){if(Ie===null){var e=_e.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var r=Me===null?_e.memoizedState:Me.next;if(r!==null)Me=r,Ie=e;else{if(e===null)throw Error(n(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Me===null?_e.memoizedState=Me=e:Me=Me.next=e}return Me}function cn(e,r){return typeof r=="function"?r(e):r}function vi(e){var r=gt(),a=r.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=e;var o=Ie,u=o.baseQueue,h=a.pending;if(h!==null){if(u!==null){var x=u.next;u.next=h.next,h.next=x}o.baseQueue=u=h,a.pending=null}if(u!==null){h=u.next,o=o.baseState;var y=x=null,j=null,R=h;do{var D=R.lane;if((Tr&D)===D)j!==null&&(j=j.next={lane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),o=R.hasEagerState?R.eagerState:e(o,R.action);else{var L={lane:D,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null};j===null?(y=j=L,x=o):j=j.next=L,_e.lanes|=D,Pr|=D}R=R.next}while(R!==null&&R!==h);j===null?x=o:j.next=y,Nt(o,r.memoizedState)||(rt=!0),r.memoizedState=o,r.baseState=x,r.baseQueue=j,a.lastRenderedState=o}if(e=a.interleaved,e!==null){u=e;do h=u.lane,_e.lanes|=h,Pr|=h,u=u.next;while(u!==e)}else u===null&&(a.lanes=0);return[r.memoizedState,a.dispatch]}function yi(e){var r=gt(),a=r.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=e;var o=a.dispatch,u=a.pending,h=r.memoizedState;if(u!==null){a.pending=null;var x=u=u.next;do h=e(h,x.action),x=x.next;while(x!==u);Nt(h,r.memoizedState)||(rt=!0),r.memoizedState=h,r.baseQueue===null&&(r.baseState=h),a.lastRenderedState=h}return[h,o]}function Nu(){}function ku(e,r){var a=_e,o=gt(),u=r(),h=!Nt(o.memoizedState,u);if(h&&(o.memoizedState=u,rt=!0),o=o.queue,bi(Eu.bind(null,a,o,e),[e]),o.getSnapshot!==r||h||Me!==null&&Me.memoizedState.tag&1){if(a.flags|=2048,un(9,Su.bind(null,a,o,u,r),void 0,null),ze===null)throw Error(n(349));(Tr&30)!==0||_u(a,r,u)}return u}function _u(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=_e.updateQueue,r===null?(r={lastEffect:null,stores:null},_e.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function Su(e,r,a,o){r.value=a,r.getSnapshot=o,Cu(r)&&Au(e)}function Eu(e,r,a){return a(function(){Cu(r)&&Au(e)})}function Cu(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!Nt(e,a)}catch{return!0}}function Au(e){var r=Gt(e,1);r!==null&&Ct(r,e,1,-1)}function Tu(e){var r=zt();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cn,lastRenderedState:e},r.queue=e,e=e.dispatch=Cm.bind(null,_e,e),[r.memoizedState,e]}function un(e,r,a,o){return e={tag:e,create:r,destroy:a,deps:o,next:null},r=_e.updateQueue,r===null?(r={lastEffect:null,stores:null},_e.updateQueue=r,r.lastEffect=e.next=e):(a=r.lastEffect,a===null?r.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,r.lastEffect=e)),e}function Pu(){return gt().memoizedState}function ya(e,r,a,o){var u=zt();_e.flags|=e,u.memoizedState=un(1|r,a,void 0,o===void 0?null:o)}function ba(e,r,a,o){var u=gt();o=o===void 0?null:o;var h=void 0;if(Ie!==null){var x=Ie.memoizedState;if(h=x.destroy,o!==null&&fi(o,x.deps)){u.memoizedState=un(r,a,h,o);return}}_e.flags|=e,u.memoizedState=un(1|r,a,h,o)}function Ru(e,r){return ya(8390656,8,e,r)}function bi(e,r){return ba(2048,8,e,r)}function Ou(e,r){return ba(4,2,e,r)}function Iu(e,r){return ba(4,4,e,r)}function $u(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function Du(e,r,a){return a=a!=null?a.concat([e]):null,ba(4,4,$u.bind(null,r,e),a)}function wi(){}function Uu(e,r){var a=gt();r=r===void 0?null:r;var o=a.memoizedState;return o!==null&&r!==null&&fi(r,o[1])?o[0]:(a.memoizedState=[e,r],e)}function Lu(e,r){var a=gt();r=r===void 0?null:r;var o=a.memoizedState;return o!==null&&r!==null&&fi(r,o[1])?o[0]:(e=e(),a.memoizedState=[e,r],e)}function Mu(e,r,a){return(Tr&21)===0?(e.baseState&&(e.baseState=!1,rt=!0),e.memoizedState=a):(Nt(a,r)||(a=fc(),_e.lanes|=a,Pr|=a,e.baseState=!0),r)}function Sm(e,r){var a=xe;xe=a!==0&&4>a?a:4,e(!0);var o=pi.transition;pi.transition={};try{e(!1),r()}finally{xe=a,pi.transition=o}}function zu(){return gt().memoizedState}function Em(e,r,a){var o=xr(e);if(a={lane:o,action:a,hasEagerState:!1,eagerState:null,next:null},Fu(e))Bu(r,a);else if(a=vu(e,r,a,o),a!==null){var u=Xe();Ct(a,e,o,u),Vu(a,r,o)}}function Cm(e,r,a){var o=xr(e),u={lane:o,action:a,hasEagerState:!1,eagerState:null,next:null};if(Fu(e))Bu(r,u);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=r.lastRenderedReducer,h!==null))try{var x=r.lastRenderedState,y=h(x,a);if(u.hasEagerState=!0,u.eagerState=y,Nt(y,x)){var j=r.interleaved;j===null?(u.next=u,oi(r)):(u.next=j.next,j.next=u),r.interleaved=u;return}}catch{}finally{}a=vu(e,r,u,o),a!==null&&(u=Xe(),Ct(a,e,o,u),Vu(a,r,o))}}function Fu(e){var r=e.alternate;return e===_e||r!==null&&r===_e}function Bu(e,r){ln=va=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function Vu(e,r,a){if((a&4194240)!==0){var o=r.lanes;o&=e.pendingLanes,a|=o,r.lanes=a,Nl(e,a)}}var wa={readContext:xt,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useInsertionEffect:Ke,useLayoutEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useMutableSource:Ke,useSyncExternalStore:Ke,useId:Ke,unstable_isNewReconciler:!1},Am={readContext:xt,useCallback:function(e,r){return zt().memoizedState=[e,r===void 0?null:r],e},useContext:xt,useEffect:Ru,useImperativeHandle:function(e,r,a){return a=a!=null?a.concat([e]):null,ya(4194308,4,$u.bind(null,r,e),a)},useLayoutEffect:function(e,r){return ya(4194308,4,e,r)},useInsertionEffect:function(e,r){return ya(4,2,e,r)},useMemo:function(e,r){var a=zt();return r=r===void 0?null:r,e=e(),a.memoizedState=[e,r],e},useReducer:function(e,r,a){var o=zt();return r=a!==void 0?a(r):r,o.memoizedState=o.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},o.queue=e,e=e.dispatch=Em.bind(null,_e,e),[o.memoizedState,e]},useRef:function(e){var r=zt();return e={current:e},r.memoizedState=e},useState:Tu,useDebugValue:wi,useDeferredValue:function(e){return zt().memoizedState=e},useTransition:function(){var e=Tu(!1),r=e[0];return e=Sm.bind(null,e[1]),zt().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,a){var o=_e,u=zt();if(Ne){if(a===void 0)throw Error(n(407));a=a()}else{if(a=r(),ze===null)throw Error(n(349));(Tr&30)!==0||_u(o,r,a)}u.memoizedState=a;var h={value:a,getSnapshot:r};return u.queue=h,Ru(Eu.bind(null,o,h,e),[e]),o.flags|=2048,un(9,Su.bind(null,o,h,a,r),void 0,null),a},useId:function(){var e=zt(),r=ze.identifierPrefix;if(Ne){var a=Kt,o=Ht;a=(o&~(1<<32-jt(o)-1)).toString(32)+a,r=":"+r+"R"+a,a=on++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=_m++,r=":"+r+"r"+a.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},Tm={readContext:xt,useCallback:Uu,useContext:xt,useEffect:bi,useImperativeHandle:Du,useInsertionEffect:Ou,useLayoutEffect:Iu,useMemo:Lu,useReducer:vi,useRef:Pu,useState:function(){return vi(cn)},useDebugValue:wi,useDeferredValue:function(e){var r=gt();return Mu(r,Ie.memoizedState,e)},useTransition:function(){var e=vi(cn)[0],r=gt().memoizedState;return[e,r]},useMutableSource:Nu,useSyncExternalStore:ku,useId:zu,unstable_isNewReconciler:!1},Pm={readContext:xt,useCallback:Uu,useContext:xt,useEffect:bi,useImperativeHandle:Du,useInsertionEffect:Ou,useLayoutEffect:Iu,useMemo:Lu,useReducer:yi,useRef:Pu,useState:function(){return yi(cn)},useDebugValue:wi,useDeferredValue:function(e){var r=gt();return Ie===null?r.memoizedState=e:Mu(r,Ie.memoizedState,e)},useTransition:function(){var e=yi(cn)[0],r=gt().memoizedState;return[e,r]},useMutableSource:Nu,useSyncExternalStore:ku,useId:zu,unstable_isNewReconciler:!1};function _t(e,r){if(e&&e.defaultProps){r=q({},r),e=e.defaultProps;for(var a in e)r[a]===void 0&&(r[a]=e[a]);return r}return r}function ji(e,r,a,o){r=e.memoizedState,a=a(o,r),a=a==null?r:q({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ja={isMounted:function(e){return(e=e._reactInternals)?Nr(e)===e:!1},enqueueSetState:function(e,r,a){e=e._reactInternals;var o=Xe(),u=xr(e),h=Jt(o,u);h.payload=r,a!=null&&(h.callback=a),r=hr(e,h,u),r!==null&&(Ct(r,e,u,o),pa(r,e,u))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var o=Xe(),u=xr(e),h=Jt(o,u);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=hr(e,h,u),r!==null&&(Ct(r,e,u,o),pa(r,e,u))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=Xe(),o=xr(e),u=Jt(a,o);u.tag=2,r!=null&&(u.callback=r),r=hr(e,u,o),r!==null&&(Ct(r,e,o,a),pa(r,e,o))}};function Wu(e,r,a,o,u,h,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,h,x):r.prototype&&r.prototype.isPureReactComponent?!Js(a,o)||!Js(u,h):!0}function qu(e,r,a){var o=!1,u=cr,h=r.contextType;return typeof h=="object"&&h!==null?h=xt(h):(u=tt(r)?_r:He.current,o=r.contextTypes,h=(o=o!=null)?rs(e,u):cr),r=new r(a,h),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=ja,e.stateNode=r,r._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=h),r}function Hu(e,r,a,o){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,o),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,o),r.state!==e&&ja.enqueueReplaceState(r,r.state,null)}function Ni(e,r,a,o){var u=e.stateNode;u.props=a,u.state=e.memoizedState,u.refs={},ci(e);var h=r.contextType;typeof h=="object"&&h!==null?u.context=xt(h):(h=tt(r)?_r:He.current,u.context=rs(e,h)),u.state=e.memoizedState,h=r.getDerivedStateFromProps,typeof h=="function"&&(ji(e,r,h,a),u.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(r=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),r!==u.state&&ja.enqueueReplaceState(u,u.state,null),fa(e,a,u,o),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function us(e,r){try{var a="",o=r;do a+=he(o),o=o.return;while(o);var u=a}catch(h){u=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:r,stack:u,digest:null}}function ki(e,r,a){return{value:e,source:null,stack:a??null,digest:r??null}}function _i(e,r){try{console.error(r.value)}catch(a){setTimeout(function(){throw a})}}var Rm=typeof WeakMap=="function"?WeakMap:Map;function Ku(e,r,a){a=Jt(-1,a),a.tag=3,a.payload={element:null};var o=r.value;return a.callback=function(){Aa||(Aa=!0,zi=o),_i(e,r)},a}function Gu(e,r,a){a=Jt(-1,a),a.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var u=r.value;a.payload=function(){return o(u)},a.callback=function(){_i(e,r)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(a.callback=function(){_i(e,r),typeof o!="function"&&(pr===null?pr=new Set([this]):pr.add(this));var x=r.stack;this.componentDidCatch(r.value,{componentStack:x!==null?x:""})}),a}function Ju(e,r,a){var o=e.pingCache;if(o===null){o=e.pingCache=new Rm;var u=new Set;o.set(r,u)}else u=o.get(r),u===void 0&&(u=new Set,o.set(r,u));u.has(a)||(u.add(a),e=Hm.bind(null,e,r,a),r.then(e,e))}function Qu(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function Yu(e,r,a,o,u){return(e.mode&1)===0?(e===r?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(r=Jt(-1,1),r.tag=2,hr(a,r,1))),a.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var Om=F.ReactCurrentOwner,rt=!1;function Ye(e,r,a,o){r.child=e===null?gu(r,null,a,o):ls(r,e.child,a,o)}function Xu(e,r,a,o,u){a=a.render;var h=r.ref;return os(r,u),o=xi(e,r,a,o,h,u),a=gi(),e!==null&&!rt?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~u,Qt(e,r,u)):(Ne&&a&&Zl(r),r.flags|=1,Ye(e,r,o,u),r.child)}function Zu(e,r,a,o,u){if(e===null){var h=a.type;return typeof h=="function"&&!Ki(h)&&h.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(r.tag=15,r.type=h,ed(e,r,h,o,u)):(e=$a(a.type,null,o,r,r.mode,u),e.ref=r.ref,e.return=r,r.child=e)}if(h=e.child,(e.lanes&u)===0){var x=h.memoizedProps;if(a=a.compare,a=a!==null?a:Js,a(x,o)&&e.ref===r.ref)return Qt(e,r,u)}return r.flags|=1,e=vr(h,o),e.ref=r.ref,e.return=r,r.child=e}function ed(e,r,a,o,u){if(e!==null){var h=e.memoizedProps;if(Js(h,o)&&e.ref===r.ref)if(rt=!1,r.pendingProps=o=h,(e.lanes&u)!==0)(e.flags&131072)!==0&&(rt=!0);else return r.lanes=e.lanes,Qt(e,r,u)}return Si(e,r,a,o,u)}function td(e,r,a){var o=r.pendingProps,u=o.children,h=e!==null?e.memoizedState:null;if(o.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(hs,ut),ut|=a;else{if((a&1073741824)===0)return e=h!==null?h.baseLanes|a:a,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,ve(hs,ut),ut|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=h!==null?h.baseLanes:a,ve(hs,ut),ut|=o}else h!==null?(o=h.baseLanes|a,r.memoizedState=null):o=a,ve(hs,ut),ut|=o;return Ye(e,r,u,a),r.child}function rd(e,r){var a=r.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(r.flags|=512,r.flags|=2097152)}function Si(e,r,a,o,u){var h=tt(a)?_r:He.current;return h=rs(r,h),os(r,u),a=xi(e,r,a,o,h,u),o=gi(),e!==null&&!rt?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~u,Qt(e,r,u)):(Ne&&o&&Zl(r),r.flags|=1,Ye(e,r,a,u),r.child)}function sd(e,r,a,o,u){if(tt(a)){var h=!0;la(r)}else h=!1;if(os(r,u),r.stateNode===null)ka(e,r),qu(r,a,o),Ni(r,a,o,u),o=!0;else if(e===null){var x=r.stateNode,y=r.memoizedProps;x.props=y;var j=x.context,R=a.contextType;typeof R=="object"&&R!==null?R=xt(R):(R=tt(a)?_r:He.current,R=rs(r,R));var D=a.getDerivedStateFromProps,L=typeof D=="function"||typeof x.getSnapshotBeforeUpdate=="function";L||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(y!==o||j!==R)&&Hu(r,x,o,R),dr=!1;var I=r.memoizedState;x.state=I,fa(r,o,x,u),j=r.memoizedState,y!==o||I!==j||et.current||dr?(typeof D=="function"&&(ji(r,a,D,o),j=r.memoizedState),(y=dr||Wu(r,a,y,o,I,j,R))?(L||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(r.flags|=4194308)):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=o,r.memoizedState=j),x.props=o,x.state=j,x.context=R,o=y):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),o=!1)}else{x=r.stateNode,yu(e,r),y=r.memoizedProps,R=r.type===r.elementType?y:_t(r.type,y),x.props=R,L=r.pendingProps,I=x.context,j=a.contextType,typeof j=="object"&&j!==null?j=xt(j):(j=tt(a)?_r:He.current,j=rs(r,j));var V=a.getDerivedStateFromProps;(D=typeof V=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(y!==L||I!==j)&&Hu(r,x,o,j),dr=!1,I=r.memoizedState,x.state=I,fa(r,o,x,u);var H=r.memoizedState;y!==L||I!==H||et.current||dr?(typeof V=="function"&&(ji(r,a,V,o),H=r.memoizedState),(R=dr||Wu(r,a,R,o,I,H,j)||!1)?(D||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(o,H,j),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(o,H,j)),typeof x.componentDidUpdate=="function"&&(r.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof x.componentDidUpdate!="function"||y===e.memoizedProps&&I===e.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&I===e.memoizedState||(r.flags|=1024),r.memoizedProps=o,r.memoizedState=H),x.props=o,x.state=H,x.context=j,o=R):(typeof x.componentDidUpdate!="function"||y===e.memoizedProps&&I===e.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&I===e.memoizedState||(r.flags|=1024),o=!1)}return Ei(e,r,a,o,h,u)}function Ei(e,r,a,o,u,h){rd(e,r);var x=(r.flags&128)!==0;if(!o&&!x)return u&&ou(r,a,!1),Qt(e,r,h);o=r.stateNode,Om.current=r;var y=x&&typeof a.getDerivedStateFromError!="function"?null:o.render();return r.flags|=1,e!==null&&x?(r.child=ls(r,e.child,null,h),r.child=ls(r,null,y,h)):Ye(e,r,y,h),r.memoizedState=o.state,u&&ou(r,a,!0),r.child}function nd(e){var r=e.stateNode;r.pendingContext?lu(e,r.pendingContext,r.pendingContext!==r.context):r.context&&lu(e,r.context,!1),ui(e,r.containerInfo)}function ad(e,r,a,o,u){return as(),si(u),r.flags|=256,Ye(e,r,a,o),r.child}var Ci={dehydrated:null,treeContext:null,retryLane:0};function Ai(e){return{baseLanes:e,cachePool:null,transitions:null}}function ld(e,r,a){var o=r.pendingProps,u=ke.current,h=!1,x=(r.flags&128)!==0,y;if((y=x)||(y=e!==null&&e.memoizedState===null?!1:(u&2)!==0),y?(h=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),ve(ke,u&1),e===null)return ri(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((r.mode&1)===0?r.lanes=1:e.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(x=o.children,e=o.fallback,h?(o=r.mode,h=r.child,x={mode:"hidden",children:x},(o&1)===0&&h!==null?(h.childLanes=0,h.pendingProps=x):h=Da(x,o,0,null),e=$r(e,o,a,null),h.return=r,e.return=r,h.sibling=e,r.child=h,r.child.memoizedState=Ai(a),r.memoizedState=Ci,e):Ti(r,x));if(u=e.memoizedState,u!==null&&(y=u.dehydrated,y!==null))return Im(e,r,x,o,y,u,a);if(h){h=o.fallback,x=r.mode,u=e.child,y=u.sibling;var j={mode:"hidden",children:o.children};return(x&1)===0&&r.child!==u?(o=r.child,o.childLanes=0,o.pendingProps=j,r.deletions=null):(o=vr(u,j),o.subtreeFlags=u.subtreeFlags&14680064),y!==null?h=vr(y,h):(h=$r(h,x,a,null),h.flags|=2),h.return=r,o.return=r,o.sibling=h,r.child=o,o=h,h=r.child,x=e.child.memoizedState,x=x===null?Ai(a):{baseLanes:x.baseLanes|a,cachePool:null,transitions:x.transitions},h.memoizedState=x,h.childLanes=e.childLanes&~a,r.memoizedState=Ci,o}return h=e.child,e=h.sibling,o=vr(h,{mode:"visible",children:o.children}),(r.mode&1)===0&&(o.lanes=a),o.return=r,o.sibling=null,e!==null&&(a=r.deletions,a===null?(r.deletions=[e],r.flags|=16):a.push(e)),r.child=o,r.memoizedState=null,o}function Ti(e,r){return r=Da({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function Na(e,r,a,o){return o!==null&&si(o),ls(r,e.child,null,a),e=Ti(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function Im(e,r,a,o,u,h,x){if(a)return r.flags&256?(r.flags&=-257,o=ki(Error(n(422))),Na(e,r,x,o)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(h=o.fallback,u=r.mode,o=Da({mode:"visible",children:o.children},u,0,null),h=$r(h,u,x,null),h.flags|=2,o.return=r,h.return=r,o.sibling=h,r.child=o,(r.mode&1)!==0&&ls(r,e.child,null,x),r.child.memoizedState=Ai(x),r.memoizedState=Ci,h);if((r.mode&1)===0)return Na(e,r,x,null);if(u.data==="$!"){if(o=u.nextSibling&&u.nextSibling.dataset,o)var y=o.dgst;return o=y,h=Error(n(419)),o=ki(h,o,void 0),Na(e,r,x,o)}if(y=(x&e.childLanes)!==0,rt||y){if(o=ze,o!==null){switch(x&-x){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(o.suspendedLanes|x))!==0?0:u,u!==0&&u!==h.retryLane&&(h.retryLane=u,Gt(e,u),Ct(o,e,u,-1))}return Hi(),o=ki(Error(n(421))),Na(e,r,x,o)}return u.data==="$?"?(r.flags|=128,r.child=e.child,r=Km.bind(null,e),u._reactRetry=r,null):(e=h.treeContext,ct=ir(u.nextSibling),ot=r,Ne=!0,kt=null,e!==null&&(pt[ft++]=Ht,pt[ft++]=Kt,pt[ft++]=Sr,Ht=e.id,Kt=e.overflow,Sr=r),r=Ti(r,o.children),r.flags|=4096,r)}function id(e,r,a){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r),ii(e.return,r,a)}function Pi(e,r,a,o,u){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:u}:(h.isBackwards=r,h.rendering=null,h.renderingStartTime=0,h.last=o,h.tail=a,h.tailMode=u)}function od(e,r,a){var o=r.pendingProps,u=o.revealOrder,h=o.tail;if(Ye(e,r,o.children,a),o=ke.current,(o&2)!==0)o=o&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&id(e,a,r);else if(e.tag===19)id(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(ve(ke,o),(r.mode&1)===0)r.memoizedState=null;else switch(u){case"forwards":for(a=r.child,u=null;a!==null;)e=a.alternate,e!==null&&xa(e)===null&&(u=a),a=a.sibling;a=u,a===null?(u=r.child,r.child=null):(u=a.sibling,a.sibling=null),Pi(r,!1,u,a,h);break;case"backwards":for(a=null,u=r.child,r.child=null;u!==null;){if(e=u.alternate,e!==null&&xa(e)===null){r.child=u;break}e=u.sibling,u.sibling=a,a=u,u=e}Pi(r,!0,a,null,h);break;case"together":Pi(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ka(e,r){(r.mode&1)===0&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function Qt(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),Pr|=r.lanes,(a&r.childLanes)===0)return null;if(e!==null&&r.child!==e.child)throw Error(n(153));if(r.child!==null){for(e=r.child,a=vr(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=vr(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function $m(e,r,a){switch(r.tag){case 3:nd(r),as();break;case 5:ju(r);break;case 1:tt(r.type)&&la(r);break;case 4:ui(r,r.stateNode.containerInfo);break;case 10:var o=r.type._context,u=r.memoizedProps.value;ve(ha,o._currentValue),o._currentValue=u;break;case 13:if(o=r.memoizedState,o!==null)return o.dehydrated!==null?(ve(ke,ke.current&1),r.flags|=128,null):(a&r.child.childLanes)!==0?ld(e,r,a):(ve(ke,ke.current&1),e=Qt(e,r,a),e!==null?e.sibling:null);ve(ke,ke.current&1);break;case 19:if(o=(a&r.childLanes)!==0,(e.flags&128)!==0){if(o)return od(e,r,a);r.flags|=128}if(u=r.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),ve(ke,ke.current),o)break;return null;case 22:case 23:return r.lanes=0,td(e,r,a)}return Qt(e,r,a)}var cd,Ri,ud,dd;cd=function(e,r){for(var a=r.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Ri=function(){},ud=function(e,r,a,o){var u=e.memoizedProps;if(u!==o){e=r.stateNode,Ar(Mt.current);var h=null;switch(a){case"input":u=il(e,u),o=il(e,o),h=[];break;case"select":u=q({},u,{value:void 0}),o=q({},o,{value:void 0}),h=[];break;case"textarea":u=ul(e,u),o=ul(e,o),h=[];break;default:typeof u.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=sa)}hl(a,o);var x;a=null;for(R in u)if(!o.hasOwnProperty(R)&&u.hasOwnProperty(R)&&u[R]!=null)if(R==="style"){var y=u[R];for(x in y)y.hasOwnProperty(x)&&(a||(a={}),a[x]="")}else R!=="dangerouslySetInnerHTML"&&R!=="children"&&R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(c.hasOwnProperty(R)?h||(h=[]):(h=h||[]).push(R,null));for(R in o){var j=o[R];if(y=u?.[R],o.hasOwnProperty(R)&&j!==y&&(j!=null||y!=null))if(R==="style")if(y){for(x in y)!y.hasOwnProperty(x)||j&&j.hasOwnProperty(x)||(a||(a={}),a[x]="");for(x in j)j.hasOwnProperty(x)&&y[x]!==j[x]&&(a||(a={}),a[x]=j[x])}else a||(h||(h=[]),h.push(R,a)),a=j;else R==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,y=y?y.__html:void 0,j!=null&&y!==j&&(h=h||[]).push(R,j)):R==="children"?typeof j!="string"&&typeof j!="number"||(h=h||[]).push(R,""+j):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&(c.hasOwnProperty(R)?(j!=null&&R==="onScroll"&&be("scroll",e),h||y===j||(h=[])):(h=h||[]).push(R,j))}a&&(h=h||[]).push("style",a);var R=h;(r.updateQueue=R)&&(r.flags|=4)}},dd=function(e,r,a,o){a!==o&&(r.flags|=4)};function dn(e,r){if(!Ne)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Ge(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(r)for(var u=e.child;u!==null;)a|=u.lanes|u.childLanes,o|=u.subtreeFlags&14680064,o|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)a|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=o,e.childLanes=a,r}function Dm(e,r,a){var o=r.pendingProps;switch(ei(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(r),null;case 1:return tt(r.type)&&aa(),Ge(r),null;case 3:return o=r.stateNode,cs(),we(et),we(He),mi(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(ua(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,kt!==null&&(Vi(kt),kt=null))),Ri(e,r),Ge(r),null;case 5:di(r);var u=Ar(an.current);if(a=r.type,e!==null&&r.stateNode!=null)ud(e,r,a,o,u),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!o){if(r.stateNode===null)throw Error(n(166));return Ge(r),null}if(e=Ar(Mt.current),ua(r)){o=r.stateNode,a=r.type;var h=r.memoizedProps;switch(o[Lt]=r,o[en]=h,e=(r.mode&1)!==0,a){case"dialog":be("cancel",o),be("close",o);break;case"iframe":case"object":case"embed":be("load",o);break;case"video":case"audio":for(u=0;u<Ys.length;u++)be(Ys[u],o);break;case"source":be("error",o);break;case"img":case"image":case"link":be("error",o),be("load",o);break;case"details":be("toggle",o);break;case"input":qo(o,h),be("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!h.multiple},be("invalid",o);break;case"textarea":Go(o,h),be("invalid",o)}hl(a,h),u=null;for(var x in h)if(h.hasOwnProperty(x)){var y=h[x];x==="children"?typeof y=="string"?o.textContent!==y&&(h.suppressHydrationWarning!==!0&&ra(o.textContent,y,e),u=["children",y]):typeof y=="number"&&o.textContent!==""+y&&(h.suppressHydrationWarning!==!0&&ra(o.textContent,y,e),u=["children",""+y]):c.hasOwnProperty(x)&&y!=null&&x==="onScroll"&&be("scroll",o)}switch(a){case"input":On(o),Ko(o,h,!0);break;case"textarea":On(o),Qo(o);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(o.onclick=sa)}o=u,r.updateQueue=o,o!==null&&(r.flags|=4)}else{x=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Yo(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=x.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=x.createElement(a,{is:o.is}):(e=x.createElement(a),a==="select"&&(x=e,o.multiple?x.multiple=!0:o.size&&(x.size=o.size))):e=x.createElementNS(e,a),e[Lt]=r,e[en]=o,cd(e,r,!1,!1),r.stateNode=e;e:{switch(x=ml(a,o),a){case"dialog":be("cancel",e),be("close",e),u=o;break;case"iframe":case"object":case"embed":be("load",e),u=o;break;case"video":case"audio":for(u=0;u<Ys.length;u++)be(Ys[u],e);u=o;break;case"source":be("error",e),u=o;break;case"img":case"image":case"link":be("error",e),be("load",e),u=o;break;case"details":be("toggle",e),u=o;break;case"input":qo(e,o),u=il(e,o),be("invalid",e);break;case"option":u=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},u=q({},o,{value:void 0}),be("invalid",e);break;case"textarea":Go(e,o),u=ul(e,o),be("invalid",e);break;default:u=o}hl(a,u),y=u;for(h in y)if(y.hasOwnProperty(h)){var j=y[h];h==="style"?ec(e,j):h==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&Xo(e,j)):h==="children"?typeof j=="string"?(a!=="textarea"||j!=="")&&Rs(e,j):typeof j=="number"&&Rs(e,""+j):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(c.hasOwnProperty(h)?j!=null&&h==="onScroll"&&be("scroll",e):j!=null&&k(e,h,j,x))}switch(a){case"input":On(e),Ko(e,o,!1);break;case"textarea":On(e),Qo(e);break;case"option":o.value!=null&&e.setAttribute("value",""+fe(o.value));break;case"select":e.multiple=!!o.multiple,h=o.value,h!=null?Wr(e,!!o.multiple,h,!1):o.defaultValue!=null&&Wr(e,!!o.multiple,o.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=sa)}switch(a){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Ge(r),null;case 6:if(e&&r.stateNode!=null)dd(e,r,e.memoizedProps,o);else{if(typeof o!="string"&&r.stateNode===null)throw Error(n(166));if(a=Ar(an.current),Ar(Mt.current),ua(r)){if(o=r.stateNode,a=r.memoizedProps,o[Lt]=r,(h=o.nodeValue!==a)&&(e=ot,e!==null))switch(e.tag){case 3:ra(o.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ra(o.nodeValue,a,(e.mode&1)!==0)}h&&(r.flags|=4)}else o=(a.nodeType===9?a:a.ownerDocument).createTextNode(o),o[Lt]=r,r.stateNode=o}return Ge(r),null;case 13:if(we(ke),o=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&ct!==null&&(r.mode&1)!==0&&(r.flags&128)===0)pu(),as(),r.flags|=98560,h=!1;else if(h=ua(r),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(n(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));h[Lt]=r}else as(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ge(r),h=!1}else kt!==null&&(Vi(kt),kt=null),h=!0;if(!h)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=a,r):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(r.child.flags|=8192,(r.mode&1)!==0&&(e===null||(ke.current&1)!==0?$e===0&&($e=3):Hi())),r.updateQueue!==null&&(r.flags|=4),Ge(r),null);case 4:return cs(),Ri(e,r),e===null&&Xs(r.stateNode.containerInfo),Ge(r),null;case 10:return li(r.type._context),Ge(r),null;case 17:return tt(r.type)&&aa(),Ge(r),null;case 19:if(we(ke),h=r.memoizedState,h===null)return Ge(r),null;if(o=(r.flags&128)!==0,x=h.rendering,x===null)if(o)dn(h,!1);else{if($e!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(x=xa(e),x!==null){for(r.flags|=128,dn(h,!1),o=x.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),r.subtreeFlags=0,o=a,a=r.child;a!==null;)h=a,e=o,h.flags&=14680066,x=h.alternate,x===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=x.childLanes,h.lanes=x.lanes,h.child=x.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=x.memoizedProps,h.memoizedState=x.memoizedState,h.updateQueue=x.updateQueue,h.type=x.type,e=x.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return ve(ke,ke.current&1|2),r.child}e=e.sibling}h.tail!==null&&Te()>ms&&(r.flags|=128,o=!0,dn(h,!1),r.lanes=4194304)}else{if(!o)if(e=xa(x),e!==null){if(r.flags|=128,o=!0,a=e.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),dn(h,!0),h.tail===null&&h.tailMode==="hidden"&&!x.alternate&&!Ne)return Ge(r),null}else 2*Te()-h.renderingStartTime>ms&&a!==1073741824&&(r.flags|=128,o=!0,dn(h,!1),r.lanes=4194304);h.isBackwards?(x.sibling=r.child,r.child=x):(a=h.last,a!==null?a.sibling=x:r.child=x,h.last=x)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Te(),r.sibling=null,a=ke.current,ve(ke,o?a&1|2:a&1),r):(Ge(r),null);case 22:case 23:return qi(),o=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(r.flags|=8192),o&&(r.mode&1)!==0?(ut&1073741824)!==0&&(Ge(r),r.subtreeFlags&6&&(r.flags|=8192)):Ge(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function Um(e,r){switch(ei(r),r.tag){case 1:return tt(r.type)&&aa(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return cs(),we(et),we(He),mi(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 5:return di(r),null;case 13:if(we(ke),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(n(340));as()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return we(ke),null;case 4:return cs(),null;case 10:return li(r.type._context),null;case 22:case 23:return qi(),null;case 24:return null;default:return null}}var _a=!1,Je=!1,Lm=typeof WeakSet=="function"?WeakSet:Set,W=null;function ds(e,r){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(o){Ce(e,r,o)}else a.current=null}function Oi(e,r,a){try{a()}catch(o){Ce(e,r,o)}}var hd=!1;function Mm(e,r){if(ql=qn,e=Wc(),Ul(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var u=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var x=0,y=-1,j=-1,R=0,D=0,L=e,I=null;t:for(;;){for(var V;L!==a||u!==0&&L.nodeType!==3||(y=x+u),L!==h||o!==0&&L.nodeType!==3||(j=x+o),L.nodeType===3&&(x+=L.nodeValue.length),(V=L.firstChild)!==null;)I=L,L=V;for(;;){if(L===e)break t;if(I===a&&++R===u&&(y=x),I===h&&++D===o&&(j=x),(V=L.nextSibling)!==null)break;L=I,I=L.parentNode}L=V}a=y===-1||j===-1?null:{start:y,end:j}}else a=null}a=a||{start:0,end:0}}else a=null;for(Hl={focusedElem:e,selectionRange:a},qn=!1,W=r;W!==null;)if(r=W,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,W=e;else for(;W!==null;){r=W;try{var H=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(H!==null){var K=H.memoizedProps,Pe=H.memoizedState,C=r.stateNode,_=C.getSnapshotBeforeUpdate(r.elementType===r.type?K:_t(r.type,K),Pe);C.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var T=r.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(M){Ce(r,r.return,M)}if(e=r.sibling,e!==null){e.return=r.return,W=e;break}W=r.return}return H=hd,hd=!1,H}function hn(e,r,a){var o=r.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&e)===e){var h=u.destroy;u.destroy=void 0,h!==void 0&&Oi(r,a,h)}u=u.next}while(u!==o)}}function Sa(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var o=a.create;a.destroy=o()}a=a.next}while(a!==r)}}function Ii(e){var r=e.ref;if(r!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof r=="function"?r(e):r.current=e}}function md(e){var r=e.alternate;r!==null&&(e.alternate=null,md(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[Lt],delete r[en],delete r[Ql],delete r[wm],delete r[jm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function pd(e){return e.tag===5||e.tag===3||e.tag===4}function fd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $i(e,r,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(e,r):a.insertBefore(e,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(e,a)):(r=a,r.appendChild(e)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=sa));else if(o!==4&&(e=e.child,e!==null))for($i(e,r,a),e=e.sibling;e!==null;)$i(e,r,a),e=e.sibling}function Di(e,r,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Di(e,r,a),e=e.sibling;e!==null;)Di(e,r,a),e=e.sibling}var Be=null,St=!1;function mr(e,r,a){for(a=a.child;a!==null;)xd(e,r,a),a=a.sibling}function xd(e,r,a){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Mn,a)}catch{}switch(a.tag){case 5:Je||ds(a,r);case 6:var o=Be,u=St;Be=null,mr(e,r,a),Be=o,St=u,Be!==null&&(St?(e=Be,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):Be.removeChild(a.stateNode));break;case 18:Be!==null&&(St?(e=Be,a=a.stateNode,e.nodeType===8?Jl(e.parentNode,a):e.nodeType===1&&Jl(e,a),Vs(e)):Jl(Be,a.stateNode));break;case 4:o=Be,u=St,Be=a.stateNode.containerInfo,St=!0,mr(e,r,a),Be=o,St=u;break;case 0:case 11:case 14:case 15:if(!Je&&(o=a.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){u=o=o.next;do{var h=u,x=h.destroy;h=h.tag,x!==void 0&&((h&2)!==0||(h&4)!==0)&&Oi(a,r,x),u=u.next}while(u!==o)}mr(e,r,a);break;case 1:if(!Je&&(ds(a,r),o=a.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=a.memoizedProps,o.state=a.memoizedState,o.componentWillUnmount()}catch(y){Ce(a,r,y)}mr(e,r,a);break;case 21:mr(e,r,a);break;case 22:a.mode&1?(Je=(o=Je)||a.memoizedState!==null,mr(e,r,a),Je=o):mr(e,r,a);break;default:mr(e,r,a)}}function gd(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new Lm),r.forEach(function(o){var u=Gm.bind(null,e,o);a.has(o)||(a.add(o),o.then(u,u))})}}function Et(e,r){var a=r.deletions;if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];try{var h=e,x=r,y=x;e:for(;y!==null;){switch(y.tag){case 5:Be=y.stateNode,St=!1;break e;case 3:Be=y.stateNode.containerInfo,St=!0;break e;case 4:Be=y.stateNode.containerInfo,St=!0;break e}y=y.return}if(Be===null)throw Error(n(160));xd(h,x,u),Be=null,St=!1;var j=u.alternate;j!==null&&(j.return=null),u.return=null}catch(R){Ce(u,r,R)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)vd(r,e),r=r.sibling}function vd(e,r){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Et(r,e),Ft(e),o&4){try{hn(3,e,e.return),Sa(3,e)}catch(K){Ce(e,e.return,K)}try{hn(5,e,e.return)}catch(K){Ce(e,e.return,K)}}break;case 1:Et(r,e),Ft(e),o&512&&a!==null&&ds(a,a.return);break;case 5:if(Et(r,e),Ft(e),o&512&&a!==null&&ds(a,a.return),e.flags&32){var u=e.stateNode;try{Rs(u,"")}catch(K){Ce(e,e.return,K)}}if(o&4&&(u=e.stateNode,u!=null)){var h=e.memoizedProps,x=a!==null?a.memoizedProps:h,y=e.type,j=e.updateQueue;if(e.updateQueue=null,j!==null)try{y==="input"&&h.type==="radio"&&h.name!=null&&Ho(u,h),ml(y,x);var R=ml(y,h);for(x=0;x<j.length;x+=2){var D=j[x],L=j[x+1];D==="style"?ec(u,L):D==="dangerouslySetInnerHTML"?Xo(u,L):D==="children"?Rs(u,L):k(u,D,L,R)}switch(y){case"input":ol(u,h);break;case"textarea":Jo(u,h);break;case"select":var I=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!h.multiple;var V=h.value;V!=null?Wr(u,!!h.multiple,V,!1):I!==!!h.multiple&&(h.defaultValue!=null?Wr(u,!!h.multiple,h.defaultValue,!0):Wr(u,!!h.multiple,h.multiple?[]:"",!1))}u[en]=h}catch(K){Ce(e,e.return,K)}}break;case 6:if(Et(r,e),Ft(e),o&4){if(e.stateNode===null)throw Error(n(162));u=e.stateNode,h=e.memoizedProps;try{u.nodeValue=h}catch(K){Ce(e,e.return,K)}}break;case 3:if(Et(r,e),Ft(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Vs(r.containerInfo)}catch(K){Ce(e,e.return,K)}break;case 4:Et(r,e),Ft(e);break;case 13:Et(r,e),Ft(e),u=e.child,u.flags&8192&&(h=u.memoizedState!==null,u.stateNode.isHidden=h,!h||u.alternate!==null&&u.alternate.memoizedState!==null||(Mi=Te())),o&4&&gd(e);break;case 22:if(D=a!==null&&a.memoizedState!==null,e.mode&1?(Je=(R=Je)||D,Et(r,e),Je=R):Et(r,e),Ft(e),o&8192){if(R=e.memoizedState!==null,(e.stateNode.isHidden=R)&&!D&&(e.mode&1)!==0)for(W=e,D=e.child;D!==null;){for(L=W=D;W!==null;){switch(I=W,V=I.child,I.tag){case 0:case 11:case 14:case 15:hn(4,I,I.return);break;case 1:ds(I,I.return);var H=I.stateNode;if(typeof H.componentWillUnmount=="function"){o=I,a=I.return;try{r=o,H.props=r.memoizedProps,H.state=r.memoizedState,H.componentWillUnmount()}catch(K){Ce(o,a,K)}}break;case 5:ds(I,I.return);break;case 22:if(I.memoizedState!==null){wd(L);continue}}V!==null?(V.return=I,W=V):wd(L)}D=D.sibling}e:for(D=null,L=e;;){if(L.tag===5){if(D===null){D=L;try{u=L.stateNode,R?(h=u.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(y=L.stateNode,j=L.memoizedProps.style,x=j!=null&&j.hasOwnProperty("display")?j.display:null,y.style.display=Zo("display",x))}catch(K){Ce(e,e.return,K)}}}else if(L.tag===6){if(D===null)try{L.stateNode.nodeValue=R?"":L.memoizedProps}catch(K){Ce(e,e.return,K)}}else if((L.tag!==22&&L.tag!==23||L.memoizedState===null||L===e)&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===e)break e;for(;L.sibling===null;){if(L.return===null||L.return===e)break e;D===L&&(D=null),L=L.return}D===L&&(D=null),L.sibling.return=L.return,L=L.sibling}}break;case 19:Et(r,e),Ft(e),o&4&&gd(e);break;case 21:break;default:Et(r,e),Ft(e)}}function Ft(e){var r=e.flags;if(r&2){try{e:{for(var a=e.return;a!==null;){if(pd(a)){var o=a;break e}a=a.return}throw Error(n(160))}switch(o.tag){case 5:var u=o.stateNode;o.flags&32&&(Rs(u,""),o.flags&=-33);var h=fd(e);Di(e,h,u);break;case 3:case 4:var x=o.stateNode.containerInfo,y=fd(e);$i(e,y,x);break;default:throw Error(n(161))}}catch(j){Ce(e,e.return,j)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function zm(e,r,a){W=e,yd(e)}function yd(e,r,a){for(var o=(e.mode&1)!==0;W!==null;){var u=W,h=u.child;if(u.tag===22&&o){var x=u.memoizedState!==null||_a;if(!x){var y=u.alternate,j=y!==null&&y.memoizedState!==null||Je;y=_a;var R=Je;if(_a=x,(Je=j)&&!R)for(W=u;W!==null;)x=W,j=x.child,x.tag===22&&x.memoizedState!==null?jd(u):j!==null?(j.return=x,W=j):jd(u);for(;h!==null;)W=h,yd(h),h=h.sibling;W=u,_a=y,Je=R}bd(e)}else(u.subtreeFlags&8772)!==0&&h!==null?(h.return=u,W=h):bd(e)}}function bd(e){for(;W!==null;){var r=W;if((r.flags&8772)!==0){var a=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Je||Sa(5,r);break;case 1:var o=r.stateNode;if(r.flags&4&&!Je)if(a===null)o.componentDidMount();else{var u=r.elementType===r.type?a.memoizedProps:_t(r.type,a.memoizedProps);o.componentDidUpdate(u,a.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var h=r.updateQueue;h!==null&&wu(r,h,o);break;case 3:var x=r.updateQueue;if(x!==null){if(a=null,r.child!==null)switch(r.child.tag){case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}wu(r,x,a)}break;case 5:var y=r.stateNode;if(a===null&&r.flags&4){a=y;var j=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&a.focus();break;case"img":j.src&&(a.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var R=r.alternate;if(R!==null){var D=R.memoizedState;if(D!==null){var L=D.dehydrated;L!==null&&Vs(L)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Je||r.flags&512&&Ii(r)}catch(I){Ce(r,r.return,I)}}if(r===e){W=null;break}if(a=r.sibling,a!==null){a.return=r.return,W=a;break}W=r.return}}function wd(e){for(;W!==null;){var r=W;if(r===e){W=null;break}var a=r.sibling;if(a!==null){a.return=r.return,W=a;break}W=r.return}}function jd(e){for(;W!==null;){var r=W;try{switch(r.tag){case 0:case 11:case 15:var a=r.return;try{Sa(4,r)}catch(j){Ce(r,a,j)}break;case 1:var o=r.stateNode;if(typeof o.componentDidMount=="function"){var u=r.return;try{o.componentDidMount()}catch(j){Ce(r,u,j)}}var h=r.return;try{Ii(r)}catch(j){Ce(r,h,j)}break;case 5:var x=r.return;try{Ii(r)}catch(j){Ce(r,x,j)}}}catch(j){Ce(r,r.return,j)}if(r===e){W=null;break}var y=r.sibling;if(y!==null){y.return=r.return,W=y;break}W=r.return}}var Fm=Math.ceil,Ea=F.ReactCurrentDispatcher,Ui=F.ReactCurrentOwner,vt=F.ReactCurrentBatchConfig,ue=0,ze=null,Re=null,Ve=0,ut=0,hs=or(0),$e=0,mn=null,Pr=0,Ca=0,Li=0,pn=null,st=null,Mi=0,ms=1/0,Yt=null,Aa=!1,zi=null,pr=null,Ta=!1,fr=null,Pa=0,fn=0,Fi=null,Ra=-1,Oa=0;function Xe(){return(ue&6)!==0?Te():Ra!==-1?Ra:Ra=Te()}function xr(e){return(e.mode&1)===0?1:(ue&2)!==0&&Ve!==0?Ve&-Ve:km.transition!==null?(Oa===0&&(Oa=fc()),Oa):(e=xe,e!==0||(e=window.event,e=e===void 0?16:kc(e.type)),e)}function Ct(e,r,a,o){if(50<fn)throw fn=0,Fi=null,Error(n(185));Ls(e,a,o),((ue&2)===0||e!==ze)&&(e===ze&&((ue&2)===0&&(Ca|=a),$e===4&&gr(e,Ve)),nt(e,o),a===1&&ue===0&&(r.mode&1)===0&&(ms=Te()+500,ia&&ur()))}function nt(e,r){var a=e.callbackNode;k0(e,r);var o=Bn(e,e===ze?Ve:0);if(o===0)a!==null&&hc(a),e.callbackNode=null,e.callbackPriority=0;else if(r=o&-o,e.callbackPriority!==r){if(a!=null&&hc(a),r===1)e.tag===0?Nm(kd.bind(null,e)):cu(kd.bind(null,e)),ym(function(){(ue&6)===0&&ur()}),a=null;else{switch(xc(o)){case 1:a=bl;break;case 4:a=mc;break;case 16:a=Ln;break;case 536870912:a=pc;break;default:a=Ln}a=Rd(a,Nd.bind(null,e))}e.callbackPriority=r,e.callbackNode=a}}function Nd(e,r){if(Ra=-1,Oa=0,(ue&6)!==0)throw Error(n(327));var a=e.callbackNode;if(ps()&&e.callbackNode!==a)return null;var o=Bn(e,e===ze?Ve:0);if(o===0)return null;if((o&30)!==0||(o&e.expiredLanes)!==0||r)r=Ia(e,o);else{r=o;var u=ue;ue|=2;var h=Sd();(ze!==e||Ve!==r)&&(Yt=null,ms=Te()+500,Or(e,r));do try{Wm();break}catch(y){_d(e,y)}while(!0);ai(),Ea.current=h,ue=u,Re!==null?r=0:(ze=null,Ve=0,r=$e)}if(r!==0){if(r===2&&(u=wl(e),u!==0&&(o=u,r=Bi(e,u))),r===1)throw a=mn,Or(e,0),gr(e,o),nt(e,Te()),a;if(r===6)gr(e,o);else{if(u=e.current.alternate,(o&30)===0&&!Bm(u)&&(r=Ia(e,o),r===2&&(h=wl(e),h!==0&&(o=h,r=Bi(e,h))),r===1))throw a=mn,Or(e,0),gr(e,o),nt(e,Te()),a;switch(e.finishedWork=u,e.finishedLanes=o,r){case 0:case 1:throw Error(n(345));case 2:Ir(e,st,Yt);break;case 3:if(gr(e,o),(o&130023424)===o&&(r=Mi+500-Te(),10<r)){if(Bn(e,0)!==0)break;if(u=e.suspendedLanes,(u&o)!==o){Xe(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=Gl(Ir.bind(null,e,st,Yt),r);break}Ir(e,st,Yt);break;case 4:if(gr(e,o),(o&4194240)===o)break;for(r=e.eventTimes,u=-1;0<o;){var x=31-jt(o);h=1<<x,x=r[x],x>u&&(u=x),o&=~h}if(o=u,o=Te()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Fm(o/1960))-o,10<o){e.timeoutHandle=Gl(Ir.bind(null,e,st,Yt),o);break}Ir(e,st,Yt);break;case 5:Ir(e,st,Yt);break;default:throw Error(n(329))}}}return nt(e,Te()),e.callbackNode===a?Nd.bind(null,e):null}function Bi(e,r){var a=pn;return e.current.memoizedState.isDehydrated&&(Or(e,r).flags|=256),e=Ia(e,r),e!==2&&(r=st,st=a,r!==null&&Vi(r)),e}function Vi(e){st===null?st=e:st.push.apply(st,e)}function Bm(e){for(var r=e;;){if(r.flags&16384){var a=r.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var o=0;o<a.length;o++){var u=a[o],h=u.getSnapshot;u=u.value;try{if(!Nt(h(),u))return!1}catch{return!1}}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function gr(e,r){for(r&=~Li,r&=~Ca,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var a=31-jt(r),o=1<<a;e[a]=-1,r&=~o}}function kd(e){if((ue&6)!==0)throw Error(n(327));ps();var r=Bn(e,0);if((r&1)===0)return nt(e,Te()),null;var a=Ia(e,r);if(e.tag!==0&&a===2){var o=wl(e);o!==0&&(r=o,a=Bi(e,o))}if(a===1)throw a=mn,Or(e,0),gr(e,r),nt(e,Te()),a;if(a===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,Ir(e,st,Yt),nt(e,Te()),null}function Wi(e,r){var a=ue;ue|=1;try{return e(r)}finally{ue=a,ue===0&&(ms=Te()+500,ia&&ur())}}function Rr(e){fr!==null&&fr.tag===0&&(ue&6)===0&&ps();var r=ue;ue|=1;var a=vt.transition,o=xe;try{if(vt.transition=null,xe=1,e)return e()}finally{xe=o,vt.transition=a,ue=r,(ue&6)===0&&ur()}}function qi(){ut=hs.current,we(hs)}function Or(e,r){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,vm(a)),Re!==null)for(a=Re.return;a!==null;){var o=a;switch(ei(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&aa();break;case 3:cs(),we(et),we(He),mi();break;case 5:di(o);break;case 4:cs();break;case 13:we(ke);break;case 19:we(ke);break;case 10:li(o.type._context);break;case 22:case 23:qi()}a=a.return}if(ze=e,Re=e=vr(e.current,null),Ve=ut=r,$e=0,mn=null,Li=Ca=Pr=0,st=pn=null,Cr!==null){for(r=0;r<Cr.length;r++)if(a=Cr[r],o=a.interleaved,o!==null){a.interleaved=null;var u=o.next,h=a.pending;if(h!==null){var x=h.next;h.next=u,o.next=x}a.pending=o}Cr=null}return e}function _d(e,r){do{var a=Re;try{if(ai(),ga.current=wa,va){for(var o=_e.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}va=!1}if(Tr=0,Me=Ie=_e=null,ln=!1,on=0,Ui.current=null,a===null||a.return===null){$e=1,mn=r,Re=null;break}e:{var h=e,x=a.return,y=a,j=r;if(r=Ve,y.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var R=j,D=y,L=D.tag;if((D.mode&1)===0&&(L===0||L===11||L===15)){var I=D.alternate;I?(D.updateQueue=I.updateQueue,D.memoizedState=I.memoizedState,D.lanes=I.lanes):(D.updateQueue=null,D.memoizedState=null)}var V=Qu(x);if(V!==null){V.flags&=-257,Yu(V,x,y,h,r),V.mode&1&&Ju(h,R,r),r=V,j=R;var H=r.updateQueue;if(H===null){var K=new Set;K.add(j),r.updateQueue=K}else H.add(j);break e}else{if((r&1)===0){Ju(h,R,r),Hi();break e}j=Error(n(426))}}else if(Ne&&y.mode&1){var Pe=Qu(x);if(Pe!==null){(Pe.flags&65536)===0&&(Pe.flags|=256),Yu(Pe,x,y,h,r),si(us(j,y));break e}}h=j=us(j,y),$e!==4&&($e=2),pn===null?pn=[h]:pn.push(h),h=x;do{switch(h.tag){case 3:h.flags|=65536,r&=-r,h.lanes|=r;var C=Ku(h,j,r);bu(h,C);break e;case 1:y=j;var _=h.type,T=h.stateNode;if((h.flags&128)===0&&(typeof _.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(pr===null||!pr.has(T)))){h.flags|=65536,r&=-r,h.lanes|=r;var M=Gu(h,y,r);bu(h,M);break e}}h=h.return}while(h!==null)}Cd(a)}catch(J){r=J,Re===a&&a!==null&&(Re=a=a.return);continue}break}while(!0)}function Sd(){var e=Ea.current;return Ea.current=wa,e===null?wa:e}function Hi(){($e===0||$e===3||$e===2)&&($e=4),ze===null||(Pr&268435455)===0&&(Ca&268435455)===0||gr(ze,Ve)}function Ia(e,r){var a=ue;ue|=2;var o=Sd();(ze!==e||Ve!==r)&&(Yt=null,Or(e,r));do try{Vm();break}catch(u){_d(e,u)}while(!0);if(ai(),ue=a,Ea.current=o,Re!==null)throw Error(n(261));return ze=null,Ve=0,$e}function Vm(){for(;Re!==null;)Ed(Re)}function Wm(){for(;Re!==null&&!f0();)Ed(Re)}function Ed(e){var r=Pd(e.alternate,e,ut);e.memoizedProps=e.pendingProps,r===null?Cd(e):Re=r,Ui.current=null}function Cd(e){var r=e;do{var a=r.alternate;if(e=r.return,(r.flags&32768)===0){if(a=Dm(a,r,ut),a!==null){Re=a;return}}else{if(a=Um(a,r),a!==null){a.flags&=32767,Re=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$e=6,Re=null;return}}if(r=r.sibling,r!==null){Re=r;return}Re=r=e}while(r!==null);$e===0&&($e=5)}function Ir(e,r,a){var o=xe,u=vt.transition;try{vt.transition=null,xe=1,qm(e,r,a,o)}finally{vt.transition=u,xe=o}return null}function qm(e,r,a,o){do ps();while(fr!==null);if((ue&6)!==0)throw Error(n(327));a=e.finishedWork;var u=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var h=a.lanes|a.childLanes;if(_0(e,h),e===ze&&(Re=ze=null,Ve=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Ta||(Ta=!0,Rd(Ln,function(){return ps(),null})),h=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||h){h=vt.transition,vt.transition=null;var x=xe;xe=1;var y=ue;ue|=4,Ui.current=null,Mm(e,a),vd(a,e),dm(Hl),qn=!!ql,Hl=ql=null,e.current=a,zm(a),x0(),ue=y,xe=x,vt.transition=h}else e.current=a;if(Ta&&(Ta=!1,fr=e,Pa=u),h=e.pendingLanes,h===0&&(pr=null),y0(a.stateNode),nt(e,Te()),r!==null)for(o=e.onRecoverableError,a=0;a<r.length;a++)u=r[a],o(u.value,{componentStack:u.stack,digest:u.digest});if(Aa)throw Aa=!1,e=zi,zi=null,e;return(Pa&1)!==0&&e.tag!==0&&ps(),h=e.pendingLanes,(h&1)!==0?e===Fi?fn++:(fn=0,Fi=e):fn=0,ur(),null}function ps(){if(fr!==null){var e=xc(Pa),r=vt.transition,a=xe;try{if(vt.transition=null,xe=16>e?16:e,fr===null)var o=!1;else{if(e=fr,fr=null,Pa=0,(ue&6)!==0)throw Error(n(331));var u=ue;for(ue|=4,W=e.current;W!==null;){var h=W,x=h.child;if((W.flags&16)!==0){var y=h.deletions;if(y!==null){for(var j=0;j<y.length;j++){var R=y[j];for(W=R;W!==null;){var D=W;switch(D.tag){case 0:case 11:case 15:hn(8,D,h)}var L=D.child;if(L!==null)L.return=D,W=L;else for(;W!==null;){D=W;var I=D.sibling,V=D.return;if(md(D),D===R){W=null;break}if(I!==null){I.return=V,W=I;break}W=V}}}var H=h.alternate;if(H!==null){var K=H.child;if(K!==null){H.child=null;do{var Pe=K.sibling;K.sibling=null,K=Pe}while(K!==null)}}W=h}}if((h.subtreeFlags&2064)!==0&&x!==null)x.return=h,W=x;else e:for(;W!==null;){if(h=W,(h.flags&2048)!==0)switch(h.tag){case 0:case 11:case 15:hn(9,h,h.return)}var C=h.sibling;if(C!==null){C.return=h.return,W=C;break e}W=h.return}}var _=e.current;for(W=_;W!==null;){x=W;var T=x.child;if((x.subtreeFlags&2064)!==0&&T!==null)T.return=x,W=T;else e:for(x=_;W!==null;){if(y=W,(y.flags&2048)!==0)try{switch(y.tag){case 0:case 11:case 15:Sa(9,y)}}catch(J){Ce(y,y.return,J)}if(y===x){W=null;break e}var M=y.sibling;if(M!==null){M.return=y.return,W=M;break e}W=y.return}}if(ue=u,ur(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Mn,e)}catch{}o=!0}return o}finally{xe=a,vt.transition=r}}return!1}function Ad(e,r,a){r=us(a,r),r=Ku(e,r,1),e=hr(e,r,1),r=Xe(),e!==null&&(Ls(e,1,r),nt(e,r))}function Ce(e,r,a){if(e.tag===3)Ad(e,e,a);else for(;r!==null;){if(r.tag===3){Ad(r,e,a);break}else if(r.tag===1){var o=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(pr===null||!pr.has(o))){e=us(a,e),e=Gu(r,e,1),r=hr(r,e,1),e=Xe(),r!==null&&(Ls(r,1,e),nt(r,e));break}}r=r.return}}function Hm(e,r,a){var o=e.pingCache;o!==null&&o.delete(r),r=Xe(),e.pingedLanes|=e.suspendedLanes&a,ze===e&&(Ve&a)===a&&($e===4||$e===3&&(Ve&130023424)===Ve&&500>Te()-Mi?Or(e,0):Li|=a),nt(e,r)}function Td(e,r){r===0&&((e.mode&1)===0?r=1:(r=Fn,Fn<<=1,(Fn&130023424)===0&&(Fn=4194304)));var a=Xe();e=Gt(e,r),e!==null&&(Ls(e,r,a),nt(e,a))}function Km(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),Td(e,a)}function Gm(e,r){var a=0;switch(e.tag){case 13:var o=e.stateNode,u=e.memoizedState;u!==null&&(a=u.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(n(314))}o!==null&&o.delete(r),Td(e,a)}var Pd;Pd=function(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps||et.current)rt=!0;else{if((e.lanes&a)===0&&(r.flags&128)===0)return rt=!1,$m(e,r,a);rt=(e.flags&131072)!==0}else rt=!1,Ne&&(r.flags&1048576)!==0&&uu(r,ca,r.index);switch(r.lanes=0,r.tag){case 2:var o=r.type;ka(e,r),e=r.pendingProps;var u=rs(r,He.current);os(r,a),u=xi(null,r,o,e,u,a);var h=gi();return r.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,tt(o)?(h=!0,la(r)):h=!1,r.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,ci(r),u.updater=ja,r.stateNode=u,u._reactInternals=r,Ni(r,o,e,a),r=Ei(null,r,o,!0,h,a)):(r.tag=0,Ne&&h&&Zl(r),Ye(null,r,u,a),r=r.child),r;case 16:o=r.elementType;e:{switch(ka(e,r),e=r.pendingProps,u=o._init,o=u(o._payload),r.type=o,u=r.tag=Qm(o),e=_t(o,e),u){case 0:r=Si(null,r,o,e,a);break e;case 1:r=sd(null,r,o,e,a);break e;case 11:r=Xu(null,r,o,e,a);break e;case 14:r=Zu(null,r,o,_t(o.type,e),a);break e}throw Error(n(306,o,""))}return r;case 0:return o=r.type,u=r.pendingProps,u=r.elementType===o?u:_t(o,u),Si(e,r,o,u,a);case 1:return o=r.type,u=r.pendingProps,u=r.elementType===o?u:_t(o,u),sd(e,r,o,u,a);case 3:e:{if(nd(r),e===null)throw Error(n(387));o=r.pendingProps,h=r.memoizedState,u=h.element,yu(e,r),fa(r,o,null,a);var x=r.memoizedState;if(o=x.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){u=us(Error(n(423)),r),r=ad(e,r,o,a,u);break e}else if(o!==u){u=us(Error(n(424)),r),r=ad(e,r,o,a,u);break e}else for(ct=ir(r.stateNode.containerInfo.firstChild),ot=r,Ne=!0,kt=null,a=gu(r,null,o,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(as(),o===u){r=Qt(e,r,a);break e}Ye(e,r,o,a)}r=r.child}return r;case 5:return ju(r),e===null&&ri(r),o=r.type,u=r.pendingProps,h=e!==null?e.memoizedProps:null,x=u.children,Kl(o,u)?x=null:h!==null&&Kl(o,h)&&(r.flags|=32),rd(e,r),Ye(e,r,x,a),r.child;case 6:return e===null&&ri(r),null;case 13:return ld(e,r,a);case 4:return ui(r,r.stateNode.containerInfo),o=r.pendingProps,e===null?r.child=ls(r,null,o,a):Ye(e,r,o,a),r.child;case 11:return o=r.type,u=r.pendingProps,u=r.elementType===o?u:_t(o,u),Xu(e,r,o,u,a);case 7:return Ye(e,r,r.pendingProps,a),r.child;case 8:return Ye(e,r,r.pendingProps.children,a),r.child;case 12:return Ye(e,r,r.pendingProps.children,a),r.child;case 10:e:{if(o=r.type._context,u=r.pendingProps,h=r.memoizedProps,x=u.value,ve(ha,o._currentValue),o._currentValue=x,h!==null)if(Nt(h.value,x)){if(h.children===u.children&&!et.current){r=Qt(e,r,a);break e}}else for(h=r.child,h!==null&&(h.return=r);h!==null;){var y=h.dependencies;if(y!==null){x=h.child;for(var j=y.firstContext;j!==null;){if(j.context===o){if(h.tag===1){j=Jt(-1,a&-a),j.tag=2;var R=h.updateQueue;if(R!==null){R=R.shared;var D=R.pending;D===null?j.next=j:(j.next=D.next,D.next=j),R.pending=j}}h.lanes|=a,j=h.alternate,j!==null&&(j.lanes|=a),ii(h.return,a,r),y.lanes|=a;break}j=j.next}}else if(h.tag===10)x=h.type===r.type?null:h.child;else if(h.tag===18){if(x=h.return,x===null)throw Error(n(341));x.lanes|=a,y=x.alternate,y!==null&&(y.lanes|=a),ii(x,a,r),x=h.sibling}else x=h.child;if(x!==null)x.return=h;else for(x=h;x!==null;){if(x===r){x=null;break}if(h=x.sibling,h!==null){h.return=x.return,x=h;break}x=x.return}h=x}Ye(e,r,u.children,a),r=r.child}return r;case 9:return u=r.type,o=r.pendingProps.children,os(r,a),u=xt(u),o=o(u),r.flags|=1,Ye(e,r,o,a),r.child;case 14:return o=r.type,u=_t(o,r.pendingProps),u=_t(o.type,u),Zu(e,r,o,u,a);case 15:return ed(e,r,r.type,r.pendingProps,a);case 17:return o=r.type,u=r.pendingProps,u=r.elementType===o?u:_t(o,u),ka(e,r),r.tag=1,tt(o)?(e=!0,la(r)):e=!1,os(r,a),qu(r,o,u),Ni(r,o,u,a),Ei(null,r,o,!0,e,a);case 19:return od(e,r,a);case 22:return td(e,r,a)}throw Error(n(156,r.tag))};function Rd(e,r){return dc(e,r)}function Jm(e,r,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(e,r,a,o){return new Jm(e,r,a,o)}function Ki(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qm(e){if(typeof e=="function")return Ki(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ue)return 11;if(e===Dt)return 14}return 2}function vr(e,r){var a=e.alternate;return a===null?(a=yt(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function $a(e,r,a,o,u,h){var x=2;if(o=e,typeof e=="function")Ki(e)&&(x=1);else if(typeof e=="string")x=5;else e:switch(e){case ae:return $r(a.children,u,h,r);case ce:x=8,u|=8;break;case de:return e=yt(12,a,r,u|2),e.elementType=de,e.lanes=h,e;case Le:return e=yt(13,a,r,u),e.elementType=Le,e.lanes=h,e;case wt:return e=yt(19,a,r,u),e.elementType=wt,e.lanes=h,e;case Ee:return Da(a,u,h,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Qe:x=10;break e;case bt:x=9;break e;case Ue:x=11;break e;case Dt:x=14;break e;case Ze:x=16,o=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return r=yt(x,a,r,u),r.elementType=e,r.type=o,r.lanes=h,r}function $r(e,r,a,o){return e=yt(7,e,o,r),e.lanes=a,e}function Da(e,r,a,o){return e=yt(22,e,o,r),e.elementType=Ee,e.lanes=a,e.stateNode={isHidden:!1},e}function Gi(e,r,a){return e=yt(6,e,null,r),e.lanes=a,e}function Ji(e,r,a){return r=yt(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function Ym(e,r,a,o,u){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jl(0),this.expirationTimes=jl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jl(0),this.identifierPrefix=o,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function Qi(e,r,a,o,u,h,x,y,j){return e=new Ym(e,r,a,y,j),r===1?(r=1,h===!0&&(r|=8)):r=0,h=yt(3,null,null,r),e.current=h,h.stateNode=e,h.memoizedState={element:o,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},ci(h),e}function Xm(e,r,a){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:o==null?null:""+o,children:e,containerInfo:r,implementation:a}}function Od(e){if(!e)return cr;e=e._reactInternals;e:{if(Nr(e)!==e||e.tag!==1)throw Error(n(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(tt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(e.tag===1){var a=e.type;if(tt(a))return iu(e,a,r)}return r}function Id(e,r,a,o,u,h,x,y,j){return e=Qi(a,o,!0,e,u,h,x,y,j),e.context=Od(null),a=e.current,o=Xe(),u=xr(a),h=Jt(o,u),h.callback=r??null,hr(a,h,u),e.current.lanes=u,Ls(e,u,o),nt(e,o),e}function Ua(e,r,a,o){var u=r.current,h=Xe(),x=xr(u);return a=Od(a),r.context===null?r.context=a:r.pendingContext=a,r=Jt(h,x),r.payload={element:e},o=o===void 0?null:o,o!==null&&(r.callback=o),e=hr(u,r,x),e!==null&&(Ct(e,u,x,h),pa(e,u,x)),x}function La(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $d(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function Yi(e,r){$d(e,r),(e=e.alternate)&&$d(e,r)}function Zm(){return null}var Dd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Xi(e){this._internalRoot=e}Ma.prototype.render=Xi.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(n(409));Ua(e,r,null,null)},Ma.prototype.unmount=Xi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;Rr(function(){Ua(null,e,null,null)}),r[Wt]=null}};function Ma(e){this._internalRoot=e}Ma.prototype.unstable_scheduleHydration=function(e){if(e){var r=yc();e={blockedOn:null,target:e,priority:r};for(var a=0;a<nr.length&&r!==0&&r<nr[a].priority;a++);nr.splice(a,0,e),a===0&&jc(e)}};function Zi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function za(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ud(){}function ep(e,r,a,o,u){if(u){if(typeof o=="function"){var h=o;o=function(){var R=La(x);h.call(R)}}var x=Id(r,o,e,0,null,!1,!1,"",Ud);return e._reactRootContainer=x,e[Wt]=x.current,Xs(e.nodeType===8?e.parentNode:e),Rr(),x}for(;u=e.lastChild;)e.removeChild(u);if(typeof o=="function"){var y=o;o=function(){var R=La(j);y.call(R)}}var j=Qi(e,0,!1,null,null,!1,!1,"",Ud);return e._reactRootContainer=j,e[Wt]=j.current,Xs(e.nodeType===8?e.parentNode:e),Rr(function(){Ua(r,j,a,o)}),j}function Fa(e,r,a,o,u){var h=a._reactRootContainer;if(h){var x=h;if(typeof u=="function"){var y=u;u=function(){var j=La(x);y.call(j)}}Ua(r,x,e,u)}else x=ep(a,r,e,u,o);return La(x)}gc=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var a=Us(r.pendingLanes);a!==0&&(Nl(r,a|1),nt(r,Te()),(ue&6)===0&&(ms=Te()+500,ur()))}break;case 13:Rr(function(){var o=Gt(e,1);if(o!==null){var u=Xe();Ct(o,e,1,u)}}),Yi(e,1)}},kl=function(e){if(e.tag===13){var r=Gt(e,134217728);if(r!==null){var a=Xe();Ct(r,e,134217728,a)}Yi(e,134217728)}},vc=function(e){if(e.tag===13){var r=xr(e),a=Gt(e,r);if(a!==null){var o=Xe();Ct(a,e,r,o)}Yi(e,r)}},yc=function(){return xe},bc=function(e,r){var a=xe;try{return xe=e,r()}finally{xe=a}},xl=function(e,r,a){switch(r){case"input":if(ol(e,a),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<a.length;r++){var o=a[r];if(o!==e&&o.form===e.form){var u=na(o);if(!u)throw Error(n(90));Wo(o),ol(o,u)}}}break;case"textarea":Jo(e,a);break;case"select":r=a.value,r!=null&&Wr(e,!!a.multiple,r,!1)}},nc=Wi,ac=Rr;var tp={usingClientEntryPoint:!1,Events:[tn,es,na,rc,sc,Wi]},xn={findFiberByHostInstance:kr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rp={bundleType:xn.bundleType,version:xn.version,rendererPackageName:xn.rendererPackageName,rendererConfig:xn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=cc(e),e===null?null:e.stateNode},findFiberByHostInstance:xn.findFiberByHostInstance||Zm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ba=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ba.isDisabled&&Ba.supportsFiber)try{Mn=Ba.inject(rp),Ut=Ba}catch{}}return at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tp,at.createPortal=function(e,r){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zi(r))throw Error(n(200));return Xm(e,r,null,a)},at.createRoot=function(e,r){if(!Zi(e))throw Error(n(299));var a=!1,o="",u=Dd;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(u=r.onRecoverableError)),r=Qi(e,1,!1,null,null,a,!1,o,u),e[Wt]=r.current,Xs(e.nodeType===8?e.parentNode:e),new Xi(r)},at.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=cc(r),e=e===null?null:e.stateNode,e},at.flushSync=function(e){return Rr(e)},at.hydrate=function(e,r,a){if(!za(r))throw Error(n(200));return Fa(null,e,r,!0,a)},at.hydrateRoot=function(e,r,a){if(!Zi(e))throw Error(n(405));var o=a!=null&&a.hydratedSources||null,u=!1,h="",x=Dd;if(a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),r=Id(r,null,e,1,a??null,u,!1,h,x),e[Wt]=r.current,Xs(e),o)for(e=0;e<o.length;e++)a=o[e],u=a._getVersion,u=u(a._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[a,u]:r.mutableSourceEagerHydrationData.push(a,u);return new Ma(r)},at.render=function(e,r,a){if(!za(r))throw Error(n(200));return Fa(null,e,r,!1,a)},at.unmountComponentAtNode=function(e){if(!za(e))throw Error(n(40));return e._reactRootContainer?(Rr(function(){Fa(null,null,e,!1,function(){e._reactRootContainer=null,e[Wt]=null})}),!0):!1},at.unstable_batchedUpdates=Wi,at.unstable_renderSubtreeIntoContainer=function(e,r,a,o){if(!za(a))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return Fa(e,r,a,!1,o)},at.version="18.3.1-next-f1338f8080-20240426",at}var qd;function dp(){if(qd)return ro.exports;qd=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(s){console.error(s)}}return l(),ro.exports=up(),ro.exports}var Hd;function hp(){if(Hd)return Va;Hd=1;var l=dp();return Va.createRoot=l.createRoot,Va.hydrateRoot=l.hydrateRoot,Va}var mp=hp(),z=Eo();const pp=np(z);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xp=l=>l.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,n,i)=>i?i.toUpperCase():n.toLowerCase()),Kd=l=>{const s=xp(l);return s.charAt(0).toUpperCase()+s.slice(1)},Eh=(...l)=>l.filter((s,n,i)=>!!s&&s.trim()!==""&&i.indexOf(s)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=z.forwardRef(({color:l="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:c="",children:d,iconNode:m,...f},p)=>z.createElement("svg",{ref:p,...gp,width:s,height:s,stroke:l,strokeWidth:i?Number(n)*24/Number(s):n,className:Eh("lucide",c),...f},[...m.map(([g,v])=>z.createElement(g,v)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=(l,s)=>{const n=z.forwardRef(({className:i,...c},d)=>z.createElement(vp,{ref:d,iconNode:s,className:Eh(`lucide-${fp(Kd(l))}`,`lucide-${l}`,i),...c}));return n.displayName=Kd(l),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Co=Q("activity",yp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],tl=Q("arrow-left",bp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],jp=Q("arrow-right",wp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ja=Q("bell",Np);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],_p=Q("building",kp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Zt=Q("calendar",Sp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],_s=Q("check",Ep);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ao=Q("chevron-down",Cp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],To=Q("chevron-up",Ap);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],rl=Q("circle-alert",Tp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$t=Q("circle-check-big",Pp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Op=Q("circle-x",Rp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Bt=Q("clock",Ip);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Dp=Q("copy",$p);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Ch=Q("credit-card",Up);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Vt=Q("dollar-sign",Lp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Po=Q("download",Mp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Gd=Q("external-link",zp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ah=Q("eye",Fp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],Vp=Q("file-check",Bp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],qp=Q("file-text",Wp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=[["line",{x1:"22",x2:"2",y1:"6",y2:"6",key:"15w7dq"}],["line",{x1:"22",x2:"2",y1:"18",y2:"18",key:"1ip48p"}],["line",{x1:"6",x2:"6",y1:"2",y2:"22",key:"a2lnyx"}],["line",{x1:"18",x2:"18",y1:"2",y2:"22",key:"8vb6jd"}]],wn=Q("frame",Hp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Gp=Q("funnel",Kp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Th=Q("image",Jp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],fo=Q("info",Qp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Xp=Q("key",Yp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],ef=Q("layout-dashboard",Zp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],rf=Q("link",tf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Es=Q("loader-circle",sf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Ro=Q("log-out",nf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],sl=Q("mail",af);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Br=Q("map-pin",lf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]],Ph=Q("megaphone",of);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],uf=Q("menu",cf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Jd=Q("moon",df);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Oo=Q("package",hf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],jn=Q("palette",mf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Vr=Q("plus",pf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],xf=Q("qr-code",ff);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Rh=Q("save",gf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],yf=Q("scale",vf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Oh=Q("search",bf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jf=Q("settings",wf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],kf=Q("shield-check",Nf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Nn=Q("shield",_f);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Io=Q("shopping-cart",Sf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],$o=Q("sparkles",Ef);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Do=Q("square-pen",Cf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],Tf=Q("sticky-note",Af);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],kn=Q("store",Pf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Qd=Q("sun",Rf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Ih=Q("tag",Of);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],$f=Q("trash-2",If);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],jr=Q("trending-up",Df);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],$h=Q("triangle-alert",Uf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Dh=Q("upload",Lf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Qa=Q("user",Mf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Pn=Q("users",zf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],It=Q("x",Ff);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Uh=Q("zap",Bf);function Vf({user:l,onNavigate:s,onLogout:n,currentPage:i,onMenuClick:c,unreadCount:d=2}){const m=l.role==="artist",g=m?[{id:"artist-dashboard",label:"Dashboard"},{id:"artist-artworks",label:"My Artworks"},{id:"artist-venues",label:"Available Venues"},{id:"artist-sales",label:"Sales & Earnings"}]:[{id:"venue-dashboard",label:"Dashboard"},{id:"venue-walls",label:"My Wall Spaces"},{id:"venue-applications",label:"Artist Applications"},{id:"venue-current",label:"Current Artwork"},{id:"venue-sales",label:"Sales"}];return t.jsx("nav",{className:"bg-white border-b border-neutral-200",children:t.jsx("div",{className:"max-w-7xl mx-auto px-6",children:t.jsxs("div",{className:"flex items-center justify-between h-16",children:[t.jsxs("div",{className:"flex items-center gap-8",children:[t.jsx("button",{onClick:c,className:"lg:hidden p-2 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-lg transition-colors text-neutral-900 dark:text-neutral-100",children:t.jsx(uf,{className:"w-6 h-6"})}),t.jsxs("div",{className:"flex items-center gap-2",children:[m?t.jsx(jn,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}):t.jsx(kn,{className:"w-6 h-6 text-green-600 dark:text-green-400"}),t.jsx("span",{className:"text-xl tracking-tight text-neutral-900 dark:text-neutral-50",children:"Artwalls"})]}),t.jsx("div",{className:"hidden lg:flex gap-1",children:g.map(v=>t.jsx("button",{onClick:()=>s(v.id),className:`px-4 py-2 rounded-lg transition-colors ${i===v.id?m?"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-300":"text-neutral-600 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-800"}`,children:v.label},v.id))})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("button",{onClick:()=>s(l.role==="artist"?"artist-notifications":"venue-notifications"),className:"relative p-2 text-neutral-600 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-lg transition-colors",children:[t.jsx(Ja,{className:"w-5 h-5"}),d>0&&t.jsx("span",{className:`absolute top-1 right-1 w-4 h-4 text-white text-xs rounded-full flex items-center justify-center ${m?"bg-blue-600 dark:bg-blue-500":"bg-green-600 dark:bg-green-500"}`,children:d})]}),t.jsx("div",{className:`lg:hidden px-3 py-1 rounded-full text-xs ${m?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300"}`,children:l.role==="artist"?"Artist":"Venue"}),t.jsxs("div",{className:"hidden lg:block text-right",children:[t.jsx("div",{className:"text-sm text-neutral-900 dark:text-neutral-100",children:l.name}),t.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-500 capitalize",children:l.role})]}),t.jsx("button",{onClick:n,className:"hidden lg:block p-2 text-neutral-600 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-lg transition-colors",children:t.jsx(Ro,{className:"w-5 h-5"})})]})]})})})}const Wf=z.createContext(void 0),qf=()=>{const l=z.useContext(Wf);if(!l)throw new Error("useTheme must be used within ThemeProvider");return l};function Hf({variant:l="icon"}){const{resolvedTheme:s,toggle:n}=qf(),i=s==="dark";return l==="button"?t.jsx("button",{type:"button",onClick:n,className:"px-3 py-2 rounded-lg border border-neutral-200 bg-white text-neutral-700 hover:bg-neutral-100 transition-colors","aria-label":i?"Switch to light mode":"Switch to dark mode",children:t.jsxs("span",{className:"inline-flex items-center gap-2",children:[i?t.jsx(Qd,{className:"w-4 h-4"}):t.jsx(Jd,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm",children:i?"Light":"Dark"})]})}):t.jsx("button",{type:"button",onClick:n,className:"p-2 text-neutral-600 hover:bg-neutral-100 rounded-lg transition-colors","aria-label":i?"Switch to light mode":"Switch to dark mode",title:i?"Switch to light mode":"Switch to dark mode",children:i?t.jsx(Qd,{className:"w-5 h-5"}):t.jsx(Jd,{className:"w-5 h-5"})})}function Kf({isOpen:l,onClose:s,user:n,onNavigate:i,onLogout:c,currentPage:d}){const m=n.role==="artist",g=m?[{id:"artist-dashboard",label:"Dashboard"},{id:"artist-artworks",label:"My Artworks"},{id:"artist-venues",label:"Available Venues"},{id:"artist-applications",label:"Applications"},{id:"artist-sales",label:"Sales & Earnings"},{id:"artist-notifications",label:"Notifications"},{id:"artist-profile",label:"Profile"},{id:"plans-pricing",label:"Plans & Pricing"},{id:"policies",label:"Policies & Agreements"}]:[{id:"venue-dashboard",label:"Dashboard"},{id:"venue-walls",label:"My Wall Spaces"},{id:"venue-applications",label:"Artist Applications"},{id:"venue-current",label:"Current Artwork"},{id:"venue-sales",label:"Sales"},{id:"venue-settings",label:"Settings"},{id:"venue-notifications",label:"Notifications"},{id:"venue-profile",label:"Profile"},{id:"policies",label:"Policies & Agreements"}],v=N=>{i(N),s()},w=()=>{c(),s()};return l?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:s}),t.jsxs("div",{className:"fixed inset-y-0 left-0 w-72 bg-white shadow-xl z-50 lg:hidden overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-neutral-200",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[m?t.jsx(jn,{className:"w-6 h-6 text-blue-600"}):t.jsx(kn,{className:"w-6 h-6 text-green-600 dark:text-green-400"}),t.jsx("span",{className:"text-xl tracking-tight text-neutral-900 dark:text-neutral-50",children:"Artwalls"})]}),t.jsx("button",{onClick:s,className:"p-2 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-lg transition-colors text-neutral-900 dark:text-neutral-100",children:t.jsx(It,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-6 border-b border-neutral-200 dark:border-neutral-700",children:[t.jsx("div",{className:"text-lg mb-1 text-neutral-900 dark:text-neutral-50",children:n.name}),t.jsx("div",{className:`inline-flex px-3 py-1 rounded-full text-sm ${m?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300"}`,children:n.role==="artist"?"Artist":"Venue"})]}),t.jsx("div",{className:"p-6 border-b border-neutral-200 dark:border-neutral-700",children:t.jsx(Hf,{variant:"button"})}),t.jsx("nav",{className:"p-4",children:t.jsx("div",{className:"space-y-1",children:g.map(N=>t.jsx("button",{onClick:()=>v(N.id),className:`w-full text-left px-4 py-3 rounded-lg transition-colors ${d===N.id?m?"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-300":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800"}`,children:N.label},N.id))})}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:t.jsxs("button",{onClick:w,className:"w-full flex items-center justify-center gap-2 px-4 py-3 text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded-lg transition-colors",children:[t.jsx(Ro,{className:"w-5 h-5"}),t.jsx("span",{children:"Logout"})]})})]})]}):null}function Gf({onLogin:l}){const[s,n]=z.useState(null),[i,c]=z.useState(!1),[d,m]=z.useState(""),[f,p]=z.useState(""),g=v=>{if(v.preventDefault(),!s)return;const w={id:Math.random().toString(36).substr(2,9),name:d||(s==="artist"?"Demo Artist":"Demo Venue"),email:f||`demo@${s}.com`,role:s};l(w)};return s?t.jsx("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-900 flex items-center justify-center px-6",children:t.jsxs("div",{className:"w-full max-w-md",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[s==="artist"?t.jsx(jn,{className:"w-8 h-8 text-blue-600"}):t.jsx(kn,{className:"w-8 h-8 text-green-600"}),t.jsx("h1",{className:"text-3xl text-neutral-900",children:"Artwalls"})]}),t.jsx("p",{className:"text-neutral-600 dark:text-neutral-300",children:i?"Create your account":"Sign in to continue"})]}),t.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-2xl p-8 border border-neutral-200 dark:border-neutral-700",children:[t.jsx("div",{className:`inline-flex px-3 py-1 rounded-full text-sm mb-6 ${s==="artist"?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300"}`,children:s==="artist"?"Artist Account":"Venue Account"}),t.jsxs("form",{onSubmit:g,className:"space-y-4",children:[i&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-neutral-700 mb-1",children:s==="artist"?"Artist Name":"Venue Name"}),t.jsx("input",{type:"text",value:d,onChange:v=>m(v.target.value),className:"w-full px-4 py-2 rounded-lg border border-neutral-300 bg-white text-neutral-900 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:s==="artist"?"Your name":"Your venue name"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-neutral-700 mb-1",children:"Email"}),t.jsx("input",{type:"email",value:f,onChange:v=>p(v.target.value),className:"w-full px-4 py-2 rounded-lg border border-neutral-300 dark:border-neutral-600 bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-50 placeholder:text-neutral-400 dark:placeholder:text-neutral-500 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400",placeholder:"your@email.com"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-neutral-700 mb-1",children:"Password"}),t.jsx("input",{type:"password",className:"w-full px-4 py-2 rounded-lg border border-neutral-300 dark:border-neutral-600 bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-50 placeholder:text-neutral-400 dark:placeholder:text-neutral-500 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400",placeholder:""})]}),t.jsx("button",{type:"submit",className:`w-full py-3 rounded-lg text-white transition-colors ${s==="artist"?"bg-blue-600 hover:bg-blue-700":"bg-green-600 hover:bg-green-700"}`,children:i?"Create Account":"Sign In"})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsx("button",{onClick:()=>c(!i),className:"text-sm text-neutral-600 hover:text-neutral-900",children:i?"Already have an account? Sign in":"Don't have an account? Sign up"})}),t.jsx("div",{className:"mt-4 text-center",children:t.jsx("button",{onClick:()=>n(null),className:"text-sm text-neutral-500 hover:text-neutral-700",children:" Choose different role"})})]})]})}):t.jsx("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-900 flex items-center justify-center px-6",children:t.jsxs("div",{className:"w-full max-w-4xl",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h1",{className:"text-4xl mb-3 text-neutral-900 dark:text-neutral-50",children:"Welcome to Artwalls"}),t.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Connecting local artists with venues to display and sell physical artwork"})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6 max-w-3xl mx-auto",children:[t.jsx("button",{onClick:()=>n("artist"),className:"group bg-white dark:bg-neutral-800 rounded-2xl p-8 border-2 border-neutral-200 dark:border-neutral-700 hover:border-blue-500 dark:hover:border-blue-400 hover:shadow-lg dark:hover:shadow-lg transition-all",children:t.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center group-hover:bg-blue-500 dark:group-hover:bg-blue-500 transition-colors",children:t.jsx(jn,{className:"w-8 h-8 text-blue-600 dark:text-blue-300 group-hover:text-white transition-colors"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl mb-2 text-neutral-900 dark:text-neutral-50",children:"I'm an Artist"}),t.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Share your artwork with local venues and earn 80% from every sale"})]})]})}),t.jsx("button",{onClick:()=>n("venue"),className:"group bg-white dark:bg-neutral-800 rounded-2xl p-8 border-2 border-neutral-200 dark:border-neutral-700 hover:border-green-500 dark:hover:border-green-400 hover:shadow-lg dark:hover:shadow-lg transition-all",children:t.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center group-hover:bg-green-500 dark:group-hover:bg-green-500 transition-colors",children:t.jsx(kn,{className:"w-8 h-8 text-green-600 dark:text-green-300 group-hover:text-white transition-colors"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl mb-2 text-neutral-900 dark:text-neutral-50",children:"I'm a Venue"}),t.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Display rotating artwork and earn 10% commission on sales"})]})]})})]})]})})}const Ts=[{id:"1",title:"Sunset Boulevard",artistName:"Sarah Chen",price:450,imageUrl:"https://images.unsplash.com/photo-1541961017774-22349e4a1262?w=800",description:"Abstract interpretation of urban sunsets",status:"active",venueId:"1",venueName:"Brew & Palette Caf",checkoutUrl:""},{id:"2",title:"Urban Dreams",artistName:"Sarah Chen",price:380,imageUrl:"https://images.unsplash.com/photo-1578301978693-85fa9c0320b9?w=800",description:"Mixed media cityscape",status:"available"},{id:"3",title:"Morning Light",artistName:"Sarah Chen",price:520,imageUrl:"https://images.unsplash.com/photo-1549887534-1541e9326642?w=800",description:"Watercolor landscape series",status:"pending",venueId:"2",venueName:"The Artisan Lounge"},{id:"4",title:"Reflections",artistName:"Sarah Chen",price:295,imageUrl:"https://images.unsplash.com/photo-1547826039-bfc35e0f1ea8?w=800",description:"Contemporary abstract piece",status:"sold",venueId:"1",venueName:"Brew & Palette Caf",checkoutUrl:""}],Jf=[{id:"1",name:"Brew & Palette Caf",type:"Coffee Shop",address:"123 Main Street, Downtown",imageUrl:"https://images.unsplash.com/photo-1554118811-1e0d58224f24?w=800",wallSpaces:3,availableSpaces:1,description:"Cozy neighborhood caf with exposed brick walls perfect for showcasing local art"},{id:"2",name:"The Artisan Lounge",type:"Wine Bar",address:"456 Oak Avenue, Arts District",imageUrl:"https://images.unsplash.com/photo-1572116469696-31de0f17cc34?w=800",wallSpaces:4,availableSpaces:2,description:"Upscale wine bar featuring rotating exhibitions from emerging artists"},{id:"3",name:"Sunrise Bistro",type:"Restaurant",address:"789 Park Lane, Midtown",imageUrl:"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800",wallSpaces:5,availableSpaces:3,description:"Modern bistro with bright, open dining spaces ideal for large-format artwork"},{id:"4",name:"Corner Grind",type:"Coffee Shop",address:"321 Elm Street, Westside",imageUrl:"https://images.unsplash.com/photo-1445116572660-236099ec97a0?w=800",wallSpaces:2,availableSpaces:2,description:"Minimalist coffee spot looking for contemporary pieces"}],Ya=[{id:"w1",name:"Main Wall",width:96,height:72,available:!1,currentArtworkId:"1",photos:["https://images.unsplash.com/photo-1554118811-1e0d58224f24?w=800"],description:"Main wall in the caf, prominently displayed"},{id:"w2",name:"Side Wall",width:60,height:48,available:!0},{id:"w3",name:"Corner Space",width:48,height:60,available:!1,currentArtworkId:"5"}],Uo=[{id:"app1",artworkId:"6",artworkTitle:"Coastal Memories",artistName:"Marcus Rodriguez",artworkImage:"https://images.unsplash.com/photo-1460661419201-fd4cecdf8a8b?w=800",venueId:"1",venueName:"Brew & Palette Caf",status:"pending",appliedDate:"2025-12-20"},{id:"app2",artworkId:"7",artworkTitle:"Digital Nature",artistName:"Emma Thompson",artworkImage:"https://images.unsplash.com/photo-1536924430914-91f9e2041b83?w=800",venueId:"1",venueName:"Brew & Palette Caf",status:"pending",appliedDate:"2025-12-22"},{id:"app3",artworkId:"8",artworkTitle:"Urban Jungle",artistName:"Alex Kim",artworkImage:"https://images.unsplash.com/photo-1579783902614-a3fb3927b6a5?w=800",venueId:"1",venueName:"Brew & Palette Caf",status:"approved",appliedDate:"2025-12-18"}],Ot=[{id:"s1",artworkId:"4",artworkTitle:"Reflections",artworkImage:"https://images.unsplash.com/photo-1547826039-bfc35e0f1ea8?w=800",artistName:"Sarah Chen",venueName:"Brew & Palette Caf",price:295,artistEarnings:236,venueEarnings:29.5,platformFee:29.5,saleDate:"2025-12-20"},{id:"s2",artworkId:"9",artworkTitle:"Golden Hour",artworkImage:"https://images.unsplash.com/photo-1551732998-9d6c0b9c5fef?w=800",artistName:"Sarah Chen",venueName:"The Artisan Lounge",price:680,artistEarnings:544,venueEarnings:68,platformFee:68,saleDate:"2025-12-15"},{id:"s3",artworkId:"10",artworkTitle:"Midnight City",artworkImage:"https://images.unsplash.com/photo-1577083552431-6e5fd01988ec?w=800",artistName:"Sarah Chen",venueName:"Brew & Palette Caf",price:425,artistEarnings:340,venueEarnings:42.5,platformFee:42.5,saleDate:"2025-12-10"}],Qf=[{id:"ia1",artworkId:"1",artworkTitle:"Sunset Boulevard",artworkImage:"https://images.unsplash.com/photo-1541961017774-22349e4a1262?w=800",artistName:"Sarah Chen",price:450,wallSpaceId:"w1",wallSpaceName:"Main Wall",installDate:"2025-11-15",endDate:"2026-02-15",status:"active",scheduledInstall:"Thu 4:30 PM",installConfirmed:!0},{id:"ia2",artworkId:"3",artworkTitle:"Morning Light",artworkImage:"https://images.unsplash.com/photo-1549887534-1541e9326642?w=800",artistName:"Sarah Chen",price:520,wallSpaceId:"w3",wallSpaceName:"Corner Space",installDate:"2025-12-01",endDate:"2026-01-05",status:"ending-soon",scheduledInstall:"Thu 5:00 PM",installConfirmed:!0},{id:"ia3",artworkId:"4",artworkTitle:"Reflections",artworkImage:"https://images.unsplash.com/photo-1547826039-bfc35e0f1ea8?w=800",artistName:"Sarah Chen",price:295,wallSpaceId:"w1",wallSpaceName:"Main Wall",installDate:"2025-10-01",endDate:"2025-12-20",status:"sold",scheduledPickup:"Thu 5:15 PM",installConfirmed:!0,pickupConfirmed:!1}],Pt={dayOfWeek:"Thursday",startTime:"16:00",endTime:"18:00"},Wa=[{id:"n1",type:"application-approved",title:"Application Approved!",message:'Your artwork "Urban Dreams" has been approved by Brew & Palette Caf',timestamp:"2025-12-24T10:30:00",isRead:!1,ctaLabel:"Schedule Install",ctaAction:"schedule-install",artworkId:"2"},{id:"n2",type:"install-reminder",title:"Install Tomorrow",message:'Reminder: Install "Sunset Boulevard" tomorrow at 4:30 PM',timestamp:"2025-12-24T09:00:00",isRead:!1,ctaLabel:"View Details"},{id:"n3",type:"artwork-sold",title:"Artwork Sold!",message:'Congratulations! "Reflections" has been sold for $295',timestamp:"2025-12-20T14:22:00",isRead:!0,ctaLabel:"Schedule Pickup",ctaAction:"schedule-pickup",artworkId:"4"},{id:"n4",type:"pickup-scheduled",title:"Pickup Scheduled",message:'Pickup scheduled for "Reflections" on Thursday at 5:15 PM',timestamp:"2025-12-20T15:00:00",isRead:!0}];function Lh({plan:l,size:s="md",showUpgrade:n=!1,onUpgrade:i}){const d={free:{label:"Free",icon:$o,bg:"bg-neutral-100",text:"text-neutral-700",border:"border-neutral-200"},starter:{label:"Starter",icon:jr,bg:"bg-blue-100",text:"text-blue-700",border:"border-blue-200"},growth:{label:"Growth",icon:Uh,bg:"bg-blue-100",text:"text-blue-700",border:"border-blue-200"},pro:{label:"Pro",icon:Nn,bg:"bg-gradient-to-r from-blue-600 to-purple-600",text:"text-white",border:"border-transparent"}}[l],m=d.icon,f={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1.5",lg:"text-base px-4 py-2"},p={sm:"w-3 h-3",md:"w-4 h-4",lg:"w-5 h-5"};return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("div",{className:`inline-flex items-center gap-1.5 ${d.bg} ${d.text} ${f[s]} rounded-lg border ${d.border}`,children:[t.jsx(m,{className:p[s]}),t.jsx("span",{children:d.label})]}),n&&l!=="pro"&&t.jsx("button",{onClick:i,className:"text-xs text-blue-600 hover:text-blue-700 underline",children:"Upgrade"})]})}function Yf({currentPlan:l,onUpgrade:s}){const i={free:{title:"Ready to grow your art business?",description:"Upgrade to Starter for 4 active displays, 10 artwork listings, lower platform fees (10%), and up to 3 venue applications per month.",cta:"Upgrade to Starter  $9/mo",features:["4 active displays","10 artworks","Lower fees (10%)"]},starter:{title:"Unlock unlimited applications",description:"Upgrade to Growth for 10 active displays, unlimited venue applications, priority visibility, and lower platform fees (8%).",cta:"Upgrade to Growth  $19/mo",features:["10 active displays","Unlimited applications","Lower fees (8%)"]},growth:{title:"Get protection included FREE",description:"Upgrade to Pro for unlimited active displays, free Artwork Protection Plan, 6% platform fees, and highest visibility.",cta:"Upgrade to Pro  $39/mo",features:["Unlimited displays","FREE protection","Lowest fees (6%)"]}}[l];return t.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-purple-600 rounded-xl p-6 text-white",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-white rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx($o,{className:"w-6 h-6"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg mb-2 text-white",children:i.title}),t.jsx("p",{className:"text-sm text-white/90 mb-4",children:i.description}),t.jsx("ul",{className:"space-y-1 mb-4",children:i.features.map((c,d)=>t.jsxs("li",{className:"text-sm text-white/90 flex items-center gap-2",children:[t.jsx("span",{className:"w-1.5 h-1.5 bg-white rounded-full"}),c]},d))}),t.jsxs("button",{onClick:s,className:"inline-flex items-center gap-2 px-4 py-2 bg-white text-blue-600 rounded-lg hover:bg-white transition-colors",children:[t.jsx("span",{children:i.cta}),t.jsx(jp,{className:"w-4 h-4"})]})]})]})})}function Xf({currentDisplays:l,includedDisplays:s,plan:n,overageCost:i,onUpgrade:c,onManage:d}){const m=s==="unlimited",f=!m&&l>s,p=f?l-s:0,g=p*(i||0),v=m?0:Math.min(l/s*100,100),w=()=>m?"bg-green-600":f?"bg-orange-600":v>80?"bg-yellow-600":"bg-blue-600";return t.jsxs("div",{className:"bg-white rounded-xl border border-neutral-200 p-6",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${f?"bg-orange-100":"bg-blue-100"}`,children:t.jsx(jr,{className:`w-5 h-5 ${f?"text-orange-600":"text-blue-600"}`})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-base mb-1 text-neutral-900",children:"Active Displays"}),t.jsx("p",{className:"text-xs text-neutral-600",children:m?"Unlimited displays":`${l} / ${s} included`})]})]}),!m&&t.jsx("div",{className:"text-right",children:t.jsxs("p",{className:"text-2xl",children:[l,t.jsxs("span",{className:"text-sm text-neutral-500",children:["/",s==="unlimited"?"":s]})]})})]}),!m&&t.jsx("div",{className:"mb-4",children:t.jsx("div",{className:"w-full bg-neutral-200 rounded-full h-3 overflow-hidden",children:t.jsx("div",{className:`h-full ${w()} transition-all duration-300`,style:{width:`${v}%`}})})}),f&&t.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-4",children:t.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[t.jsx(rl,{className:"w-5 h-5 text-orange-600 flex-shrink-0"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm text-orange-900 mb-1",children:t.jsx("strong",{children:"Overage charges apply"})}),t.jsxs("p",{className:"text-sm text-orange-800",children:["+",p," display",p!==1?"s":""," beyond your plan =",t.jsxs("strong",{children:[" $",g,"/mo"]})," surcharge"]}),t.jsxs("p",{className:"text-xs text-orange-700 mt-1",children:["$",i,"/mo per additional active display"]})]})]})}),m&&t.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:t.jsxs("p",{className:"text-sm text-green-900",children:[" ",t.jsx("strong",{children:"Unlimited displays"}),"  Display as many artworks as you want with no overage charges."]})}),t.jsxs("div",{className:"flex items-center gap-2",children:[d&&t.jsx("button",{onClick:d,className:"flex-1 px-4 py-2 bg-neutral-100 text-neutral-700 rounded-lg hover:bg-neutral-200 transition-colors text-sm",children:"Manage Displays"}),c&&!m&&t.jsx("button",{onClick:c,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:f?"Upgrade to Save":"Upgrade Plan"})]}),!m&&v>80&&!f&&t.jsx("p",{className:"text-xs text-yellow-700 mt-3 text-center",children:" You're nearing your display limit. Consider upgrading to avoid overage charges."})]})}const Zf={},Mh=Zf?.VITE_API_BASE_URL||"http://localhost:4242";async function Lo(l){const s=await fetch(`${Mh}${l}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!s.ok){const n=await s.text();throw new Error(n||`Request failed: ${s.status}`)}return await s.json()}async function Cs(l,s,n){const i=await fetch(`${Mh}${l}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!i.ok){const c=await i.text();throw new Error(c||`Request failed: ${i.status}`)}return await i.json()}function ex({user:l}){const[s,n]=z.useState({hasAccount:!1}),[i,c]=z.useState(!0),[d,m]=z.useState(!1),[f,p]=z.useState(null),g=async()=>{c(!0),p(null);try{const P=await Lo(`/api/stripe/connect/status?artistId=${encodeURIComponent(l.id)}`);n(P)}catch(P){p(P?.message||"Unable to load payout status")}finally{c(!1)}};z.useEffect(()=>{g()},[l.id]);const v=async()=>{try{m(!0),p(null),await Cs("/api/stripe/connect/create-account",{artistId:l.id,email:l.email,name:l.name});const{url:P}=await Cs("/api/stripe/connect/account-link",{artistId:l.id});window.open(P,"_blank","noopener,noreferrer")}catch(P){p(P?.message||"Unable to start Stripe onboarding")}finally{m(!1),setTimeout(()=>g(),2e3)}},w=async()=>{try{m(!0),p(null);const{url:P}=await Cs("/api/stripe/connect/login-link",{artistId:l.id});window.open(P,"_blank","noopener,noreferrer")}catch(P){p(P?.message||"Unable to open Stripe dashboard")}finally{m(!1)}},N=!!s.hasAccount&&!!s.payouts_enabled;return t.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 border border-neutral-200 dark:border-neutral-700",children:[t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center",children:t.jsx(Ch,{className:"w-5 h-5 text-blue-600 dark:text-blue-300"})}),t.jsx("h2",{className:"text-xl text-neutral-900 dark:text-neutral-50",children:"Get paid automatically"})]}),t.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"Artwalls uses Stripe Connect to route each sale to your bank account."})]}),!i&&t.jsx("span",{className:`px-3 py-1 rounded-full text-xs border ${N?"bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-200 border-green-200 dark:border-green-800":"bg-yellow-50 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-200 border-yellow-200 dark:border-yellow-800"}`,children:N?"Payouts enabled":"Action required"})]}),t.jsx("div",{className:"mt-4",children:i?t.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-500 dark:text-neutral-400",children:[t.jsx(Es,{className:"w-4 h-4 animate-spin"}),"Checking Stripe status"]}):t.jsxs("div",{className:"space-y-3",children:[f&&t.jsx("div",{className:"bg-red-50 dark:bg-red-900/30 rounded-lg p-3 border border-red-200 dark:border-red-800",children:t.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:f})}),t.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[t.jsx("div",{className:"w-8 h-8 bg-neutral-100 dark:bg-neutral-700 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx(kf,{className:"w-4 h-4 text-neutral-700 dark:text-neutral-200"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-neutral-900 dark:text-neutral-50",children:N?"Youre ready to receive payouts.":"Complete onboarding to receive payouts."}),t.jsx("p",{className:"text-neutral-500 dark:text-neutral-400",children:"Stripe will collect identity and bank info securely."})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[N?t.jsxs("button",{onClick:w,disabled:d,className:"flex-1 inline-flex items-center justify-center gap-2 px-4 py-3 bg-neutral-900 dark:bg-neutral-50 text-white dark:text-neutral-900 rounded-lg hover:opacity-90 disabled:opacity-60",children:[d?t.jsx(Es,{className:"w-4 h-4 animate-spin"}):t.jsx(Gd,{className:"w-4 h-4"}),"Manage payouts"]}):t.jsxs("button",{onClick:v,disabled:d,className:"flex-1 inline-flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 dark:bg-blue-500 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-400 disabled:opacity-60",children:[d?t.jsx(Es,{className:"w-4 h-4 animate-spin"}):t.jsx(Gd,{className:"w-4 h-4"}),"Set up payouts"]}),t.jsx("button",{onClick:g,disabled:d,className:"px-4 py-3 bg-neutral-100 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-200 rounded-lg hover:bg-neutral-200 dark:hover:bg-neutral-600 disabled:opacity-60",children:"Refresh"})]})]})})]})}function tx({onNavigate:l,user:s}){const n=Ts.filter(f=>f.status==="active").length,i=Ts.length,c=Ot.reduce((f,p)=>f+p.artistEarnings,0),d=Ot.length,m=[{label:"Active Artworks",value:n,subtext:`${i} total pieces`,icon:Ah,color:"blue",action:()=>l("artist-artworks")},{label:"Total Earnings",value:`$${c.toFixed(0)}`,subtext:"80% of sales",icon:Vt,color:"blue",action:()=>l("artist-sales")},{label:"Recent Sales",value:d,subtext:"This month",icon:jr,color:"blue",action:()=>l("artist-sales")},{label:"Pending Applications",value:1,subtext:"Awaiting approval",icon:Oo,color:"blue",action:()=>l("artist-artworks")}];return t.jsxs("div",{children:[t.jsx("div",{className:"mb-8",children:t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-3xl mb-2",children:["Welcome back, ",s.name.split(" ")[0]||"Artist"]}),t.jsx("p",{className:"text-neutral-600",children:"Here's what's happening with your artwork"})]}),t.jsx(Lh,{plan:"free",size:"md",showUpgrade:!0,onUpgrade:()=>l("plans-pricing")})]})}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:m.map(f=>{const p=f.icon;return t.jsxs("button",{onClick:f.action,className:"bg-white rounded-xl p-6 border border-neutral-200 hover:border-blue-300 hover:shadow-md transition-all text-left group",children:[t.jsx("div",{className:"flex items-start justify-between mb-4",children:t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center group-hover:bg-blue-500 transition-colors",children:t.jsx(p,{className:"w-6 h-6 text-blue-600 group-hover:text-white transition-colors"})})}),t.jsx("div",{className:"text-3xl mb-1 text-neutral-900",children:f.value}),t.jsx("div",{className:"text-neutral-600 text-sm",children:f.label}),t.jsx("div",{className:"text-neutral-400 text-xs mt-1",children:f.subtext})]},f.label)})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsx(ex,{user:s}),t.jsx(Xf,{currentDisplays:3,includedDisplays:1,plan:"free",overageCost:0,onUpgrade:()=>l("plans-pricing"),onManage:()=>l("artist-artworks")}),t.jsx("div",{className:"lg:col-span-2",children:t.jsx(Yf,{currentPlan:"free",onUpgrade:()=>l("plans-pricing")})}),t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-neutral-200",children:[t.jsx("h2",{className:"text-xl mb-4",children:"Recent Activity"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-start gap-3 pb-4 border-b border-neutral-100",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm text-neutral-900",children:'Your artwork "Sunset Boulevard" was sold'}),t.jsx("p",{className:"text-xs text-neutral-500",children:"2 days ago at Brew & Palette Caf"})]})]}),t.jsxs("div",{className:"flex items-start gap-3 pb-4 border-b border-neutral-100",children:[t.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm text-neutral-900",children:"Application approved for The Artisan Lounge"}),t.jsx("p",{className:"text-xs text-neutral-500",children:"4 days ago"})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-2 h-2 bg-neutral-300 rounded-full mt-2"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm text-neutral-900",children:'New artwork "Urban Dreams" uploaded'}),t.jsx("p",{className:"text-xs text-neutral-500",children:"1 week ago"})]})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-neutral-200",children:[t.jsx("h2",{className:"text-xl mb-4",children:"Quick Actions"}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("button",{onClick:()=>l("artist-artworks"),className:"w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Upload New Artwork"}),t.jsx("button",{onClick:()=>l("artist-venues"),className:"w-full px-4 py-3 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors",children:"Browse Available Venues"}),t.jsx("button",{onClick:()=>l("artist-sales"),className:"w-full px-4 py-3 bg-neutral-100 text-neutral-700 rounded-lg hover:bg-neutral-200 transition-colors",children:"View Sales Report"})]})]})]})]})}function rx({user:l}){const[s,n]=z.useState(!1),[i,c]=z.useState(Ts),[d,m]=z.useState({title:"",description:"",price:"",imageUrl:""}),[f,p]=z.useState(!0),[g,v]=z.useState(!1),[w,N]=z.useState(null),P=async()=>{try{p(!0),N(null);const b=await Lo(`/api/artworks?artistId=${encodeURIComponent(l.id)}`);Array.isArray(b)&&b.length&&c(b)}catch{}finally{p(!1)}};z.useEffect(()=>{P()},[l.id]);const A=async b=>{b.preventDefault();try{v(!0),N(null);const O=Number(d.price);if(!Number.isFinite(O)||O<=0){N("Please enter a valid price");return}const U=await Cs("/api/artworks",{artistId:l.id,email:l.email,name:l.name,title:d.title,description:d.description,price:O,currency:"usd",imageUrl:d.imageUrl||void 0});c([U,...i]),m({title:"",description:"",price:"",imageUrl:""}),n(!1)}catch(O){N(O?.message||"Unable to create artwork")}finally{v(!1)}},S=b=>{const O={available:"bg-neutral-100 text-neutral-700",pending:"bg-yellow-100 text-yellow-700",active:"bg-green-100 text-green-700",sold:"bg-blue-100 text-blue-700"};return t.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${O[b]}`,children:b.charAt(0).toUpperCase()+b.slice(1)})};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl mb-2",children:"My Artworks"}),t.jsx("p",{className:"text-neutral-600",children:f?"Loading":`${i.length} pieces in your collection`})]}),t.jsxs("button",{onClick:()=>n(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[t.jsx(Vr,{className:"w-5 h-5"}),"Add New Artwork"]})]}),w&&t.jsx("div",{className:"bg-red-50 rounded-xl p-4 border border-red-200 mb-6",children:t.jsx("p",{className:"text-sm text-red-800",children:w})}),s&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-6",children:t.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-2xl",children:"Add New Artwork"}),t.jsx("button",{onClick:()=>n(!1),className:"p-2 hover:bg-neutral-100 rounded-lg transition-colors text-neutral-900",children:t.jsx(It,{className:"w-5 h-5"})})]}),t.jsxs("form",{onSubmit:A,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-neutral-700 mb-2",children:"Artwork Image URL"}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-neutral-100 border border-neutral-200",children:t.jsx(Dh,{className:"w-5 h-5 text-neutral-500"})}),t.jsx("input",{type:"url",value:d.imageUrl,onChange:b=>m({...d,imageUrl:b.target.value}),className:"flex-1 px-4 py-2 rounded-lg border border-neutral-300 bg-white text-neutral-900 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://... (optional)"})]}),t.jsx("p",{className:"text-xs text-neutral-500 mt-2",children:"For production, replace this with real uploads (S3/Supabase Storage/Cloudinary)."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-neutral-700 mb-2",children:"Artwork Title"}),t.jsx("input",{type:"text",required:!0,value:d.title,onChange:b=>m({...d,title:b.target.value}),className:"w-full px-4 py-2 rounded-lg border border-neutral-300 bg-white text-neutral-900 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter artwork title"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-neutral-700 mb-2",children:"Description"}),t.jsx("textarea",{required:!0,value:d.description,onChange:b=>m({...d,description:b.target.value}),rows:4,className:"w-full px-4 py-2 rounded-lg border border-neutral-300 bg-white text-neutral-900 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Describe your artwork, medium, inspiration..."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-neutral-700 mb-2",children:"Price (USD)"}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-neutral-500",children:"$"}),t.jsx("input",{type:"number",required:!0,value:d.price,onChange:b=>m({...d,price:b.target.value}),className:"w-full pl-8 pr-4 py-2 rounded-lg border border-neutral-300 bg-white text-neutral-900 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),t.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"You'll receive ~80% (before Stripe fees)"})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>n(!1),className:"flex-1 px-4 py-2 bg-neutral-100 text-neutral-700 rounded-lg hover:bg-neutral-200 transition-colors",children:"Cancel"}),t.jsxs("button",{type:"submit",disabled:g,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-60 inline-flex items-center justify-center gap-2",children:[g&&t.jsx(Es,{className:"w-4 h-4 animate-spin"}),"Create Listing"]})]})]})]})}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(b=>t.jsxs("div",{className:"bg-white rounded-xl overflow-hidden border border-neutral-200 hover:shadow-lg transition-shadow group",children:[t.jsx("div",{className:"aspect-square bg-neutral-100 overflow-hidden",children:t.jsx("img",{src:b.imageUrl,alt:b.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"})}),t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsx("h3",{className:"font-medium text-neutral-900",children:b.title}),S(b.status)]}),t.jsx("p",{className:"text-sm text-neutral-600 mb-3 line-clamp-2",children:b.description}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{className:"text-lg text-neutral-900",children:["$",b.price]}),b.stripePriceId&&t.jsx("span",{className:"text-[10px] text-neutral-500",children:"Stripe ready"})]})]})]},b.id))}),!f&&i.length===0&&t.jsxs("div",{className:"text-center py-16",children:[t.jsx("div",{className:"w-16 h-16 bg-neutral-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Vr,{className:"w-8 h-8 text-neutral-400"})}),t.jsx("h3",{className:"text-xl mb-2",children:"No artworks yet"}),t.jsx("p",{className:"text-neutral-600 mb-6",children:"Start by adding your first piece"}),t.jsx("button",{onClick:()=>n(!0),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Add Your First Artwork"})]})]})}function sx(){const[l,s]=z.useState(null),[n,i]=z.useState(""),[c,d]=z.useState(!1),m=Ts.filter(p=>p.status==="available"),f=()=>{alert("Application submitted! The venue will review your artwork."),d(!1),s(null),i("")};return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl mb-2",children:"Available Venues"}),t.jsx("p",{className:"text-neutral-600",children:"Find the perfect space to display your artwork"})]}),t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Jf.map(p=>t.jsxs("div",{className:"bg-white rounded-xl overflow-hidden border border-neutral-200 hover:shadow-lg transition-shadow",children:[t.jsx("div",{className:"h-48 bg-neutral-100 overflow-hidden",children:t.jsx("img",{src:p.imageUrl,alt:p.name,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl mb-1",children:p.name}),t.jsx("p",{className:"text-sm text-neutral-600",children:p.type})]}),t.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs whitespace-nowrap",children:[p.availableSpaces," available"]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-600 mb-3",children:[t.jsx(Br,{className:"w-4 h-4 flex-shrink-0"}),p.address]}),t.jsx("p",{className:"text-sm text-neutral-600 mb-4 line-clamp-2",children:p.description}),t.jsxs("div",{className:"mb-4",children:[t.jsx("h4",{className:"text-sm mb-2",children:"Available Wall Spaces"}),t.jsx("div",{className:"space-y-2",children:Ya.filter(g=>g.available).slice(0,2).map(g=>t.jsx("div",{className:"p-3 bg-neutral-50 rounded-lg",children:t.jsxs("div",{className:"flex items-center gap-3",children:[g.photos&&g.photos.length>0&&t.jsx("div",{className:"w-16 h-16 bg-neutral-200 rounded overflow-hidden flex-shrink-0",children:t.jsx("img",{src:g.photos[0],alt:g.name,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm mb-1 text-neutral-900",children:g.name}),t.jsxs("p",{className:"text-xs text-neutral-600",children:[g.width,'"  ',g.height,'"']}),g.photos&&g.photos.length>0&&t.jsxs("div",{className:"flex items-center gap-1 text-xs text-neutral-500 mt-1",children:[t.jsx(Th,{className:"w-3 h-3"}),g.photos.length," photo",g.photos.length!==1?"s":""]})]})]})},g.id))})]}),t.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-neutral-100",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-600",children:[t.jsx(Pn,{className:"w-4 h-4"}),p.wallSpaces," wall spaces"]}),t.jsx("button",{onClick:()=>{s(p),d(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",disabled:p.availableSpaces===0,children:"Apply to Hang"})]})]})]},p.id))}),c&&l&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-6",children:t.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-2xl w-full",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h2",{className:"text-2xl",children:["Apply to ",l.name]}),t.jsx("button",{onClick:()=>{d(!1),s(null)},className:"p-2 hover:bg-neutral-100 rounded-lg transition-colors text-neutral-900",children:t.jsx(It,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-100",children:t.jsxs("p",{className:"text-sm text-blue-900",children:[t.jsx("strong",{children:l.name})," has ",l.availableSpaces," wall space(s) available. Select the artwork you'd like to display."]})}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-neutral-700 mb-3",children:"Select Artwork"}),m.length===0?t.jsxs("div",{className:"text-center py-8 bg-neutral-50 rounded-lg",children:[t.jsx("p",{className:"text-neutral-600",children:"You don't have any available artworks."}),t.jsx("p",{className:"text-sm text-neutral-500 mt-1",children:"Upload a new piece to apply"})]}):t.jsx("div",{className:"grid grid-cols-2 gap-4",children:m.map(p=>t.jsxs("button",{onClick:()=>i(p.id),className:`text-left rounded-xl border-2 overflow-hidden transition-all ${n===p.id?"border-blue-500 shadow-md":"border-neutral-200 hover:border-blue-300"}`,children:[t.jsx("div",{className:"aspect-square bg-neutral-100",children:t.jsx("img",{src:p.imageUrl,alt:p.title,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"p-3 bg-white",children:[t.jsx("h4",{className:"text-sm mb-1 text-neutral-900",children:p.title}),t.jsxs("p",{className:"text-xs text-neutral-600",children:["$",p.price]})]})]},p.id))})]}),m.length>0&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-neutral-700 mb-2",children:"Additional Message (Optional)"}),t.jsx("textarea",{rows:4,className:"w-full px-4 py-2 rounded-lg border border-neutral-300 bg-white text-neutral-900 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Tell the venue why your artwork would be a great fit..."})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{onClick:()=>{d(!1),s(null),i("")},className:"flex-1 px-4 py-2 bg-neutral-100 text-neutral-700 rounded-lg hover:bg-neutral-200 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:f,disabled:!n,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Submit Application"})]})]})]})]})})]})}function zh({isOpen:l,onClose:s,windowDay:n,startTime:i,endTime:c,type:d,artworkTitle:m,onConfirm:f}){const[p,g]=pp.useState(""),v=()=>{const A=[],S=parseInt(i.split(":")[0]),b=parseInt(i.split(":")[1]),O=parseInt(c.split(":")[0]),U=parseInt(c.split(":")[1]);let k=S,F=b;for(;k<O||k===O&&F<U;){const X=`${k.toString().padStart(2,"0")}:${F.toString().padStart(2,"0")}`;w(X),A.push(X),F+=30,F>=60&&(k+=1,F=0)}return A},w=A=>{const[S,b]=A.split(":"),O=parseInt(S),U=O>=12?"PM":"AM";return`${O>12?O-12:O===0?12:O}:${b} ${U}`},N=()=>{p&&(f(p),s())};if(!l)return null;const P=v();return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:s}),t.jsx("div",{className:"fixed inset-x-0 bottom-0 lg:inset-0 lg:flex lg:items-center lg:justify-center z-50",children:t.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-t-2xl lg:rounded-2xl max-w-lg w-full lg:max-h-[80vh] overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-neutral-200 dark:border-neutral-700",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-xl mb-1 text-neutral-900 dark:text-neutral-50",children:["Schedule ",d==="install"?"Install":"Pickup"]}),t.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:m})]}),t.jsx("button",{onClick:s,className:"p-2 hover:bg-neutral-100 dark:bg-neutral-800 rounded-lg transition-colors",children:t.jsx(It,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"p-6 bg-blue-50 dark:bg-blue-900/30 border-b border-blue-100 dark:border-blue-900",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Bt,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-blue-900 dark:text-blue-200 mb-1",children:"Install/Pickup Window"}),t.jsxs("p",{className:"text-blue-700 dark:text-blue-300",children:[n,"s, ",w(i),"  ",w(c)]})]})]})}),t.jsxs("div",{className:"p-6 max-h-[50vh] lg:max-h-96 overflow-y-auto",children:[t.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-300 mb-4",children:["Select a 30-minute time slot for this week's ",n.toLowerCase(),":"]}),t.jsx("div",{className:"grid grid-cols-2 gap-3",children:P.map(A=>t.jsx("button",{onClick:()=>g(A),className:`px-4 py-3 rounded-lg border-2 transition-all ${p===A?"border-blue-600 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"border-neutral-200 dark:border-neutral-700 hover:border-blue-300 hover:bg-neutral-50 dark:bg-neutral-900"}`,children:w(A)},A))})]}),t.jsx("div",{className:"p-6 border-t border-neutral-200 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-900",children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:s,className:"flex-1 px-4 py-3 bg-white dark:bg-neutral-800 border border-neutral-300 dark:border-neutral-600 text-neutral-700 dark:text-neutral-300 rounded-lg hover:bg-neutral-50 dark:bg-neutral-900 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:N,disabled:!p,className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirm Time"})]})})]})})]})}function nx({variant:l="accordion"}){const[s,n]=z.useState(!1),i=["Arrive within your scheduled window (3060 minutes per install)","Check in with staff/manager on arrival","Bring your own hanging hardware if required; no drilling unless venue allows","If the artwork sells, pickup happens during the same weekly window"];return l==="card"?t.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 rounded-xl p-6 border border-blue-100 dark:border-blue-900",children:[t.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx(fo,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-base mb-1 text-blue-900 dark:text-blue-200 text-neutral-900 dark:text-neutral-50",children:"Install Rules"}),t.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Please follow these guidelines for smooth installs and pickups"})]})]}),t.jsx("ul",{className:"space-y-2",children:i.map((c,d)=>t.jsxs("li",{className:"flex items-start gap-2 text-sm text-blue-900 dark:text-blue-200",children:[t.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-0.5",children:""}),t.jsx("span",{children:c})]},d))})]}):t.jsxs("div",{className:"border border-neutral-200 dark:border-neutral-700 rounded-lg overflow-hidden",children:[t.jsxs("button",{onClick:()=>n(!s),className:"w-full flex items-center justify-between p-4 bg-white dark:bg-neutral-800 hover:bg-neutral-50 dark:bg-neutral-900 transition-colors",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(fo,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),t.jsx("span",{className:"text-sm",children:"Install Rules"})]}),s?t.jsx(To,{className:"w-5 h-5 text-neutral-500 dark:text-neutral-400"}):t.jsx(Ao,{className:"w-5 h-5 text-neutral-500 dark:text-neutral-400"})]}),s&&t.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/30 border-t border-blue-100 dark:border-blue-900",children:t.jsx("ul",{className:"space-y-2",children:i.map((c,d)=>t.jsxs("li",{className:"flex items-start gap-2 text-sm text-blue-900 dark:text-blue-200",children:[t.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-0.5",children:""}),t.jsx("span",{children:c})]},d))})})]})}function ax({value:l,onChange:s,startDate:n,disabled:i=!1,showEndDate:c=!0,helpText:d}){const m=[{value:30,label:"30 Days",days:"1 month"},{value:90,label:"90 Days",days:"3 months",recommended:!0},{value:180,label:"180 Days",days:"6 months"}],p=n?((g,v)=>{const w=new Date(g);return w.setDate(w.getDate()+v),w})(n,l):null;return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm mb-2",children:["Display Duration ",t.jsx("span",{className:"text-red-600 dark:text-red-400",children:"*"})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:m.map(g=>t.jsxs("button",{type:"button",disabled:i,onClick:()=>s(g.value),className:`relative p-4 rounded-lg border-2 transition-all text-left ${l===g.value?"border-green-600 bg-green-50 dark:bg-green-900/30":"border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 hover:border-green-300"} ${i?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[g.recommended&&t.jsx("div",{className:"absolute -top-2 right-3",children:t.jsx("span",{className:"px-2 py-0.5 bg-green-600 text-white text-xs rounded-full",children:"Recommended"})}),t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("span",{className:`text-base ${l===g.value?"text-green-900 dark:text-green-200":"text-neutral-900 dark:text-neutral-50"}`,children:g.label}),t.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${l===g.value?"border-green-600 bg-green-600":"border-neutral-300 dark:border-neutral-600"}`,children:l===g.value&&t.jsx("div",{className:"w-2 h-2 bg-white dark:bg-neutral-800 rounded-full"})})]}),t.jsx("p",{className:`text-xs ${l===g.value?"text-green-700 dark:text-green-300":"text-neutral-600 dark:text-neutral-300"}`,children:g.days})]},g.value))})]}),c&&p&&t.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 border border-blue-200 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(Zt,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-blue-900 dark:text-blue-200 mb-1",children:[t.jsx("strong",{children:"Estimated End Date:"})," ",p.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]}),t.jsxs("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:["Based on start date of"," ",n?.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]})]})}),d&&t.jsx("div",{className:"bg-neutral-50 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-700 rounded-lg p-3",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(fo,{className:"w-4 h-4 text-neutral-500 dark:text-neutral-400 flex-shrink-0 mt-0.5"}),t.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-300",children:d})]})})]})}function Fh({duration:l,size:s="md"}){const n={sm:"px-2 py-0.5 text-xs",md:"px-3 py-1 text-sm"},i=c=>c===30?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":c===90?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300":"bg-purple-100 dark:bg-purple-900 text-purple-700";return t.jsxs("span",{className:`inline-flex items-center gap-1 rounded-full ${i(l)} ${n[s]}`,children:[t.jsx(Zt,{className:"w-3 h-3"}),l,"d"]})}function lx(){const[l,s]=z.useState(Uo),[n,i]=z.useState(null),[c,d]=z.useState(!1),[m,f]=z.useState({}),p=A=>{i(A),d(!0)},g=A=>{if(!n)return;const S=b=>{const[O,U]=b.split(":"),k=parseInt(O),F=k>=12?"PM":"AM",X=k>12?k-12:k===0?12:k;return`${Pt.dayOfWeek.substring(0,3)} ${X}:${U} ${F}`};f({...m,[n.id]:S(A)}),d(!1),i(null)},v=A=>{const[S,b]=A.split(":"),O=parseInt(S),U=O>=12?"PM":"AM";return`${O>12?O-12:O===0?12:O}:${b.padStart(2,"0")} ${U}`},w=A=>{const b={pending:{bg:"bg-yellow-100",text:"text-yellow-700",label:"Pending"},approved:{bg:"bg-green-100",text:"text-green-700",label:"Approved"},rejected:{bg:"bg-red-100",text:"text-red-700",label:"Rejected"}}[A];return t.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${b.bg} ${b.text}`,children:b.label})},N=l.filter(A=>A.status==="pending").length,P=l.filter(A=>A.status==="approved").length;return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl mb-2 text-neutral-900",children:"My Applications"}),t.jsxs("p",{className:"text-neutral-600",children:[N," pending  ",P," approved"]})]}),t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:l.map(A=>t.jsxs("div",{className:"bg-white rounded-xl border border-neutral-200 overflow-hidden hover:shadow-lg transition-shadow",children:[t.jsx("div",{className:"h-48 bg-neutral-100 overflow-hidden",children:t.jsx("img",{src:A.artworkImage,alt:A.artworkTitle,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg mb-1 text-neutral-900",children:A.artworkTitle}),t.jsx("p",{className:"text-sm text-neutral-600",children:A.venueName})]}),w(A.status)]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-600 mb-4",children:[t.jsx(Zt,{className:"w-4 h-4"}),"Applied ",new Date(A.appliedDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]}),A.status==="approved"&&t.jsxs("div",{children:[A.approvedDuration&&t.jsxs("div",{className:"mb-4 p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-2",children:[t.jsx("span",{className:"text-sm text-green-900",children:"Display term:"}),t.jsx(Fh,{duration:A.approvedDuration,size:"md"})]}),t.jsx("p",{className:"text-xs text-green-700",children:"You'll rotate or pick up the artwork during the venue's weekly window after the end date."})]}),m[A.id]?t.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-4",children:[t.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[t.jsx(Bt,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm text-blue-900 mb-1",children:"Install Scheduled"}),t.jsx("p",{className:"text-blue-700",children:t.jsx("strong",{children:m[A.id]})})]})]}),t.jsx("button",{onClick:()=>p(A),className:"text-sm text-blue-600 hover:text-blue-700 underline",children:"Reschedule"})]}):t.jsxs("div",{className:"bg-green-50 rounded-lg p-4 mb-4",children:[t.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[t.jsx($t,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm text-green-900 mb-1",children:"Application Approved!"}),t.jsxs("p",{className:"text-xs text-green-700",children:["Install window: ",Pt.dayOfWeek,"s, ",v(Pt.startTime),"  ",v(Pt.endTime)]})]})]}),t.jsx("button",{onClick:()=>p(A),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Choose an Install Time"})]}),t.jsx(nx,{variant:"accordion"})]}),A.status==="pending"&&t.jsx("div",{className:"bg-yellow-50 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-center gap-2 text-sm text-yellow-800",children:[t.jsx(Bt,{className:"w-4 h-4"}),t.jsx("span",{children:"Awaiting venue review"})]})}),A.status==="rejected"&&t.jsx("div",{className:"bg-red-50 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-800",children:[t.jsx(Op,{className:"w-4 h-4"}),t.jsx("span",{children:"Application not approved"})]})})]})]},A.id))}),l.length===0&&t.jsxs("div",{className:"text-center py-16",children:[t.jsx("div",{className:"w-16 h-16 bg-neutral-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Zt,{className:"w-8 h-8 text-neutral-400"})}),t.jsx("h3",{className:"text-xl mb-2 text-neutral-900",children:"No applications yet"}),t.jsx("p",{className:"text-neutral-600 mb-6",children:"Apply to display your artwork at local venues"}),t.jsx("button",{className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Browse Venues"})]}),c&&n&&t.jsx(zh,{isOpen:c,onClose:()=>{d(!1),i(null)},windowDay:Pt.dayOfWeek,startTime:Pt.startTime,endTime:Pt.endTime,type:"install",artworkTitle:n.artworkTitle,onConfirm:g})]})}function ix(){const l=Ot.reduce((i,c)=>i+c.artistEarnings,0),s=Ot.length,n=s>0?l/s:0;return t.jsxs("div",{className:"bg-[var(--bg)] text-[var(--text)]",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl mb-2",children:"Sales & Earnings"}),t.jsx("p",{className:"text-[var(--text-muted)]",children:"Track your artwork sales and income. Payouts vary by subscription plan."})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-[var(--surface-1)] rounded-xl p-6 border border-[var(--border)]",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-[var(--green-muted)] border border-[var(--border)] rounded-lg flex items-center justify-center",children:t.jsx(Vt,{className:"w-6 h-6 text-[var(--green)]"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-[var(--text-muted)]",children:"Total Earnings"}),t.jsxs("div",{className:"text-2xl text-[var(--text)]",children:["$",l.toFixed(2)]})]})]}),t.jsx("div",{className:"text-xs text-[var(--text-muted)]",children:"80% of total sales"})]}),t.jsxs("div",{className:"bg-[var(--surface-1)] rounded-xl p-6 border border-[var(--border)]",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-[var(--green-muted)] border border-[var(--border)] rounded-lg flex items-center justify-center",children:t.jsx(Oo,{className:"w-6 h-6 text-[var(--green)]"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-[var(--text-muted)]",children:"Total Sales"}),t.jsx("div",{className:"text-2xl text-[var(--text)]",children:s})]})]}),t.jsx("div",{className:"text-xs text-[var(--text-muted)]",children:"Artworks sold"})]}),t.jsxs("div",{className:"bg-[var(--surface-1)] rounded-xl p-6 border border-[var(--border)]",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-[var(--surface-2)] border border-[var(--border)] rounded-lg flex items-center justify-center",children:t.jsx(jr,{className:"w-6 h-6 text-[var(--blue)]"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-[var(--text-muted)]",children:"Average Sale"}),t.jsxs("div",{className:"text-2xl text-[var(--text)]",children:["$",n.toFixed(0)]})]})]}),t.jsx("div",{className:"text-xs text-[var(--text-muted)]",children:"Per artwork"})]})]}),t.jsxs("div",{className:"bg-[var(--surface-2)] rounded-xl border border-[var(--border)] overflow-hidden",children:[t.jsx("div",{className:"p-6 border-b border-[var(--border)]",children:t.jsx("h2",{className:"text-xl",children:"Sales History"})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-[var(--surface-3)]",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left px-6 py-3 text-sm text-[var(--text-muted)]",children:"Artwork"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-[var(--text-muted)]",children:"Venue"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-[var(--text-muted)]",children:"Sale Price"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-[var(--text-muted)]",children:"Your Earnings"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-[var(--text-muted)]",children:"Date"})]})}),t.jsx("tbody",{className:"divide-y divide-[var(--border)]",children:Ot.map(i=>t.jsxs("tr",{className:"transition-colors hover:bg-[var(--surface-3)]",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-[var(--surface-3)] border border-[var(--border)] rounded overflow-hidden",children:t.jsx("img",{src:i.artworkImage,alt:i.artworkTitle,className:"w-full h-full object-cover"})}),t.jsx("span",{className:"text-sm text-[var(--text)]",children:i.artworkTitle})]})}),t.jsx("td",{className:"px-6 py-4 text-sm text-[var(--text-muted)]",children:i.venueName}),t.jsxs("td",{className:"px-6 py-4 text-sm text-[var(--text)]",children:["$",i.price.toFixed(2)]}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"text-sm",children:[t.jsxs("span",{className:"text-[var(--accent)]",children:["$",i.artistEarnings.toFixed(2)]}),t.jsx("span",{className:"text-xs text-[var(--text-muted)] ml-1",children:"(80%)"})]})}),t.jsx("td",{className:"px-6 py-4 text-sm text-[var(--text-muted)]",children:new Date(i.saleDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]},i.id))})]})}),Ot.length===0&&t.jsxs("div",{className:"text-center py-16",children:[t.jsx("div",{className:"w-16 h-16 bg-[var(--surface-2)] border border-[var(--border)] rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Vt,{className:"w-8 h-8 text-[var(--text-muted)]"})}),t.jsx("h3",{className:"text-xl mb-2",children:"No sales yet"}),t.jsx("p",{className:"text-[var(--text-muted)]",children:"Your sales will appear here once artwork is purchased"})]})]}),t.jsxs("div",{className:"mt-6 bg-[var(--surface-2)] rounded-xl p-6 border border-[var(--border)]",children:[t.jsx("h3",{className:"text-lg mb-2",children:"Payout Information (by plan)"}),t.jsx("p",{className:"text-sm text-[var(--text-muted)] mb-4",children:"Artist payout depends on your subscription plan. Venue commission is 10% by default; the remaining percentage is the platform fee."}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{className:"bg-[var(--surface-3)]",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left px-4 py-3 text-[var(--text-muted)]",children:"Plan"}),t.jsx("th",{className:"text-left px-4 py-3 text-[var(--text-muted)]",children:"Artist"}),t.jsx("th",{className:"text-left px-4 py-3 text-[var(--text-muted)]",children:"Venue"}),t.jsx("th",{className:"text-left px-4 py-3 text-[var(--text-muted)]",children:"Platform"})]})}),t.jsx("tbody",{className:"divide-y divide-[var(--border)]",children:[{id:"free",name:"Free",platform:15},{id:"starter",name:"Starter",platform:10},{id:"growth",name:"Growth",platform:8},{id:"pro",name:"Pro",platform:6}].map(i=>{const d=Math.max(0,90-i.platform);return t.jsxs("tr",{children:[t.jsx("td",{className:"px-4 py-3 text-[var(--text)]",children:i.name}),t.jsxs("td",{className:"px-4 py-3 text-[var(--green)]",children:[d,"%"]}),t.jsxs("td",{className:"px-4 py-3 text-[var(--text)]",children:[10,"%"]}),t.jsxs("td",{className:"px-4 py-3 text-[var(--text-muted)]",children:[i.platform,"%"]})]},i.id)})})]})}),t.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-3",children:"Actual payout amounts are calculated per sale. Example sales shown above use a simplified 80/10/10 split."})]})]})}function nl(l,s){var n={};for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&s.indexOf(i)<0&&(n[i]=l[i]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(l);c<i.length;c++)s.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(l,i[c])&&(n[i[c]]=l[i[c]]);return n}function ox(l,s,n,i){function c(d){return d instanceof n?d:new n(function(m){m(d)})}return new(n||(n=Promise))(function(d,m){function f(v){try{g(i.next(v))}catch(w){m(w)}}function p(v){try{g(i.throw(v))}catch(w){m(w)}}function g(v){v.done?d(v.value):c(v.value).then(f,p)}g((i=i.apply(l,s||[])).next())})}const cx=l=>l?(...s)=>l(...s):(...s)=>fetch(...s);class Mo extends Error{constructor(s,n="FunctionsError",i){super(s),this.name=n,this.context=i}}class ux extends Mo{constructor(s){super("Failed to send a request to the Edge Function","FunctionsFetchError",s)}}class Yd extends Mo{constructor(s){super("Relay Error invoking the Edge Function","FunctionsRelayError",s)}}class Xd extends Mo{constructor(s){super("Edge Function returned a non-2xx status code","FunctionsHttpError",s)}}var xo;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(xo||(xo={}));class dx{constructor(s,{headers:n={},customFetch:i,region:c=xo.Any}={}){this.url=s,this.headers=n,this.region=c,this.fetch=cx(i)}setAuth(s){this.headers.Authorization=`Bearer ${s}`}invoke(s){return ox(this,arguments,void 0,function*(n,i={}){var c;let d,m;try{const{headers:f,method:p,body:g,signal:v,timeout:w}=i;let N={},{region:P}=i;P||(P=this.region);const A=new URL(`${this.url}/${n}`);P&&P!=="any"&&(N["x-region"]=P,A.searchParams.set("forceFunctionRegion",P));let S;g&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(N["Content-Type"]="application/octet-stream",S=g):typeof g=="string"?(N["Content-Type"]="text/plain",S=g):typeof FormData<"u"&&g instanceof FormData?S=g:(N["Content-Type"]="application/json",S=JSON.stringify(g)):S=g;let b=v;w&&(m=new AbortController,d=setTimeout(()=>m.abort(),w),v?(b=m.signal,v.addEventListener("abort",()=>m.abort())):b=m.signal);const O=yield this.fetch(A.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},N),this.headers),f),body:S,signal:b}).catch(X=>{throw new ux(X)}),U=O.headers.get("x-relay-error");if(U&&U==="true")throw new Yd(O);if(!O.ok)throw new Xd(O);let k=((c=O.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),F;return k==="application/json"?F=yield O.json():k==="application/octet-stream"||k==="application/pdf"?F=yield O.blob():k==="text/event-stream"?F=O:k==="multipart/form-data"?F=yield O.formData():F=yield O.text(),{data:F,error:null,response:O}}catch(f){return{data:null,error:f,response:f instanceof Xd||f instanceof Yd?f.context:void 0}}finally{d&&clearTimeout(d)}})}}var hx=class extends Error{constructor(l){super(l.message),this.name="PostgrestError",this.details=l.details,this.hint=l.hint,this.code=l.code}},mx=class{constructor(l){var s,n;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(s=l.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=l.signal,this.isMaybeSingle=(n=l.isMaybeSingle)!==null&&n!==void 0?n:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,s){return this.headers=new Headers(this.headers),this.headers.set(l,s),this}then(l,s){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let c=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{let m=null,f=null,p=null,g=d.status,v=d.statusText;if(d.ok){var w,N;if(n.method!=="HEAD"){var P;const O=await d.text();O===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((P=n.headers.get("Accept"))===null||P===void 0)&&P.includes("application/vnd.pgrst.plan+text"))?f=O:f=JSON.parse(O))}const S=(w=n.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),b=(N=d.headers.get("content-range"))===null||N===void 0?void 0:N.split("/");S&&b&&b.length>1&&(p=parseInt(b[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(f)&&(f.length>1?(m={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,p=null,g=406,v="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var A;const S=await d.text();try{m=JSON.parse(S),Array.isArray(m)&&d.status===404&&(f=[],m=null,g=200,v="OK")}catch{d.status===404&&S===""?(g=204,v="No Content"):m={message:S}}if(m&&n.isMaybeSingle&&(!(m==null||(A=m.details)===null||A===void 0)&&A.includes("0 rows"))&&(m=null,g=200,v="OK"),m&&n.shouldThrowOnError)throw new hx(m)}return{error:m,data:f,count:p,status:g,statusText:v}});return this.shouldThrowOnError||(c=c.catch(d=>{var m;let f="";const p=d?.cause;if(p){var g,v,w,N;const A=(g=p?.message)!==null&&g!==void 0?g:"",S=(v=p?.code)!==null&&v!==void 0?v:"";f=`${(w=d?.name)!==null&&w!==void 0?w:"FetchError"}: ${d?.message}`,f+=`

Caused by: ${(N=p?.name)!==null&&N!==void 0?N:"Error"}: ${A}`,S&&(f+=` (${S})`),p?.stack&&(f+=`
${p.stack}`)}else{var P;f=(P=d?.stack)!==null&&P!==void 0?P:""}return{error:{message:`${(m=d?.name)!==null&&m!==void 0?m:"FetchError"}: ${d?.message}`,details:f,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(l,s)}returns(){return this}overrideTypes(){return this}},px=class extends mx{select(l){let s=!1;const n=(l??"*").split("").map(i=>/\s/.test(i)&&!s?"":(i==='"'&&(s=!s),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:s=!0,nullsFirst:n,foreignTable:i,referencedTable:c=i}={}){const d=c?`${c}.order`:"order",m=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${m?`${m},`:""}${l}.${s?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:s,referencedTable:n=s}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${l}`),this}range(l,s,{foreignTable:n,referencedTable:i=n}={}){const c=typeof i>"u"?"offset":`${i}.offset`,d=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(c,`${l}`),this.url.searchParams.set(d,`${s-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:s=!1,settings:n=!1,buffers:i=!1,wal:c=!1,format:d="text"}={}){var m;const f=[l?"analyze":null,s?"verbose":null,n?"settings":null,i?"buffers":null,c?"wal":null].filter(Boolean).join("|"),p=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${p}"; options=${f};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}};const Zd=new RegExp("[,()]");var js=class extends px{eq(l,s){return this.url.searchParams.append(l,`eq.${s}`),this}neq(l,s){return this.url.searchParams.append(l,`neq.${s}`),this}gt(l,s){return this.url.searchParams.append(l,`gt.${s}`),this}gte(l,s){return this.url.searchParams.append(l,`gte.${s}`),this}lt(l,s){return this.url.searchParams.append(l,`lt.${s}`),this}lte(l,s){return this.url.searchParams.append(l,`lte.${s}`),this}like(l,s){return this.url.searchParams.append(l,`like.${s}`),this}likeAllOf(l,s){return this.url.searchParams.append(l,`like(all).{${s.join(",")}}`),this}likeAnyOf(l,s){return this.url.searchParams.append(l,`like(any).{${s.join(",")}}`),this}ilike(l,s){return this.url.searchParams.append(l,`ilike.${s}`),this}ilikeAllOf(l,s){return this.url.searchParams.append(l,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(l,s){return this.url.searchParams.append(l,`ilike(any).{${s.join(",")}}`),this}regexMatch(l,s){return this.url.searchParams.append(l,`match.${s}`),this}regexIMatch(l,s){return this.url.searchParams.append(l,`imatch.${s}`),this}is(l,s){return this.url.searchParams.append(l,`is.${s}`),this}isDistinct(l,s){return this.url.searchParams.append(l,`isdistinct.${s}`),this}in(l,s){const n=Array.from(new Set(s)).map(i=>typeof i=="string"&&Zd.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(l,`in.(${n})`),this}notIn(l,s){const n=Array.from(new Set(s)).map(i=>typeof i=="string"&&Zd.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(l,`not.in.(${n})`),this}contains(l,s){return typeof s=="string"?this.url.searchParams.append(l,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(l,`cs.{${s.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(s)}`),this}containedBy(l,s){return typeof s=="string"?this.url.searchParams.append(l,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(l,`cd.{${s.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(s)}`),this}rangeGt(l,s){return this.url.searchParams.append(l,`sr.${s}`),this}rangeGte(l,s){return this.url.searchParams.append(l,`nxl.${s}`),this}rangeLt(l,s){return this.url.searchParams.append(l,`sl.${s}`),this}rangeLte(l,s){return this.url.searchParams.append(l,`nxr.${s}`),this}rangeAdjacent(l,s){return this.url.searchParams.append(l,`adj.${s}`),this}overlaps(l,s){return typeof s=="string"?this.url.searchParams.append(l,`ov.${s}`):this.url.searchParams.append(l,`ov.{${s.join(",")}}`),this}textSearch(l,s,{config:n,type:i}={}){let c="";i==="plain"?c="pl":i==="phrase"?c="ph":i==="websearch"&&(c="w");const d=n===void 0?"":`(${n})`;return this.url.searchParams.append(l,`${c}fts${d}.${s}`),this}match(l){return Object.entries(l).forEach(([s,n])=>{this.url.searchParams.append(s,`eq.${n}`)}),this}not(l,s,n){return this.url.searchParams.append(l,`not.${s}.${n}`),this}or(l,{foreignTable:s,referencedTable:n=s}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${l})`),this}filter(l,s,n){return this.url.searchParams.append(l,`${s}.${n}`),this}},fx=class{constructor(l,{headers:s={},schema:n,fetch:i}){this.url=l,this.headers=new Headers(s),this.schema=n,this.fetch=i}select(l,s){const{head:n=!1,count:i}=s??{},c=n?"HEAD":"GET";let d=!1;const m=(l??"*").split("").map(f=>/\s/.test(f)&&!d?"":(f==='"'&&(d=!d),f)).join("");return this.url.searchParams.set("select",m),i&&this.headers.append("Prefer",`count=${i}`),new js({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:s,defaultToNull:n=!0}={}){var i;const c="POST";if(s&&this.headers.append("Prefer",`count=${s}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const d=l.reduce((m,f)=>m.concat(Object.keys(f)),[]);if(d.length>0){const m=[...new Set(d)].map(f=>`"${f}"`);this.url.searchParams.set("columns",m.join(","))}}return new js({method:c,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(l,{onConflict:s,ignoreDuplicates:n=!1,count:i,defaultToNull:c=!0}={}){var d;const m="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),i&&this.headers.append("Prefer",`count=${i}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const f=l.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(f.length>0){const p=[...new Set(f)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new js({method:m,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(l,{count:s}={}){var n;const i="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new js({method:i,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:l}={}){var s;const n="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new js({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}},xx=class Bh{constructor(s,{headers:n={},schema:i,fetch:c}={}){this.url=s,this.headers=new Headers(n),this.schemaName=i,this.fetch=c}from(s){if(!s||typeof s!="string"||s.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new fx(new URL(`${this.url}/${s}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new Bh(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,n={},{head:i=!1,get:c=!1,count:d}={}){var m;let f;const p=new URL(`${this.url}/rpc/${s}`);let g;i||c?(f=i?"HEAD":"GET",Object.entries(n).filter(([w,N])=>N!==void 0).map(([w,N])=>[w,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([w,N])=>{p.searchParams.append(w,N)})):(f="POST",g=n);const v=new Headers(this.headers);return d&&v.set("Prefer",`count=${d}`),new js({method:f,url:p,headers:v,schema:this.schemaName,body:g,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}};class gx{constructor(){}static detectEnvironment(){var s;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((s=navigator.userAgent)===null||s===void 0)&&s.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const i=n.node,c=parseInt(i.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const s=this.detectEnvironment();if(s.constructor)return s.constructor;let n=s.error||"WebSocket not supported in this environment.";throw s.workaround&&(n+=`

Suggested solution: ${s.workaround}`),new Error(n)}static createWebSocket(s,n){const i=this.getWebSocketConstructor();return new i(s,n)}static isWebSocketSupported(){try{const s=this.detectEnvironment();return s.type==="native"||s.type==="ws"}catch{return!1}}}const vx="2.89.0",yx=`realtime-js/${vx}`,Vh="1.0.0",bx="2.0.0",eh=Vh,go=1e4,wx=1e3,jx=100;var br;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(br||(br={}));var De;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(De||(De={}));var Rt;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(Rt||(Rt={}));var vo;(function(l){l.websocket="websocket"})(vo||(vo={}));var Mr;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(Mr||(Mr={}));class Nx{constructor(s){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=s??[]}encode(s,n){if(s.event===this.BROADCAST_EVENT&&!(s.payload instanceof ArrayBuffer)&&typeof s.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(s));let i=[s.join_ref,s.ref,s.topic,s.event,s.payload];return n(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(s){var n;return this._isArrayBuffer((n=s.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(s):this._encodeJsonUserBroadcastPush(s)}_encodeBinaryUserBroadcastPush(s){var n,i;const c=(i=(n=s.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(s,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(s){var n,i;const c=(i=(n=s.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:{},m=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(s,this.JSON_ENCODING,m)}_encodeUserBroadcastPush(s,n,i){var c,d;const m=s.topic,f=(c=s.ref)!==null&&c!==void 0?c:"",p=(d=s.join_ref)!==null&&d!==void 0?d:"",g=s.payload.event,v=this.allowedMetadataKeys?this._pick(s.payload,this.allowedMetadataKeys):{},w=Object.keys(v).length===0?"":JSON.stringify(v);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`topic length ${m.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const N=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+f.length+m.length+g.length+w.length,P=new ArrayBuffer(this.HEADER_LENGTH+N);let A=new DataView(P),S=0;A.setUint8(S++,this.KINDS.userBroadcastPush),A.setUint8(S++,p.length),A.setUint8(S++,f.length),A.setUint8(S++,m.length),A.setUint8(S++,g.length),A.setUint8(S++,w.length),A.setUint8(S++,n),Array.from(p,O=>A.setUint8(S++,O.charCodeAt(0))),Array.from(f,O=>A.setUint8(S++,O.charCodeAt(0))),Array.from(m,O=>A.setUint8(S++,O.charCodeAt(0))),Array.from(g,O=>A.setUint8(S++,O.charCodeAt(0))),Array.from(w,O=>A.setUint8(S++,O.charCodeAt(0)));var b=new Uint8Array(P.byteLength+i.byteLength);return b.set(new Uint8Array(P),0),b.set(new Uint8Array(i),P.byteLength),b.buffer}decode(s,n){if(this._isArrayBuffer(s)){let i=this._binaryDecode(s);return n(i)}if(typeof s=="string"){const i=JSON.parse(s),[c,d,m,f,p]=i;return n({join_ref:c,ref:d,topic:m,event:f,payload:p})}return n({})}_binaryDecode(s){const n=new DataView(s),i=n.getUint8(0),c=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(s,n,c)}}_decodeUserBroadcast(s,n,i){const c=n.getUint8(1),d=n.getUint8(2),m=n.getUint8(3),f=n.getUint8(4);let p=this.HEADER_LENGTH+4;const g=i.decode(s.slice(p,p+c));p=p+c;const v=i.decode(s.slice(p,p+d));p=p+d;const w=i.decode(s.slice(p,p+m));p=p+m;const N=s.slice(p,s.byteLength),P=f===this.JSON_ENCODING?JSON.parse(i.decode(N)):N,A={type:this.BROADCAST_EVENT,event:v,payload:P};return m>0&&(A.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:A}}_isArrayBuffer(s){var n;return s instanceof ArrayBuffer||((n=s?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(s,n){return!s||typeof s!="object"?{}:Object.fromEntries(Object.entries(s).filter(([i])=>n.includes(i)))}}class Wh{constructor(s,n){this.callback=s,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=s,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ye;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(ye||(ye={}));const th=(l,s,n={})=>{var i;const c=(i=n.skipTypes)!==null&&i!==void 0?i:[];return s?Object.keys(s).reduce((d,m)=>(d[m]=kx(m,l,s,c),d),{}):{}},kx=(l,s,n,i)=>{const c=s.find(f=>f.name===l),d=c?.type,m=n[l];return d&&!i.includes(d)?qh(d,m):yo(m)},qh=(l,s)=>{if(l.charAt(0)==="_"){const n=l.slice(1,l.length);return Cx(s,n)}switch(l){case ye.bool:return _x(s);case ye.float4:case ye.float8:case ye.int2:case ye.int4:case ye.int8:case ye.numeric:case ye.oid:return Sx(s);case ye.json:case ye.jsonb:return Ex(s);case ye.timestamp:return Ax(s);case ye.abstime:case ye.date:case ye.daterange:case ye.int4range:case ye.int8range:case ye.money:case ye.reltime:case ye.text:case ye.time:case ye.timestamptz:case ye.timetz:case ye.tsrange:case ye.tstzrange:return yo(s);default:return yo(s)}},yo=l=>l,_x=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},Sx=l=>{if(typeof l=="string"){const s=parseFloat(l);if(!Number.isNaN(s))return s}return l},Ex=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch{return l}return l},Cx=(l,s)=>{if(typeof l!="string")return l;const n=l.length-1,i=l[n];if(l[0]==="{"&&i==="}"){let d;const m=l.slice(1,n);try{d=JSON.parse("["+m+"]")}catch{d=m?m.split(","):[]}return d.map(f=>qh(s,f))}return l},Ax=l=>typeof l=="string"?l.replace(" ","T"):l,Hh=l=>{const s=new URL(l);return s.protocol=s.protocol.replace(/^ws/i,"http"),s.pathname=s.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),s.pathname===""||s.pathname==="/"?s.pathname="/api/broadcast":s.pathname=s.pathname+"/api/broadcast",s.href};class ao{constructor(s,n,i={},c=go){this.channel=s,this.event=n,this.payload=i,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(s){this.timeout=s,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(s){this.payload=Object.assign(Object.assign({},this.payload),s)}receive(s,n){var i;return this._hasReceived(s)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:s,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const s=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},s),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(s,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:s,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:s,response:n}){this.recHooks.filter(i=>i.status===s).forEach(i=>i.callback(n))}_hasReceived(s){return this.receivedResp&&this.receivedResp.status===s}}var rh;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(rh||(rh={}));class yn{constructor(s,n){this.channel=s,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},c=>{const{onJoin:d,onLeave:m,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yn.syncState(this.state,c,d,m),this.pendingDiffs.forEach(p=>{this.state=yn.syncDiff(this.state,p,d,m)}),this.pendingDiffs=[],f()}),this.channel._on(i.diff,{},c=>{const{onJoin:d,onLeave:m,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=yn.syncDiff(this.state,c,d,m),f())}),this.onJoin((c,d,m)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:m})}),this.onLeave((c,d,m)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:m})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(s,n,i,c){const d=this.cloneDeep(s),m=this.transformState(n),f={},p={};return this.map(d,(g,v)=>{m[g]||(p[g]=v)}),this.map(m,(g,v)=>{const w=d[g];if(w){const N=v.map(b=>b.presence_ref),P=w.map(b=>b.presence_ref),A=v.filter(b=>P.indexOf(b.presence_ref)<0),S=w.filter(b=>N.indexOf(b.presence_ref)<0);A.length>0&&(f[g]=A),S.length>0&&(p[g]=S)}else f[g]=v}),this.syncDiff(d,{joins:f,leaves:p},i,c)}static syncDiff(s,n,i,c){const{joins:d,leaves:m}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),c||(c=()=>{}),this.map(d,(f,p)=>{var g;const v=(g=s[f])!==null&&g!==void 0?g:[];if(s[f]=this.cloneDeep(p),v.length>0){const w=s[f].map(P=>P.presence_ref),N=v.filter(P=>w.indexOf(P.presence_ref)<0);s[f].unshift(...N)}i(f,v,p)}),this.map(m,(f,p)=>{let g=s[f];if(!g)return;const v=p.map(w=>w.presence_ref);g=g.filter(w=>v.indexOf(w.presence_ref)<0),s[f]=g,c(f,g,p),g.length===0&&delete s[f]}),s}static map(s,n){return Object.getOwnPropertyNames(s).map(i=>n(i,s[i]))}static transformState(s){return s=this.cloneDeep(s),Object.getOwnPropertyNames(s).reduce((n,i)=>{const c=s[i];return"metas"in c?n[i]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):n[i]=c,n},{})}static cloneDeep(s){return JSON.parse(JSON.stringify(s))}onJoin(s){this.caller.onJoin=s}onLeave(s){this.caller.onLeave=s}onSync(s){this.caller.onSync=s}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var sh;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(sh||(sh={}));var bn;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(bn||(bn={}));var Xt;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(Xt||(Xt={}));class Ss{constructor(s,n={config:{}},i){var c,d;if(this.topic=s,this.params=n,this.socket=i,this.bindings={},this.state=De.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=s.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ao(this,Rt.join,this.params,this.timeout),this.rejoinTimer=new Wh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=De.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(m=>m.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=De.closed,this.socket._remove(this)}),this._onError(m=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,m),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",m=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,m),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Rt.reply,{},(m,f)=>{this._trigger(this._replyEventName(f),m)}),this.presence=new yn(this),this.broadcastEndpointURL=Hh(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(s,n=this.timeout){var i,c,d;if(this.socket.isConnected()||this.socket.connect(),this.state==De.closed){const{config:{broadcast:m,presence:f,private:p}}=this.params,g=(c=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(P=>P.filter))!==null&&c!==void 0?c:[],v=!!this.bindings[bn.PRESENCE]&&this.bindings[bn.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,w={},N={broadcast:m,presence:Object.assign(Object.assign({},f),{enabled:v}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(P=>s?.(Xt.CHANNEL_ERROR,P)),this._onClose(()=>s?.(Xt.CLOSED)),this.updateJoinPayload(Object.assign({config:N},w)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:P})=>{var A;if(this.socket._isManualToken()||this.socket.setAuth(),P===void 0){s?.(Xt.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,b=(A=S?.length)!==null&&A!==void 0?A:0,O=[];for(let U=0;U<b;U++){const k=S[U],{filter:{event:F,schema:X,table:G,filter:ae}}=k,ce=P&&P[U];if(ce&&ce.event===F&&Ss.isFilterValueEqual(ce.schema,X)&&Ss.isFilterValueEqual(ce.table,G)&&Ss.isFilterValueEqual(ce.filter,ae))O.push(Object.assign(Object.assign({},k),{id:ce.id}));else{this.unsubscribe(),this.state=De.errored,s?.(Xt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,s&&s(Xt.SUBSCRIBED);return}}).receive("error",P=>{this.state=De.errored,s?.(Xt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(P).join(", ")||"error")))}).receive("timeout",()=>{s?.(Xt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(s,n={}){return await this.send({type:"presence",event:"track",payload:s},n.timeout||this.timeout)}async untrack(s={}){return await this.send({type:"presence",event:"untrack"},s)}on(s,n,i){return this.state===De.joined&&s===bn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(s,n,i)}async httpSend(s,n,i={}){var c;if(n==null)return Promise.reject("Payload is required for httpSend()");const d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:n,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(c=i.timeout)!==null&&c!==void 0?c:this.timeout);if(f.status===202)return{success:!0};let p=f.statusText;try{const g=await f.json();p=g.error||g.message||p}catch{}return Promise.reject(new Error(p))}async send(s,n={}){var i,c;if(!this._canPush()&&s.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:m}=s,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:m,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((c=g.body)===null||c===void 0?void 0:c.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var m,f,p;const g=this._push(s.type,s,n.timeout||this.timeout);s.type==="broadcast"&&!(!((p=(f=(m=this.params)===null||m===void 0?void 0:m.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&d("ok"),g.receive("ok",()=>d("ok")),g.receive("error",()=>d("error")),g.receive("timeout",()=>d("timed out"))})}updateJoinPayload(s){this.joinPush.updatePayload(s)}unsubscribe(s=this.timeout){this.state=De.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Rt.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(c=>{i=new ao(this,Rt.leave,{},s),i.receive("ok",()=>{n(),c("ok")}).receive("timeout",()=>{n(),c("timed out")}).receive("error",()=>{c("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(s=>s.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=De.closed,this.bindings={}}async _fetchWithTimeout(s,n,i){const c=new AbortController,d=setTimeout(()=>c.abort(),i),m=await this.socket.fetch(s,Object.assign(Object.assign({},n),{signal:c.signal}));return clearTimeout(d),m}_push(s,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${s}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new ao(this,s,n,i);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(s){if(s.startTimeout(),this.pushBuffer.push(s),this.pushBuffer.length>jx){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(s,n,i){return n}_isMember(s){return this.topic===s}_joinRef(){return this.joinPush.ref}_trigger(s,n,i){var c,d;const m=s.toLocaleLowerCase(),{close:f,error:p,leave:g,join:v}=Rt;if(i&&[f,p,g,v].indexOf(m)>=0&&i!==this._joinRef())return;let N=this._onMessage(m,n,i);if(n&&!N)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(m)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(P=>{var A,S,b;return((A=P.filter)===null||A===void 0?void 0:A.event)==="*"||((b=(S=P.filter)===null||S===void 0?void 0:S.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===m}).map(P=>P.callback(N,i)):(d=this.bindings[m])===null||d===void 0||d.filter(P=>{var A,S,b,O,U,k;if(["broadcast","presence","postgres_changes"].includes(m))if("id"in P){const F=P.id,X=(A=P.filter)===null||A===void 0?void 0:A.event;return F&&((S=n.ids)===null||S===void 0?void 0:S.includes(F))&&(X==="*"||X?.toLocaleLowerCase()===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const F=(U=(O=P?.filter)===null||O===void 0?void 0:O.event)===null||U===void 0?void 0:U.toLocaleLowerCase();return F==="*"||F===((k=n?.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return P.type.toLocaleLowerCase()===m}).map(P=>{if(typeof N=="object"&&"ids"in N){const A=N.data,{schema:S,table:b,commit_timestamp:O,type:U,errors:k}=A;N=Object.assign(Object.assign({},{schema:S,table:b,commit_timestamp:O,eventType:U,new:{},old:{},errors:k}),this._getPayloadRecords(A))}P.callback(N,i)})}_isClosed(){return this.state===De.closed}_isJoined(){return this.state===De.joined}_isJoining(){return this.state===De.joining}_isLeaving(){return this.state===De.leaving}_replyEventName(s){return`chan_reply_${s}`}_on(s,n,i){const c=s.toLocaleLowerCase(),d={type:c,filter:n,callback:i};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(s,n){const i=s.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===i&&Ss.isEqual(c.filter,n))})),this}static isEqual(s,n){if(Object.keys(s).length!==Object.keys(n).length)return!1;for(const i in s)if(s[i]!==n[i])return!1;return!0}static isFilterValueEqual(s,n){return(s??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(s){this._on(Rt.close,{},s)}_onError(s){this._on(Rt.error,{},n=>s(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(s=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=De.joining,this.joinPush.resend(s))}_getPayloadRecords(s){const n={new:{},old:{}};return(s.type==="INSERT"||s.type==="UPDATE")&&(n.new=th(s.columns,s.record)),(s.type==="UPDATE"||s.type==="DELETE")&&(n.old=th(s.columns,s.old_record)),n}}const lo=()=>{},qa={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Tx=[1e3,2e3,5e3,1e4],Px=1e4,Rx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ox{constructor(s,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=go,this.transport=null,this.heartbeatIntervalMs=qa.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=lo,this.ref=0,this.reconnectTimer=null,this.vsn=eh,this.logger=lo,this.conn=null,this.sendBuffer=[],this.serializer=new Nx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>c?(...d)=>c(...d):(...d)=>fetch(...d),!(!((i=n?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${s}/${vo.websocket}`,this.httpEndpoint=Hh(s),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=gx.createWebSocket(this.endpointURL())}catch(s){this._setConnectionState("disconnected");const n=s.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(s,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(s?this.conn.close(s,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(s){const n=await s.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const s=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),s}log(s,n,i){this.logger(s,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case br.connecting:return Mr.Connecting;case br.open:return Mr.Open;case br.closing:return Mr.Closing;default:return Mr.Closed}}isConnected(){return this.connectionState()===Mr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(s,n={config:{}}){const i=`realtime:${s}`,c=this.getChannels().find(d=>d.topic===i);if(c)return c;{const d=new Ss(`realtime:${s}`,n,this);return this.channels.push(d),d}}push(s){const{topic:n,event:i,payload:c,ref:d}=s,m=()=>{this.encode(s,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${n} ${i} (${d})`,c),this.isConnected()?m():this.sendBuffer.push(m)}async setAuth(s=null){this._authPromise=this._performAuth(s);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var s;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(s=this.conn)===null||s===void 0||s.close(wx,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},qa.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(s){this.heartbeatCallback=s}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(s=>s()),this.sendBuffer=[])}_makeRef(){let s=this.ref+1;return s===this.ref?this.ref=0:this.ref=s,this.ref.toString()}_leaveOpenTopic(s){let n=this.channels.find(i=>i.topic===s&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${s}"`),n.unsubscribe())}_remove(s){this.channels=this.channels.filter(n=>n.topic!==s.topic)}_onConnMessage(s){this.decode(s.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:c,payload:d,ref:m}=n,f=m?`(${m})`:"",p=d.status||"";this.log("receive",`${p} ${i} ${c} ${f}`.trim(),d),this.channels.filter(g=>g._isMember(i)).forEach(g=>g._trigger(c,d,m)),this._triggerStateCallbacks("message",n)})}_clearTimer(s){var n;s==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):s==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=s=>this._onConnError(s),this.conn.onmessage=s=>this._onConnMessage(s),this.conn.onclose=s=>this._onConnClose(s),this.conn.readyState===br.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===br.open||this.conn.readyState===br.connecting)try{this.conn.close()}catch(s){this.log("error","Error closing connection",s)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(s=>s.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const s=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(s),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(s){var n;this._setConnectionState("disconnected"),this.log("transport","close",s),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",s)}_onConnError(s){this._setConnectionState("disconnected"),this.log("transport",`${s}`),this._triggerChanError(),this._triggerStateCallbacks("error",s)}_triggerChanError(){this.channels.forEach(s=>s._trigger(Rt.error))}_appendParams(s,n){if(Object.keys(n).length===0)return s;const i=s.match(/\?/)?"&":"?",c=new URLSearchParams(n);return`${s}${i}${c}`}_workerObjectUrl(s){let n;if(s)n=s;else{const i=new Blob([Rx],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(s,n=!1){this._connectionState=s,s==="connecting"?this._wasManualDisconnect=!1:s==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(s=null){let n,i=!1;if(s)n=s,i=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),n=this.accessTokenValue}else n=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(c=>{const d={access_token:n,version:yx};n&&c.updateJoinPayload(d),c.joinedOnce&&c._isJoined()&&c._push(Rt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(s="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${s}`,n)})}_triggerStateCallbacks(s,n){try{this.stateChangeCallbacks[s].forEach(i=>{try{i(n)}catch(c){this.log("error",`error in ${s} callback`,c)}})}catch(i){this.log("error",`error triggering ${s} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Wh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},qa.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(s){var n,i,c,d,m,f,p,g,v,w,N,P;switch(this.transport=(n=s?.transport)!==null&&n!==void 0?n:null,this.timeout=(i=s?.timeout)!==null&&i!==void 0?i:go,this.heartbeatIntervalMs=(c=s?.heartbeatIntervalMs)!==null&&c!==void 0?c:qa.HEARTBEAT_INTERVAL,this.worker=(d=s?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(m=s?.accessToken)!==null&&m!==void 0?m:null,this.heartbeatCallback=(f=s?.heartbeatCallback)!==null&&f!==void 0?f:lo,this.vsn=(p=s?.vsn)!==null&&p!==void 0?p:eh,s?.params&&(this.params=s.params),s?.logger&&(this.logger=s.logger),(s?.logLevel||s?.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=s?.reconnectAfterMs)!==null&&g!==void 0?g:(A=>Tx[A-1]||Px),this.vsn){case Vh:this.encode=(v=s?.encode)!==null&&v!==void 0?v:((A,S)=>S(JSON.stringify(A))),this.decode=(w=s?.decode)!==null&&w!==void 0?w:((A,S)=>S(JSON.parse(A)));break;case bx:this.encode=(N=s?.encode)!==null&&N!==void 0?N:this.serializer.encode.bind(this.serializer),this.decode=(P=s?.decode)!==null&&P!==void 0?P:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=s?.workerUrl}}}var _n=class extends Error{constructor(l,s){super(l),this.name="IcebergError",this.status=s.status,this.icebergType=s.icebergType,this.icebergCode=s.icebergCode,this.details=s.details,this.isCommitStateUnknown=s.icebergType==="CommitStateUnknownException"||[500,502,504].includes(s.status)&&s.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Ix(l,s,n){const i=new URL(s,l);if(n)for(const[c,d]of Object.entries(n))d!==void 0&&i.searchParams.set(c,d);return i.toString()}async function $x(l){return!l||l.type==="none"?{}:l.type==="bearer"?{Authorization:`Bearer ${l.token}`}:l.type==="header"?{[l.name]:l.value}:l.type==="custom"?await l.getHeaders():{}}function Dx(l){const s=l.fetchImpl??globalThis.fetch;return{async request({method:n,path:i,query:c,body:d,headers:m}){const f=Ix(l.baseUrl,i,c),p=await $x(l.auth),g=await s(f,{method:n,headers:{...d?{"Content-Type":"application/json"}:{},...p,...m},body:d?JSON.stringify(d):void 0}),v=await g.text(),w=(g.headers.get("content-type")||"").includes("application/json"),N=w&&v?JSON.parse(v):v;if(!g.ok){const P=w?N:void 0,A=P?.error;throw new _n(A?.message??`Request failed with status ${g.status}`,{status:g.status,icebergType:A?.type,icebergCode:A?.code,details:P})}return{status:g.status,headers:g.headers,data:N}}}}function Ha(l){return l.join("")}var Ux=class{constructor(l,s=""){this.client=l,this.prefix=s}async listNamespaces(l){const s=l?{parent:Ha(l.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:s})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(l,s){const n={namespace:l.namespace,properties:s?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(l){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ha(l.namespace)}`})}async loadNamespaceMetadata(l){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ha(l.namespace)}`})).data.properties}}async namespaceExists(l){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ha(l.namespace)}`}),!0}catch(s){if(s instanceof _n&&s.status===404)return!1;throw s}}async createNamespaceIfNotExists(l,s){try{return await this.createNamespace(l,s)}catch(n){if(n instanceof _n&&n.status===409)return;throw n}}};function fs(l){return l.join("")}var Lx=class{constructor(l,s="",n){this.client=l,this.prefix=s,this.accessDelegation=n}async listTables(l){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fs(l.namespace)}/tables`})).data.identifiers}async createTable(l,s){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${fs(l.namespace)}/tables`,body:s,headers:n})).data.metadata}async updateTable(l,s){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${fs(l.namespace)}/tables/${l.name}`,body:s});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(l,s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${fs(l.namespace)}/tables/${l.name}`,query:{purgeRequested:String(s?.purge??!1)}})}async loadTable(l){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fs(l.namespace)}/tables/${l.name}`,headers:s})).data.metadata}async tableExists(l){const s={};this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${fs(l.namespace)}/tables/${l.name}`,headers:s}),!0}catch(n){if(n instanceof _n&&n.status===404)return!1;throw n}}async createTableIfNotExists(l,s){try{return await this.createTable(l,s)}catch(n){if(n instanceof _n&&n.status===409)return await this.loadTable({namespace:l.namespace,name:s.name});throw n}}},Mx=class{constructor(l){let s="v1";l.catalogName&&(s+=`/${l.catalogName}`);const n=l.baseUrl.endsWith("/")?l.baseUrl:`${l.baseUrl}/`;this.client=Dx({baseUrl:n,auth:l.auth,fetchImpl:l.fetch}),this.accessDelegation=l.accessDelegation?.join(","),this.namespaceOps=new Ux(this.client,s),this.tableOps=new Lx(this.client,s,this.accessDelegation)}async listNamespaces(l){return this.namespaceOps.listNamespaces(l)}async createNamespace(l,s){return this.namespaceOps.createNamespace(l,s)}async dropNamespace(l){await this.namespaceOps.dropNamespace(l)}async loadNamespaceMetadata(l){return this.namespaceOps.loadNamespaceMetadata(l)}async listTables(l){return this.tableOps.listTables(l)}async createTable(l,s){return this.tableOps.createTable(l,s)}async updateTable(l,s){return this.tableOps.updateTable(l,s)}async dropTable(l,s){await this.tableOps.dropTable(l,s)}async loadTable(l){return this.tableOps.loadTable(l)}async namespaceExists(l){return this.namespaceOps.namespaceExists(l)}async tableExists(l){return this.tableOps.tableExists(l)}async createNamespaceIfNotExists(l,s){return this.namespaceOps.createNamespaceIfNotExists(l,s)}async createTableIfNotExists(l,s){return this.tableOps.createTableIfNotExists(l,s)}},al=class extends Error{constructor(l){super(l),this.__isStorageError=!0,this.name="StorageError"}};function Se(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}var zx=class extends al{constructor(l,s,n){super(l),this.name="StorageApiError",this.status=s,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},bo=class extends al{constructor(l,s){super(l),this.name="StorageUnknownError",this.originalError=s}};const zo=l=>l?(...s)=>l(...s):(...s)=>fetch(...s),Fx=()=>Response,wo=l=>{if(Array.isArray(l))return l.map(n=>wo(n));if(typeof l=="function"||l!==Object(l))return l;const s={};return Object.entries(l).forEach(([n,i])=>{const c=n.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));s[c]=wo(i)}),s},Bx=l=>{if(typeof l!="object"||l===null)return!1;const s=Object.getPrototypeOf(l);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},Vx=l=>!l||typeof l!="string"||l.length===0||l.length>100||l.trim()!==l||l.includes("/")||l.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(l);function Sn(l){"@babel/helpers - typeof";return Sn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Sn(l)}function Wx(l,s){if(Sn(l)!="object"||!l)return l;var n=l[Symbol.toPrimitive];if(n!==void 0){var i=n.call(l,s);if(Sn(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(l)}function qx(l){var s=Wx(l,"string");return Sn(s)=="symbol"?s:s+""}function Hx(l,s,n){return(s=qx(s))in l?Object.defineProperty(l,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):l[s]=n,l}function nh(l,s){var n=Object.keys(l);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(l);s&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(l,c).enumerable})),n.push.apply(n,i)}return n}function re(l){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?nh(Object(n),!0).forEach(function(i){Hx(l,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(n)):nh(Object(n)).forEach(function(i){Object.defineProperty(l,i,Object.getOwnPropertyDescriptor(n,i))})}return l}const io=l=>{var s;return l.msg||l.message||l.error_description||(typeof l.error=="string"?l.error:(s=l.error)===null||s===void 0?void 0:s.message)||JSON.stringify(l)},Kx=async(l,s,n)=>{l instanceof await Fx()&&!n?.noResolveJson?l.json().then(i=>{const c=l.status||500,d=i?.statusCode||c+"";s(new zx(io(i),c,d))}).catch(i=>{s(new bo(io(i),i))}):s(new bo(io(l),l))},Gx=(l,s,n,i)=>{const c={method:l,headers:s?.headers||{}};return l==="GET"||!i?c:(Bx(i)?(c.headers=re({"Content-Type":"application/json"},s?.headers),c.body=JSON.stringify(i)):c.body=i,s?.duplex&&(c.duplex=s.duplex),re(re({},c),n))};async function Rn(l,s,n,i,c,d){return new Promise((m,f)=>{l(n,Gx(s,i,c,d)).then(p=>{if(!p.ok)throw p;return i?.noResolveJson?p:p.json()}).then(p=>m(p)).catch(p=>Kx(p,f,i))})}async function En(l,s,n,i){return Rn(l,"GET",s,n,i)}async function Tt(l,s,n,i,c){return Rn(l,"POST",s,i,c,n)}async function jo(l,s,n,i,c){return Rn(l,"PUT",s,i,c,n)}async function Jx(l,s,n,i){return Rn(l,"HEAD",s,re(re({},n),{},{noResolveJson:!0}),i)}async function Fo(l,s,n,i,c){return Rn(l,"DELETE",s,i,c,n)}var Qx=class{constructor(l,s){this.downloadFn=l,this.shouldThrowOnError=s}then(l,s){return this.execute().then(l,s)}async execute(){var l=this;try{return{data:(await l.downloadFn()).body,error:null}}catch(s){if(l.shouldThrowOnError)throw s;if(Se(s))return{data:null,error:s};throw s}}};let Kh;Kh=Symbol.toStringTag;var Yx=class{constructor(l,s){this.downloadFn=l,this.shouldThrowOnError=s,this[Kh]="BlobDownloadBuilder",this.promise=null}asStream(){return new Qx(this.downloadFn,this.shouldThrowOnError)}then(l,s){return this.getPromise().then(l,s)}catch(l){return this.getPromise().catch(l)}finally(l){return this.getPromise().finally(l)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var l=this;try{return{data:await(await l.downloadFn()).blob(),error:null}}catch(s){if(l.shouldThrowOnError)throw s;if(Se(s))return{data:null,error:s};throw s}}};const Xx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ah={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Zx=class{constructor(l,s={},n,i){this.shouldThrowOnError=!1,this.url=l,this.headers=s,this.bucketId=n,this.fetch=zo(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(l,s,n,i){var c=this;try{let d;const m=re(re({},ah),i);let f=re(re({},c.headers),l==="POST"&&{"x-upsert":String(m.upsert)});const p=m.metadata;typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",m.cacheControl),p&&d.append("metadata",c.encodeMetadata(p)),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.has("cacheControl")||d.append("cacheControl",m.cacheControl),p&&!d.has("metadata")&&d.append("metadata",c.encodeMetadata(p))):(d=n,f["cache-control"]=`max-age=${m.cacheControl}`,f["content-type"]=m.contentType,p&&(f["x-metadata"]=c.toBase64(c.encodeMetadata(p))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!m.duplex&&(m.duplex="half")),i?.headers&&(f=re(re({},f),i.headers));const g=c._removeEmptyFolders(s),v=c._getFinalPath(g),w=await(l=="PUT"?jo:Tt)(c.fetch,`${c.url}/object/${v}`,d,re({headers:f},m?.duplex?{duplex:m.duplex}:{}));return{data:{path:g,id:w.Id,fullPath:w.Key},error:null}}catch(d){if(c.shouldThrowOnError)throw d;if(Se(d))return{data:null,error:d};throw d}}async upload(l,s,n){return this.uploadOrUpdate("POST",l,s,n)}async uploadToSignedUrl(l,s,n,i){var c=this;const d=c._removeEmptyFolders(l),m=c._getFinalPath(d),f=new URL(c.url+`/object/upload/sign/${m}`);f.searchParams.set("token",s);try{let p;const g=re({upsert:ah.upsert},i),v=re(re({},c.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&n instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",n)):typeof FormData<"u"&&n instanceof FormData?(p=n,p.append("cacheControl",g.cacheControl)):(p=n,v["cache-control"]=`max-age=${g.cacheControl}`,v["content-type"]=g.contentType),{data:{path:d,fullPath:(await jo(c.fetch,f.toString(),p,{headers:v})).Key},error:null}}catch(p){if(c.shouldThrowOnError)throw p;if(Se(p))return{data:null,error:p};throw p}}async createSignedUploadUrl(l,s){var n=this;try{let i=n._getFinalPath(l);const c=re({},n.headers);s?.upsert&&(c["x-upsert"]="true");const d=await Tt(n.fetch,`${n.url}/object/upload/sign/${i}`,{},{headers:c}),m=new URL(n.url+d.url),f=m.searchParams.get("token");if(!f)throw new al("No token returned by API");return{data:{signedUrl:m.toString(),path:l,token:f},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Se(i))return{data:null,error:i};throw i}}async update(l,s,n){return this.uploadOrUpdate("PUT",l,s,n)}async move(l,s,n){var i=this;try{return{data:await Tt(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:l,destinationKey:s,destinationBucket:n?.destinationBucket},{headers:i.headers}),error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(Se(c))return{data:null,error:c};throw c}}async copy(l,s,n){var i=this;try{return{data:{path:(await Tt(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:l,destinationKey:s,destinationBucket:n?.destinationBucket},{headers:i.headers})).Key},error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(Se(c))return{data:null,error:c};throw c}}async createSignedUrl(l,s,n){var i=this;try{let c=i._getFinalPath(l),d=await Tt(i.fetch,`${i.url}/object/sign/${c}`,re({expiresIn:s},n?.transform?{transform:n.transform}:{}),{headers:i.headers});const m=n?.download?`&download=${n.download===!0?"":n.download}`:"";return d={signedUrl:encodeURI(`${i.url}${d.signedURL}${m}`)},{data:d,error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(Se(c))return{data:null,error:c};throw c}}async createSignedUrls(l,s,n){var i=this;try{const c=await Tt(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:s,paths:l},{headers:i.headers}),d=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:c.map(m=>re(re({},m),{},{signedUrl:m.signedURL?encodeURI(`${i.url}${m.signedURL}${d}`):null})),error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(Se(c))return{data:null,error:c};throw c}}download(l,s){const n=typeof s?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(s?.transform||{}),c=i?`?${i}`:"",d=this._getFinalPath(l),m=()=>En(this.fetch,`${this.url}/${n}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new Yx(m,this.shouldThrowOnError)}async info(l){var s=this;const n=s._getFinalPath(l);try{return{data:wo(await En(s.fetch,`${s.url}/object/info/${n}`,{headers:s.headers})),error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Se(i))return{data:null,error:i};throw i}}async exists(l){var s=this;const n=s._getFinalPath(l);try{return await Jx(s.fetch,`${s.url}/object/${n}`,{headers:s.headers}),{data:!0,error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Se(i)&&i instanceof bo){const c=i.originalError;if([400,404].includes(c?.status))return{data:!1,error:i}}throw i}}getPublicUrl(l,s){const n=this._getFinalPath(l),i=[],c=s?.download?`download=${s.download===!0?"":s.download}`:"";c!==""&&i.push(c);const d=typeof s?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(s?.transform||{});m!==""&&i.push(m);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${n}${f}`)}}}async remove(l){var s=this;try{return{data:await Fo(s.fetch,`${s.url}/object/${s.bucketId}`,{prefixes:l},{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Se(n))return{data:null,error:n};throw n}}async list(l,s,n){var i=this;try{const c=re(re(re({},Xx),s),{},{prefix:l||""});return{data:await Tt(i.fetch,`${i.url}/object/list/${i.bucketId}`,c,{headers:i.headers},n),error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(Se(c))return{data:null,error:c};throw c}}async listV2(l,s){var n=this;try{const i=re({},l);return{data:await Tt(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,i,{headers:n.headers},s),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Se(i))return{data:null,error:i};throw i}}encodeMetadata(l){return JSON.stringify(l)}toBase64(l){return typeof Buffer<"u"?Buffer.from(l).toString("base64"):btoa(l)}_getFinalPath(l){return`${this.bucketId}/${l.replace(/^\/+/,"")}`}_removeEmptyFolders(l){return l.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(l){const s=[];return l.width&&s.push(`width=${l.width}`),l.height&&s.push(`height=${l.height}`),l.resize&&s.push(`resize=${l.resize}`),l.format&&s.push(`format=${l.format}`),l.quality&&s.push(`quality=${l.quality}`),s.join("&")}};const Gh="2.89.0",Jh={"X-Client-Info":`storage-js/${Gh}`};var eg=class{constructor(l,s={},n,i){this.shouldThrowOnError=!1;const c=new URL(l);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=re(re({},Jh),s),this.fetch=zo(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(l){var s=this;try{const n=s.listBucketOptionsToQueryString(l);return{data:await En(s.fetch,`${s.url}/bucket${n}`,{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Se(n))return{data:null,error:n};throw n}}async getBucket(l){var s=this;try{return{data:await En(s.fetch,`${s.url}/bucket/${l}`,{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Se(n))return{data:null,error:n};throw n}}async createBucket(l,s={public:!1}){var n=this;try{return{data:await Tt(n.fetch,`${n.url}/bucket`,{id:l,name:l,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Se(i))return{data:null,error:i};throw i}}async updateBucket(l,s){var n=this;try{return{data:await jo(n.fetch,`${n.url}/bucket/${l}`,{id:l,name:l,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Se(i))return{data:null,error:i};throw i}}async emptyBucket(l){var s=this;try{return{data:await Tt(s.fetch,`${s.url}/bucket/${l}/empty`,{},{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Se(n))return{data:null,error:n};throw n}}async deleteBucket(l){var s=this;try{return{data:await Fo(s.fetch,`${s.url}/bucket/${l}`,{},{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Se(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(l){const s={};return l&&("limit"in l&&(s.limit=String(l.limit)),"offset"in l&&(s.offset=String(l.offset)),l.search&&(s.search=l.search),l.sortColumn&&(s.sortColumn=l.sortColumn),l.sortOrder&&(s.sortOrder=l.sortOrder)),Object.keys(s).length>0?"?"+new URLSearchParams(s).toString():""}},tg=class{constructor(l,s={},n){this.shouldThrowOnError=!1,this.url=l.replace(/\/$/,""),this.headers=re(re({},Jh),s),this.fetch=zo(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(l){var s=this;try{return{data:await Tt(s.fetch,`${s.url}/bucket`,{name:l},{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Se(n))return{data:null,error:n};throw n}}async listBuckets(l){var s=this;try{const n=new URLSearchParams;l?.limit!==void 0&&n.set("limit",l.limit.toString()),l?.offset!==void 0&&n.set("offset",l.offset.toString()),l?.sortColumn&&n.set("sortColumn",l.sortColumn),l?.sortOrder&&n.set("sortOrder",l.sortOrder),l?.search&&n.set("search",l.search);const i=n.toString(),c=i?`${s.url}/bucket?${i}`:`${s.url}/bucket`;return{data:await En(s.fetch,c,{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Se(n))return{data:null,error:n};throw n}}async deleteBucket(l){var s=this;try{return{data:await Fo(s.fetch,`${s.url}/bucket/${l}`,{},{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Se(n))return{data:null,error:n};throw n}}from(l){var s=this;if(!Vx(l))throw new al("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new Mx({baseUrl:this.url,catalogName:l,auth:{type:"custom",getHeaders:async()=>s.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(n,{get(c,d){const m=c[d];return typeof m!="function"?m:async(...f)=>{try{return{data:await m.apply(c,f),error:null}}catch(p){if(i)throw p;return{data:null,error:p}}}}})}};const Bo={"X-Client-Info":`storage-js/${Gh}`,"Content-Type":"application/json"};var Qh=class extends Error{constructor(l){super(l),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function ht(l){return typeof l=="object"&&l!==null&&"__isStorageVectorsError"in l}var oo=class extends Qh{constructor(l,s,n){super(l),this.name="StorageVectorsApiError",this.status=s,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},rg=class extends Qh{constructor(l,s){super(l),this.name="StorageVectorsUnknownError",this.originalError=s}};const Vo=l=>l?(...s)=>l(...s):(...s)=>fetch(...s),sg=l=>{if(typeof l!="object"||l===null)return!1;const s=Object.getPrototypeOf(l);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},lh=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),ng=async(l,s,n)=>{if(l&&typeof l=="object"&&"status"in l&&"ok"in l&&typeof l.status=="number"&&!n?.noResolveJson){const i=l.status||500,c=l;if(typeof c.json=="function")c.json().then(d=>{const m=d?.statusCode||d?.code||i+"";s(new oo(lh(d),i,m))}).catch(()=>{const d=i+"";s(new oo(c.statusText||`HTTP ${i} error`,i,d))});else{const d=i+"";s(new oo(c.statusText||`HTTP ${i} error`,i,d))}}else s(new rg(lh(l),l))},ag=(l,s,n,i)=>{const c={method:l,headers:s?.headers||{}};return i?(sg(i)?(c.headers=re({"Content-Type":"application/json"},s?.headers),c.body=JSON.stringify(i)):c.body=i,re(re({},c),n)):c};async function lg(l,s,n,i,c,d){return new Promise((m,f)=>{l(n,ag(s,i,c,d)).then(p=>{if(!p.ok)throw p;if(i?.noResolveJson)return p;const g=p.headers.get("content-type");return!g||!g.includes("application/json")?{}:p.json()}).then(p=>m(p)).catch(p=>ng(p,f,i))})}async function mt(l,s,n,i,c){return lg(l,"POST",s,i,c,n)}var ig=class{constructor(l,s={},n){this.shouldThrowOnError=!1,this.url=l.replace(/\/$/,""),this.headers=re(re({},Bo),s),this.fetch=Vo(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(l){var s=this;try{return{data:await mt(s.fetch,`${s.url}/CreateIndex`,l,{headers:s.headers})||{},error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}}async getIndex(l,s){var n=this;try{return{data:await mt(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:l,indexName:s},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ht(i))return{data:null,error:i};throw i}}async listIndexes(l){var s=this;try{return{data:await mt(s.fetch,`${s.url}/ListIndexes`,l,{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}}async deleteIndex(l,s){var n=this;try{return{data:await mt(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:l,indexName:s},{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ht(i))return{data:null,error:i};throw i}}},og=class{constructor(l,s={},n){this.shouldThrowOnError=!1,this.url=l.replace(/\/$/,""),this.headers=re(re({},Bo),s),this.fetch=Vo(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(l){var s=this;try{if(l.vectors.length<1||l.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await mt(s.fetch,`${s.url}/PutVectors`,l,{headers:s.headers})||{},error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}}async getVectors(l){var s=this;try{return{data:await mt(s.fetch,`${s.url}/GetVectors`,l,{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}}async listVectors(l){var s=this;try{if(l.segmentCount!==void 0){if(l.segmentCount<1||l.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(l.segmentIndex!==void 0&&(l.segmentIndex<0||l.segmentIndex>=l.segmentCount))throw new Error(`segmentIndex must be between 0 and ${l.segmentCount-1}`)}return{data:await mt(s.fetch,`${s.url}/ListVectors`,l,{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}}async queryVectors(l){var s=this;try{return{data:await mt(s.fetch,`${s.url}/QueryVectors`,l,{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}}async deleteVectors(l){var s=this;try{if(l.keys.length<1||l.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await mt(s.fetch,`${s.url}/DeleteVectors`,l,{headers:s.headers})||{},error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}}},cg=class{constructor(l,s={},n){this.shouldThrowOnError=!1,this.url=l.replace(/\/$/,""),this.headers=re(re({},Bo),s),this.fetch=Vo(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(l){var s=this;try{return{data:await mt(s.fetch,`${s.url}/CreateVectorBucket`,{vectorBucketName:l},{headers:s.headers})||{},error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}}async getBucket(l){var s=this;try{return{data:await mt(s.fetch,`${s.url}/GetVectorBucket`,{vectorBucketName:l},{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}}async listBuckets(l={}){var s=this;try{return{data:await mt(s.fetch,`${s.url}/ListVectorBuckets`,l,{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}}async deleteBucket(l){var s=this;try{return{data:await mt(s.fetch,`${s.url}/DeleteVectorBucket`,{vectorBucketName:l},{headers:s.headers})||{},error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}}},ug=class extends cg{constructor(l,s={}){super(l,s.headers||{},s.fetch)}from(l){return new dg(this.url,this.headers,l,this.fetch)}async createBucket(l){var s=()=>super.createBucket,n=this;return s().call(n,l)}async getBucket(l){var s=()=>super.getBucket,n=this;return s().call(n,l)}async listBuckets(l={}){var s=()=>super.listBuckets,n=this;return s().call(n,l)}async deleteBucket(l){var s=()=>super.deleteBucket,n=this;return s().call(n,l)}},dg=class extends ig{constructor(l,s,n,i){super(l,s,i),this.vectorBucketName=n}async createIndex(l){var s=()=>super.createIndex,n=this;return s().call(n,re(re({},l),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(l={}){var s=()=>super.listIndexes,n=this;return s().call(n,re(re({},l),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(l){var s=()=>super.getIndex,n=this;return s().call(n,n.vectorBucketName,l)}async deleteIndex(l){var s=()=>super.deleteIndex,n=this;return s().call(n,n.vectorBucketName,l)}index(l){return new hg(this.url,this.headers,this.vectorBucketName,l,this.fetch)}},hg=class extends og{constructor(l,s,n,i,c){super(l,s,c),this.vectorBucketName=n,this.indexName=i}async putVectors(l){var s=()=>super.putVectors,n=this;return s().call(n,re(re({},l),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(l){var s=()=>super.getVectors,n=this;return s().call(n,re(re({},l),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(l={}){var s=()=>super.listVectors,n=this;return s().call(n,re(re({},l),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(l){var s=()=>super.queryVectors,n=this;return s().call(n,re(re({},l),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(l){var s=()=>super.deleteVectors,n=this;return s().call(n,re(re({},l),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},mg=class extends eg{constructor(l,s={},n,i){super(l,s,n,i)}from(l){return new Zx(this.url,this.headers,l,this.fetch)}get vectors(){return new ug(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new tg(this.url+"/iceberg",this.headers,this.fetch)}};const Yh="2.89.0",Ns=30*1e3,No=3,co=No*Ns,pg="http://localhost:9999",fg="supabase.auth.token",xg={"X-Client-Info":`gotrue-js/${Yh}`},ko="X-Supabase-Api-Version",Xh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},gg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vg=600*1e3;class Cn extends Error{constructor(s,n,i){super(s),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function Y(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}class yg extends Cn{constructor(s,n,i){super(s,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function bg(l){return Y(l)&&l.name==="AuthApiError"}class zr extends Cn{constructor(s,n){super(s),this.name="AuthUnknownError",this.originalError=n}}class er extends Cn{constructor(s,n,i,c){super(s,i,c),this.name=n,this.status=i}}class dt extends er{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wg(l){return Y(l)&&l.name==="AuthSessionMissingError"}class xs extends er{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ka extends er{constructor(s){super(s,"AuthInvalidCredentialsError",400,void 0)}}class Ga extends er{constructor(s,n=null){super(s,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jg(l){return Y(l)&&l.name==="AuthImplicitGrantRedirectError"}class ih extends er{constructor(s,n=null){super(s,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ng extends er{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class _o extends er{constructor(s,n){super(s,"AuthRetryableFetchError",n,void 0)}}function uo(l){return Y(l)&&l.name==="AuthRetryableFetchError"}class oh extends er{constructor(s,n,i){super(s,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class So extends er{constructor(s){super(s,"AuthInvalidJwtError",400,"invalid_jwt")}}const Xa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ch=` 	
\r=`.split(""),kg=(()=>{const l=new Array(128);for(let s=0;s<l.length;s+=1)l[s]=-1;for(let s=0;s<ch.length;s+=1)l[ch[s].charCodeAt(0)]=-2;for(let s=0;s<Xa.length;s+=1)l[Xa[s].charCodeAt(0)]=s;return l})();function uh(l,s,n){if(l!==null)for(s.queue=s.queue<<8|l,s.queuedBits+=8;s.queuedBits>=6;){const i=s.queue>>s.queuedBits-6&63;n(Xa[i]),s.queuedBits-=6}else if(s.queuedBits>0)for(s.queue=s.queue<<6-s.queuedBits,s.queuedBits=6;s.queuedBits>=6;){const i=s.queue>>s.queuedBits-6&63;n(Xa[i]),s.queuedBits-=6}}function Zh(l,s,n){const i=kg[l];if(i>-1)for(s.queue=s.queue<<6|i,s.queuedBits+=6;s.queuedBits>=8;)n(s.queue>>s.queuedBits-8&255),s.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function dh(l){const s=[],n=m=>{s.push(String.fromCodePoint(m))},i={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=m=>{Eg(m,i,n)};for(let m=0;m<l.length;m+=1)Zh(l.charCodeAt(m),c,d);return s.join("")}function _g(l,s){if(l<=127){s(l);return}else if(l<=2047){s(192|l>>6),s(128|l&63);return}else if(l<=65535){s(224|l>>12),s(128|l>>6&63),s(128|l&63);return}else if(l<=1114111){s(240|l>>18),s(128|l>>12&63),s(128|l>>6&63),s(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function Sg(l,s){for(let n=0;n<l.length;n+=1){let i=l.charCodeAt(n);if(i>55295&&i<=56319){const c=(i-55296)*1024&65535;i=(l.charCodeAt(n+1)-56320&65535|c)+65536,n+=1}_g(i,s)}}function Eg(l,s,n){if(s.utf8seq===0){if(l<=127){n(l);return}for(let i=1;i<6;i+=1)if((l>>7-i&1)===0){s.utf8seq=i;break}if(s.utf8seq===2)s.codepoint=l&31;else if(s.utf8seq===3)s.codepoint=l&15;else if(s.utf8seq===4)s.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");s.utf8seq-=1}else if(s.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");s.codepoint=s.codepoint<<6|l&63,s.utf8seq-=1,s.utf8seq===0&&n(s.codepoint)}}function As(l){const s=[],n={queue:0,queuedBits:0},i=c=>{s.push(c)};for(let c=0;c<l.length;c+=1)Zh(l.charCodeAt(c),n,i);return new Uint8Array(s)}function Cg(l){const s=[];return Sg(l,n=>s.push(n)),new Uint8Array(s)}function Fr(l){const s=[],n={queue:0,queuedBits:0},i=c=>{s.push(c)};return l.forEach(c=>uh(c,n,i)),uh(null,n,i),s.join("")}function Ag(l){return Math.round(Date.now()/1e3)+l}function Tg(){return Symbol("auth-callback")}const qe=()=>typeof window<"u"&&typeof document<"u",Dr={tested:!1,writable:!1},e0=()=>{if(!qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Dr.tested)return Dr.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),Dr.tested=!0,Dr.writable=!0}catch{Dr.tested=!0,Dr.writable=!1}return Dr.writable};function Pg(l){const s={},n=new URL(l);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((c,d)=>{s[d]=c})}catch{}return n.searchParams.forEach((i,c)=>{s[c]=i}),s}const t0=l=>l?(...s)=>l(...s):(...s)=>fetch(...s),Rg=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",ks=async(l,s,n)=>{await l.setItem(s,JSON.stringify(n))},Ur=async(l,s)=>{const n=await l.getItem(s);if(!n)return null;try{return JSON.parse(n)}catch{return n}},We=async(l,s)=>{await l.removeItem(s)};class ll{constructor(){this.promise=new ll.promiseConstructor((s,n)=>{this.resolve=s,this.reject=n})}}ll.promiseConstructor=Promise;function ho(l){const s=l.split(".");if(s.length!==3)throw new So("Invalid JWT structure");for(let i=0;i<s.length;i++)if(!gg.test(s[i]))throw new So("JWT not in base64url format");return{header:JSON.parse(dh(s[0])),payload:JSON.parse(dh(s[1])),signature:As(s[2]),raw:{header:s[0],payload:s[1]}}}async function Og(l){return await new Promise(s=>{setTimeout(()=>s(null),l)})}function Ig(l,s){return new Promise((i,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const m=await l(d);if(!s(d,null,m)){i(m);return}}catch(m){if(!s(d,m)){c(m);return}}})()})}function $g(l){return("0"+l.toString(16)).substr(-2)}function Dg(){const s=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let c="";for(let d=0;d<56;d++)c+=n.charAt(Math.floor(Math.random()*i));return c}return crypto.getRandomValues(s),Array.from(s,$g).join("")}async function Ug(l){const n=new TextEncoder().encode(l),i=await crypto.subtle.digest("SHA-256",n),c=new Uint8Array(i);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function Lg(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const n=await Ug(l);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gs(l,s,n=!1){const i=Dg();let c=i;n&&(c+="/PASSWORD_RECOVERY"),await ks(l,`${s}-code-verifier`,c);const d=await Lg(i);return[d,i===d?"plain":"s256"]}const Mg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function zg(l){const s=l.headers.get(ko);if(!s||!s.match(Mg))return null;try{return new Date(`${s}T00:00:00.0Z`)}catch{return null}}function Fg(l){if(!l)throw new Error("Missing exp claim");const s=Math.floor(Date.now()/1e3);if(l<=s)throw new Error("JWT has expired")}function Bg(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Vg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vs(l){if(!Vg.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function mo(){const l={};return new Proxy(l,{get:(s,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(s,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(s,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Wg(l,s){return new Proxy(l,{get:(n,i,c)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const d=i.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,i,c)}return!s.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s.value=!0),Reflect.get(n,i,c)}})}function hh(l){return JSON.parse(JSON.stringify(l))}const Lr=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),qg=[502,503,504];async function mh(l){var s;if(!Rg(l))throw new _o(Lr(l),0);if(qg.includes(l.status))throw new _o(Lr(l),l.status);let n;try{n=await l.json()}catch(d){throw new zr(Lr(d),d)}let i;const c=zg(l);if(c&&c.getTime()>=Xh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new oh(Lr(n),l.status,((s=n.weak_password)===null||s===void 0?void 0:s.reasons)||[]);if(i==="session_not_found")throw new dt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((d,m)=>d&&typeof m=="string",!0))throw new oh(Lr(n),l.status,n.weak_password.reasons);throw new yg(Lr(n),l.status||500,i)}const Hg=(l,s,n,i)=>{const c={method:l,headers:s?.headers||{}};return l==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},s?.headers),c.body=JSON.stringify(i),Object.assign(Object.assign({},c),n))};async function te(l,s,n,i){var c;const d=Object.assign({},i?.headers);d[ko]||(d[ko]=Xh["2024-01-01"].name),i?.jwt&&(d.Authorization=`Bearer ${i.jwt}`);const m=(c=i?.query)!==null&&c!==void 0?c:{};i?.redirectTo&&(m.redirect_to=i.redirectTo);const f=Object.keys(m).length?"?"+new URLSearchParams(m).toString():"",p=await Kg(l,s,n+f,{headers:d,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(p):{data:Object.assign({},p),error:null}}async function Kg(l,s,n,i,c,d){const m=Hg(s,i,c,d);let f;try{f=await l(n,Object.assign({},m))}catch(p){throw console.error(p),new _o(Lr(p),0)}if(f.ok||await mh(f),i?.noResolveJson)return f;try{return await f.json()}catch(p){await mh(p)}}function At(l){var s;let n=null;Qg(l)&&(n=Object.assign({},l),l.expires_at||(n.expires_at=Ag(l.expires_in)));const i=(s=l.user)!==null&&s!==void 0?s:l;return{data:{session:n,user:i},error:null}}function ph(l){const s=At(l);return!s.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(s.data.weak_password=l.weak_password),s}function wr(l){var s;return{data:{user:(s=l.user)!==null&&s!==void 0?s:l},error:null}}function Gg(l){return{data:l,error:null}}function Jg(l){const{action_link:s,email_otp:n,hashed_token:i,redirect_to:c,verification_type:d}=l,m=nl(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:s,email_otp:n,hashed_token:i,redirect_to:c,verification_type:d},p=Object.assign({},m);return{data:{properties:f,user:p},error:null}}function fh(l){return l}function Qg(l){return l.access_token&&l.refresh_token&&l.expires_in}const po=["global","local","others"];class Yg{constructor({url:s="",headers:n={},fetch:i}){this.url=s,this.headers=n,this.fetch=t0(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(s,n=po[0]){if(po.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${po.join(", ")}`);try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:s,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Y(i))return{data:null,error:i};throw i}}async inviteUserByEmail(s,n={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:s,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:wr})}catch(i){if(Y(i))return{data:{user:null},error:i};throw i}}async generateLink(s){try{const{options:n}=s,i=nl(s,["options"]),c=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(c.new_email=i?.newEmail,delete c.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:Jg,redirectTo:n?.redirectTo})}catch(n){if(Y(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(s){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:s,headers:this.headers,xform:wr})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async listUsers(s){var n,i,c,d,m,f,p;try{const g={nextPage:null,lastPage:0,total:0},v=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=s?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(d=(c=s?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:fh});if(v.error)throw v.error;const w=await v.json(),N=(m=v.headers.get("x-total-count"))!==null&&m!==void 0?m:0,P=(p=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return P.length>0&&(P.forEach(A=>{const S=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(A.split(";")[1].split("=")[1]);g[`${b}Page`]=S}),g.total=parseInt(N)),{data:Object.assign(Object.assign({},w),g),error:null}}catch(g){if(Y(g))return{data:{users:[]},error:g};throw g}}async getUserById(s){vs(s);try{return await te(this.fetch,"GET",`${this.url}/admin/users/${s}`,{headers:this.headers,xform:wr})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async updateUserById(s,n){vs(s);try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${s}`,{body:n,headers:this.headers,xform:wr})}catch(i){if(Y(i))return{data:{user:null},error:i};throw i}}async deleteUser(s,n=!1){vs(s);try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${s}`,{headers:this.headers,body:{should_soft_delete:n},xform:wr})}catch(i){if(Y(i))return{data:{user:null},error:i};throw i}}async _listFactors(s){vs(s.userId);try{const{data:n,error:i}=await te(this.fetch,"GET",`${this.url}/admin/users/${s.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:n,error:i}}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _deleteFactor(s){vs(s.userId),vs(s.id);try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${s.userId}/factors/${s.id}`,{headers:this.headers}),error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _listOAuthClients(s){var n,i,c,d,m,f,p;try{const g={nextPage:null,lastPage:0,total:0},v=await te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=s?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(d=(c=s?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:fh});if(v.error)throw v.error;const w=await v.json(),N=(m=v.headers.get("x-total-count"))!==null&&m!==void 0?m:0,P=(p=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return P.length>0&&(P.forEach(A=>{const S=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(A.split(";")[1].split("=")[1]);g[`${b}Page`]=S}),g.total=parseInt(N)),{data:Object.assign(Object.assign({},w),g),error:null}}catch(g){if(Y(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(s){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:s,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _getOAuthClient(s){try{return await te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${s}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _updateOAuthClient(s,n){try{return await te(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${s}`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Y(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(s){try{return await te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${s}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(s){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${s}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Y(n))return{data:null,error:n};throw n}}}function xh(l={}){return{getItem:s=>l[s]||null,setItem:(s,n)=>{l[s]=n},removeItem:s=>{delete l[s]}}}const ys={debug:!!(globalThis&&e0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class r0 extends Error{constructor(s){super(s),this.isAcquireTimeout=!0}}class Xg extends r0{}async function Zg(l,s,n){ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,s);const i=new globalThis.AbortController;return s>0&&setTimeout(()=>{i.abort(),ys.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},s),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,s===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async c=>{if(c){ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,c.name);try{return await n()}finally{ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,c.name)}}else{if(s===0)throw ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new Xg(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(ys.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function ev(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function s0(l){if(!/^0x[a-fA-F0-9]{40}$/.test(l))throw new Error(`@supabase/auth-js: Address "${l}" is invalid.`);return l.toLowerCase()}function tv(l){return parseInt(l,16)}function rv(l){const s=new TextEncoder().encode(l);return"0x"+Array.from(s,i=>i.toString(16).padStart(2,"0")).join("")}function sv(l){var s;const{chainId:n,domain:i,expirationTime:c,issuedAt:d=new Date,nonce:m,notBefore:f,requestId:p,resources:g,scheme:v,uri:w,version:N}=l;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(m&&m.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${m}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(N!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${N}`);if(!((s=l.statement)===null||s===void 0)&&s.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${l.statement}`)}const P=s0(l.address),A=v?`${v}://${i}`:i,S=l.statement?`${l.statement}
`:"",b=`${A} wants you to sign in with your Ethereum account:
${P}

${S}`;let O=`URI: ${w}
Version: ${N}
Chain ID: ${n}${m?`
Nonce: ${m}`:""}
Issued At: ${d.toISOString()}`;if(c&&(O+=`
Expiration Time: ${c.toISOString()}`),f&&(O+=`
Not Before: ${f.toISOString()}`),p&&(O+=`
Request ID: ${p}`),g){let U=`
Resources:`;for(const k of g){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);U+=`
- ${k}`}O+=U}return`${b}
${O}`}class Oe extends Error{constructor({message:s,code:n,cause:i,name:c}){var d;super(s,{cause:i}),this.__isWebAuthnError=!0,this.name=(d=c??(i instanceof Error?i.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=n}}class Za extends Oe{constructor(s,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:s}),this.name="WebAuthnUnknownError",this.originalError=n}}function nv({error:l,options:s}){var n,i,c;const{publicKey:d}=s;if(!d)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(s.signal instanceof AbortSignal)return new Oe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else if(l.name==="ConstraintError"){if(((n=d.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Oe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:l});if(s.mediation==="conditional"&&((i=d.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Oe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:l});if(((c=d.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Oe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:l})}else{if(l.name==="InvalidStateError")return new Oe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:l});if(l.name==="NotAllowedError")return new Oe({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="NotSupportedError")return d.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new Oe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:l}):new Oe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:l});if(l.name==="SecurityError"){const m=window.location.hostname;if(n0(m)){if(d.rp.id!==m)return new Oe({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new Oe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new Oe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:l})}else if(l.name==="UnknownError")return new Oe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new Oe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}function av({error:l,options:s}){const{publicKey:n}=s;if(!n)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(s.signal instanceof AbortSignal)return new Oe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else{if(l.name==="NotAllowedError")return new Oe({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="SecurityError"){const i=window.location.hostname;if(n0(i)){if(n.rpId!==i)return new Oe({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new Oe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="UnknownError")return new Oe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new Oe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}class lv{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const s=new AbortController;return this.controller=s,s.signal}cancelCeremony(){if(this.controller){const s=new Error("Manually cancelling existing WebAuthn API call");s.name="AbortError",this.controller.abort(s),this.controller=void 0}}}const iv=new lv;function ov(l){if(!l)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(l);const{challenge:s,user:n,excludeCredentials:i}=l,c=nl(l,["challenge","user","excludeCredentials"]),d=As(s).buffer,m=Object.assign(Object.assign({},n),{id:As(n.id).buffer}),f=Object.assign(Object.assign({},c),{challenge:d,user:m});if(i&&i.length>0){f.excludeCredentials=new Array(i.length);for(let p=0;p<i.length;p++){const g=i[p];f.excludeCredentials[p]=Object.assign(Object.assign({},g),{id:As(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return f}function cv(l){if(!l)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(l);const{challenge:s,allowCredentials:n}=l,i=nl(l,["challenge","allowCredentials"]),c=As(s).buffer,d=Object.assign(Object.assign({},i),{challenge:c});if(n&&n.length>0){d.allowCredentials=new Array(n.length);for(let m=0;m<n.length;m++){const f=n[m];d.allowCredentials[m]=Object.assign(Object.assign({},f),{id:As(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return d}function uv(l){var s;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const n=l;return{id:l.id,rawId:l.id,response:{attestationObject:Fr(new Uint8Array(l.response.attestationObject)),clientDataJSON:Fr(new Uint8Array(l.response.clientDataJSON))},type:"public-key",clientExtensionResults:l.getClientExtensionResults(),authenticatorAttachment:(s=n.authenticatorAttachment)!==null&&s!==void 0?s:void 0}}function dv(l){var s;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const n=l,i=l.getClientExtensionResults(),c=l.response;return{id:l.id,rawId:l.id,response:{authenticatorData:Fr(new Uint8Array(c.authenticatorData)),clientDataJSON:Fr(new Uint8Array(c.clientDataJSON)),signature:Fr(new Uint8Array(c.signature)),userHandle:c.userHandle?Fr(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(s=n.authenticatorAttachment)!==null&&s!==void 0?s:void 0}}function n0(l){return l==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(l)}function gh(){var l,s;return!!(qe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((l=navigator?.credentials)===null||l===void 0?void 0:l.create)=="function"&&typeof((s=navigator?.credentials)===null||s===void 0?void 0:s.get)=="function")}async function hv(l){try{const s=await navigator.credentials.create(l);return s?s instanceof PublicKeyCredential?{data:s,error:null}:{data:null,error:new Za("Browser returned unexpected credential type",s)}:{data:null,error:new Za("Empty credential response",s)}}catch(s){return{data:null,error:nv({error:s,options:l})}}}async function mv(l){try{const s=await navigator.credentials.get(l);return s?s instanceof PublicKeyCredential?{data:s,error:null}:{data:null,error:new Za("Browser returned unexpected credential type",s)}:{data:null,error:new Za("Empty credential response",s)}}catch(s){return{data:null,error:av({error:s,options:l})}}}const pv={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},fv={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function el(...l){const s=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),n=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),i={};for(const c of l)if(c)for(const d in c){const m=c[d];if(m!==void 0)if(Array.isArray(m))i[d]=m;else if(n(m))i[d]=m;else if(s(m)){const f=i[d];s(f)?i[d]=el(f,m):i[d]=el(m)}else i[d]=m}return i}function xv(l,s){return el(pv,l,s||{})}function gv(l,s){return el(fv,l,s||{})}class vv{constructor(s){this.client=s,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(s){return this.client.mfa.enroll(Object.assign(Object.assign({},s),{factorType:"webauthn"}))}async _challenge({factorId:s,webauthn:n,friendlyName:i,signal:c},d){try{const{data:m,error:f}=await this.client.mfa.challenge({factorId:s,webauthn:n});if(!m)return{data:null,error:f};const p=c??iv.createNewAbortSignal();if(m.webauthn.type==="create"){const{user:g}=m.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${i}`),g.displayName||(g.displayName=g.name)}switch(m.webauthn.type){case"create":{const g=xv(m.webauthn.credential_options.publicKey,d?.create),{data:v,error:w}=await hv({publicKey:g,signal:p});return v?{data:{factorId:s,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}case"request":{const g=gv(m.webauthn.credential_options.publicKey,d?.request),{data:v,error:w}=await mv(Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:g,signal:p}));return v?{data:{factorId:s,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}}}catch(m){return Y(m)?{data:null,error:m}:{data:null,error:new zr("Unexpected error in challenge",m)}}}async _verify({challengeId:s,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:s,webauthn:i})}async _authenticate({factorId:s,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!n)return{data:null,error:new Cn("rpId is required for WebAuthn authentication")};try{if(!gh())return{data:null,error:new zr("Browser does not support WebAuthn",null)};const{data:m,error:f}=await this.challenge({factorId:s,webauthn:{rpId:n,rpOrigins:i},signal:c},{request:d});if(!m)return{data:null,error:f};const{webauthn:p}=m;return this._verify({factorId:s,challengeId:m.challengeId,webauthn:{type:p.type,rpId:n,rpOrigins:i,credential_response:p.credential_response}})}catch(m){return Y(m)?{data:null,error:m}:{data:null,error:new zr("Unexpected error in authenticate",m)}}}async _register({friendlyName:s,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!n)return{data:null,error:new Cn("rpId is required for WebAuthn registration")};try{if(!gh())return{data:null,error:new zr("Browser does not support WebAuthn",null)};const{data:m,error:f}=await this._enroll({friendlyName:s});if(!m)return await this.client.mfa.listFactors().then(v=>{var w;return(w=v.data)===null||w===void 0?void 0:w.all.find(N=>N.factor_type==="webauthn"&&N.friendly_name===s&&N.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:f};const{data:p,error:g}=await this._challenge({factorId:m.id,friendlyName:m.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:c},{create:d});return p?this._verify({factorId:m.id,challengeId:p.challengeId,webauthn:{rpId:n,rpOrigins:i,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:g}}catch(m){return Y(m)?{data:null,error:m}:{data:null,error:new zr("Unexpected error in register",m)}}}}ev();const yv={url:pg,storageKey:fg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function vh(l,s,n){return await n()}const bs={};class An{get jwks(){var s,n;return(n=(s=bs[this.storageKey])===null||s===void 0?void 0:s.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(s){bs[this.storageKey]=Object.assign(Object.assign({},bs[this.storageKey]),{jwks:s})}get jwks_cached_at(){var s,n;return(n=(s=bs[this.storageKey])===null||s===void 0?void 0:s.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(s){bs[this.storageKey]=Object.assign(Object.assign({},bs[this.storageKey]),{cachedAt:s})}constructor(s){var n,i,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},yv),s);if(this.storageKey=d.storageKey,this.instanceID=(n=An.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,An.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&qe()){const m=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(m),this.logDebugMessages&&console.trace(m)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new Yg({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=t0(d.fetch),this.lock=d.lock||vh,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,d.lock?this.lock=d.lock:this.persistSession&&qe()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=Zg:this.lock=vh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new vv(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:e0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=xh(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=xh(this.memoryStorage)),qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(m){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",m)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async m=>{this._debug("received broadcast notification from other tab or client",m),await this._notifyAllSubscribers(m.data.event,m.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(s){if(this.throwOnError&&s&&s.error)throw s.error;return s}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Yh}) ${new Date().toISOString()}`}_debug(...s){return this.logDebugMessages&&this.logger(this._logPrefix(),...s),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var s;try{let n={},i="none";if(qe()&&(n=Pg(window.location.href),this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce")),qe()&&this.detectSessionInUrl&&i!=="none"){const{data:c,error:d}=await this._getSessionFromURL(n,i);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),jg(d)){const p=(s=d.details)===null||s===void 0?void 0:s.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:m,redirectType:f}=c;return this._debug("#_initialize()","detected session in URL",m,"redirect type",f),await this._saveSession(m),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",m):await this._notifyAllSubscribers("SIGNED_IN",m)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Y(n)?this._returnResult({error:n}):this._returnResult({error:new zr("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(s){var n,i,c;try{const d=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=s?.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(c=s?.options)===null||c===void 0?void 0:c.captchaToken}},xform:At}),{data:m,error:f}=d;if(f||!m)return this._returnResult({data:{user:null,session:null},error:f});const p=m.session,g=m.user;return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(d){if(Y(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(s){var n,i,c;try{let d;if("email"in s){const{email:v,password:w,options:N}=s;let P=null,A=null;this.flowType==="pkce"&&([P,A]=await gs(this.storage,this.storageKey)),d=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:N?.emailRedirectTo,body:{email:v,password:w,data:(n=N?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:N?.captchaToken},code_challenge:P,code_challenge_method:A},xform:At})}else if("phone"in s){const{phone:v,password:w,options:N}=s;d=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:w,data:(i=N?.data)!==null&&i!==void 0?i:{},channel:(c=N?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:N?.captchaToken}},xform:At})}else throw new Ka("You must provide either an email or phone number and a password");const{data:m,error:f}=d;if(f||!m)return await We(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const p=m.session,g=m.user;return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(d){if(await We(this.storage,`${this.storageKey}-code-verifier`),Y(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(s){try{let n;if("email"in s){const{email:d,password:m,options:f}=s;n=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:m,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:ph})}else if("phone"in s){const{phone:d,password:m,options:f}=s;n=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:m,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:ph})}else throw new Ka("You must provide either an email or phone number and a password");const{data:i,error:c}=n;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!i||!i.session||!i.user){const d=new xs;return this._returnResult({data:{user:null,session:null},error:d})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:c})}catch(n){if(Y(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(s){var n,i,c,d;return await this._handleProviderSignIn(s.provider,{redirectTo:(n=s.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=s.options)===null||i===void 0?void 0:i.scopes,queryParams:(c=s.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=s.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(s){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(s))}async signInWithWeb3(s){const{chain:n}=s;switch(n){case"ethereum":return await this.signInWithEthereum(s);case"solana":return await this.signInWithSolana(s);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(s){var n,i,c,d,m,f,p,g,v,w,N;let P,A;if("message"in s)P=s.message,A=s.signature;else{const{chain:S,wallet:b,statement:O,options:U}=s;let k;if(qe())if(typeof b=="object")k=b;else{const de=window;if("ethereum"in de&&typeof de.ethereum=="object"&&"request"in de.ethereum&&typeof de.ethereum.request=="function")k=de.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!U?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=b}const F=new URL((n=U?.url)!==null&&n!==void 0?n:window.location.href),X=await k.request({method:"eth_requestAccounts"}).then(de=>de).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!X||X.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const G=s0(X[0]);let ae=(i=U?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!ae){const de=await k.request({method:"eth_chainId"});ae=tv(de)}const ce={domain:F.host,address:G,statement:O,uri:F.href,version:"1",chainId:ae,nonce:(c=U?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(m=(d=U?.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&m!==void 0?m:new Date,expirationTime:(f=U?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(p=U?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(g=U?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(v=U?.signInWithEthereum)===null||v===void 0?void 0:v.resources};P=sv(ce),A=await k.request({method:"personal_sign",params:[rv(P),G]})}try{const{data:S,error:b}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:P,signature:A},!((w=s.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(N=s.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:At});if(b)throw b;if(!S||!S.session||!S.user){const O=new xs;return this._returnResult({data:{user:null,session:null},error:O})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:b})}catch(S){if(Y(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(s){var n,i,c,d,m,f,p,g,v,w,N,P;let A,S;if("message"in s)A=s.message,S=s.signature;else{const{chain:b,wallet:O,statement:U,options:k}=s;let F;if(qe())if(typeof O=="object")F=O;else{const G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))F=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=O}const X=new URL((n=k?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in F&&F.signIn){const G=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k?.signInWithSolana),{version:"1",domain:X.host,uri:X.href}),U?{statement:U}:null));let ae;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")ae=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)ae=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ae&&"signature"in ae&&(typeof ae.signedMessage=="string"||ae.signedMessage instanceof Uint8Array)&&ae.signature instanceof Uint8Array)A=typeof ae.signedMessage=="string"?ae.signedMessage:new TextDecoder().decode(ae.signedMessage),S=ae.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${X.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...U?["",U,""]:[""],"Version: 1",`URI: ${X.href}`,`Issued At: ${(c=(i=k?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=k?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((m=k?.signInWithSolana)===null||m===void 0)&&m.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((f=k?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((p=k?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((g=k?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((w=(v=k?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||w===void 0)&&w.length?["Resources",...k.signInWithSolana.resources.map(ae=>`- ${ae}`)]:[]].join(`
`);const G=await F.signMessage(new TextEncoder().encode(A),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=G}}try{const{data:b,error:O}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:Fr(S)},!((N=s.options)===null||N===void 0)&&N.captchaToken?{gotrue_meta_security:{captcha_token:(P=s.options)===null||P===void 0?void 0:P.captchaToken}}:null),xform:At});if(O)throw O;if(!b||!b.session||!b.user){const U=new xs;return this._returnResult({data:{user:null,session:null},error:U})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:O})}catch(b){if(Y(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(s){const n=await Ur(this.storage,`${this.storageKey}-code-verifier`),[i,c]=(n??"").split("/");try{if(!i&&this.flowType==="pkce")throw new Ng;const{data:d,error:m}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:s,code_verifier:i},xform:At});if(await We(this.storage,`${this.storageKey}-code-verifier`),m)throw m;if(!d||!d.session||!d.user){const f=new xs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:m})}catch(d){if(await We(this.storage,`${this.storageKey}-code-verifier`),Y(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(s){try{const{options:n,provider:i,token:c,access_token:d,nonce:m}=s,f=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:c,access_token:d,nonce:m,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:At}),{data:p,error:g}=f;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p||!p.session||!p.user){const v=new xs;return this._returnResult({data:{user:null,session:null},error:v})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:g})}catch(n){if(Y(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(s){var n,i,c,d,m;try{if("email"in s){const{email:f,options:p}=s;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await gs(this.storage,this.storageKey));const{error:w}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=p?.data)!==null&&n!==void 0?n:{},create_user:(i=p?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:v},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in s){const{phone:f,options:p}=s,{data:g,error:v}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(c=p?.data)!==null&&c!==void 0?c:{},create_user:(d=p?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(m=p?.channel)!==null&&m!==void 0?m:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:v})}throw new Ka("You must provide either an email or phone number.")}catch(f){if(await We(this.storage,`${this.storageKey}-code-verifier`),Y(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(s){var n,i;try{let c,d;"options"in s&&(c=(n=s.options)===null||n===void 0?void 0:n.redirectTo,d=(i=s.options)===null||i===void 0?void 0:i.captchaToken);const{data:m,error:f}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},s),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:At});if(f)throw f;if(!m)throw new Error("An error occurred on token verification.");const p=m.session,g=m.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(s.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(c){if(Y(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(s){var n,i,c,d,m;try{let f=null,p=null;this.flowType==="pkce"&&([f,p]=await gs(this.storage,this.storageKey));const g=await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in s?{provider_id:s.providerId}:null),"domain"in s?{domain:s.domain}:null),{redirect_to:(i=(n=s.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((c=s?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:s.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:p}),headers:this.headers,xform:Gg});return!((d=g.data)===null||d===void 0)&&d.url&&qe()&&!(!((m=s.options)===null||m===void 0)&&m.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(f){if(await We(this.storage,`${this.storageKey}-code-verifier`),Y(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async s=>{const{data:{session:n},error:i}=s;if(i)throw i;if(!n)throw new dt;const{error:c}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(s){if(Y(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async resend(s){try{const n=`${this.url}/resend`;if("email"in s){const{email:i,type:c,options:d}=s,{error:m}=await te(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}else if("phone"in s){const{phone:i,type:c,options:d}=s,{data:m,error:f}=await te(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:f})}throw new Ka("You must provide either an email or phone number and a type")}catch(n){if(Y(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(s,n){this._debug("#_acquireLock","begin",s);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,s,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(s){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await s(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let s=null;const n=await Ur(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?s=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!s)return{data:{session:null},error:null};const i=s.expires_at?s.expires_at*1e3-Date.now()<co:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",s.expires_at),!i){if(this.userStorage){const m=await Ur(this.userStorage,this.storageKey+"-user");m?.user?s.user=m.user:s.user=mo()}if(this.storage.isServer&&s.user&&!s.user.__isUserNotAvailableProxy){const m={value:this.suppressGetSessionWarning};s.user=Wg(s.user,m),m.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:s},error:null}}const{data:c,error:d}=await this._callRefreshToken(s.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(s){if(s)return await this._getUser(s);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(s){try{return s?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:s,xform:wr}):await this._useSession(async n=>{var i,c,d;const{data:m,error:f}=n;if(f)throw f;return!(!((i=m.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new dt}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=m.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:wr})})}catch(n){if(Y(n))return wg(n)&&(await this._removeSession(),await We(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(s,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(s,n))}async _updateUser(s,n={}){try{return await this._useSession(async i=>{const{data:c,error:d}=i;if(d)throw d;if(!c.session)throw new dt;const m=c.session;let f=null,p=null;this.flowType==="pkce"&&s.email!=null&&([f,p]=await gs(this.storage,this.storageKey));const{data:g,error:v}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},s),{code_challenge:f,code_challenge_method:p}),jwt:m.access_token,xform:wr});if(v)throw v;return m.user=g.user,await this._saveSession(m),await this._notifyAllSubscribers("USER_UPDATED",m),this._returnResult({data:{user:m.user},error:null})})}catch(i){if(await We(this.storage,`${this.storageKey}-code-verifier`),Y(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(s))}async _setSession(s){try{if(!s.access_token||!s.refresh_token)throw new dt;const n=Date.now()/1e3;let i=n,c=!0,d=null;const{payload:m}=ho(s.access_token);if(m.exp&&(i=m.exp,c=i<=n),c){const{data:f,error:p}=await this._callRefreshToken(s.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f)return{data:{user:null,session:null},error:null};d=f}else{const{data:f,error:p}=await this._getUser(s.access_token);if(p)throw p;d={access_token:s.access_token,refresh_token:s.refresh_token,user:f.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(n){if(Y(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(s))}async _refreshSession(s){try{return await this._useSession(async n=>{var i;if(!s){const{data:m,error:f}=n;if(f)throw f;s=(i=m.session)!==null&&i!==void 0?i:void 0}if(!s?.refresh_token)throw new dt;const{data:c,error:d}=await this._callRefreshToken(s.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Y(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(s,n){try{if(!qe())throw new Ga("No browser detected.");if(s.error||s.error_description||s.error_code)throw new Ga(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new ih("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ga("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!s.code)throw new ih("No code detected.");const{data:U,error:k}=await this._exchangeCodeForSession(s.code);if(k)throw k;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:U.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:c,access_token:d,refresh_token:m,expires_in:f,expires_at:p,token_type:g}=s;if(!d||!f||!m||!g)throw new Ga("No session defined in URL");const v=Math.round(Date.now()/1e3),w=parseInt(f);let N=v+w;p&&(N=parseInt(p));const P=N-v;P*1e3<=Ns&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${P}s, should have been closer to ${w}s`);const A=N-w;v-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,N,v):v-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,N,v);const{data:S,error:b}=await this._getUser(d);if(b)throw b;const O={provider_token:i,provider_refresh_token:c,access_token:d,expires_in:w,expires_at:N,refresh_token:m,token_type:g,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:O,redirectType:s.type},error:null})}catch(i){if(Y(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(s){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),s):!!(s.access_token||s.error_description)}async _isPKCECallback(s){const n=await Ur(this.storage,`${this.storageKey}-code-verifier`);return!!(s.code&&n)}async signOut(s={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(s))}async _signOut({scope:s}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:c,error:d}=n;if(d)return this._returnResult({error:d});const m=(i=c.session)===null||i===void 0?void 0:i.access_token;if(m){const{error:f}=await this.admin.signOut(m,s);if(f&&!(bg(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return s!=="others"&&(await this._removeSession(),await We(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(s){const n=Tg(),i={id:n,callback:s,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(s){return await this._useSession(async n=>{var i,c;try{const{data:{session:d},error:m}=n;if(m)throw m;await((i=this.stateChangeEmitters.get(s))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",s,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(s))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",s,"error",d),console.error(d)}})}async resetPasswordForEmail(s,n={}){let i=null,c=null;this.flowType==="pkce"&&([i,c]=await gs(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:s,code_challenge:i,code_challenge_method:c,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(d){if(await We(this.storage,`${this.storageKey}-code-verifier`),Y(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var s;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(s=n.user.identities)!==null&&s!==void 0?s:[]},error:null})}catch(n){if(Y(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(s){return"token"in s?this.linkIdentityIdToken(s):this.linkIdentityOAuth(s)}async linkIdentityOAuth(s){var n;try{const{data:i,error:c}=await this._useSession(async d=>{var m,f,p,g,v;const{data:w,error:N}=d;if(N)throw N;const P=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,s.provider,{redirectTo:(m=s.options)===null||m===void 0?void 0:m.redirectTo,scopes:(f=s.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=s.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",P,{headers:this.headers,jwt:(v=(g=w.session)===null||g===void 0?void 0:g.access_token)!==null&&v!==void 0?v:void 0})});if(c)throw c;return qe()&&!(!((n=s.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:s.provider,url:i?.url},error:null})}catch(i){if(Y(i))return this._returnResult({data:{provider:s.provider,url:null},error:i});throw i}}async linkIdentityIdToken(s){return await this._useSession(async n=>{var i;try{const{error:c,data:{session:d}}=n;if(c)throw c;const{options:m,provider:f,token:p,access_token:g,nonce:v}=s,w=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=d?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:f,id_token:p,access_token:g,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:At}),{data:N,error:P}=w;return P?this._returnResult({data:{user:null,session:null},error:P}):!N||!N.session||!N.user?this._returnResult({data:{user:null,session:null},error:new xs}):(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("USER_UPDATED",N.session)),this._returnResult({data:N,error:P}))}catch(c){if(await We(this.storage,`${this.storageKey}-code-verifier`),Y(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(s){try{return await this._useSession(async n=>{var i,c;const{data:d,error:m}=n;if(m)throw m;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${s.identity_id}`,{headers:this.headers,jwt:(c=(i=d.session)===null||i===void 0?void 0:i.access_token)!==null&&c!==void 0?c:void 0})})}catch(n){if(Y(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(s){const n=`#_refreshAccessToken(${s.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await Ig(async c=>(c>0&&await Og(200*Math.pow(2,c-1)),this._debug(n,"refreshing attempt",c),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:s},headers:this.headers,xform:At})),(c,d)=>{const m=200*Math.pow(2,c);return d&&uo(d)&&Date.now()+m-i<Ns})}catch(i){if(this._debug(n,"error",i),Y(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(n,"end")}}_isValidSession(s){return typeof s=="object"&&s!==null&&"access_token"in s&&"refresh_token"in s&&"expires_at"in s}async _handleProviderSignIn(s,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,s,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",s,"options",n,"url",i),qe()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:s,url:i},error:null}}async _recoverAndRefresh(){var s,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const c=await Ur(this.storage,this.storageKey);if(c&&this.userStorage){let m=await Ur(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!m&&(m={user:c.user},await ks(this.userStorage,this.storageKey+"-user",m)),c.user=(s=m?.user)!==null&&s!==void 0?s:mo()}else if(c&&!c.user&&!c.user){const m=await Ur(this.storage,this.storageKey+"-user");m&&m?.user?(c.user=m.user,await We(this.storage,this.storageKey+"-user"),await ks(this.storage,this.storageKey,c)):c.user=mo()}if(this._debug(i,"session from storage",c),!this._isValidSession(c)){this._debug(i,"session is not valid"),c!==null&&await this._removeSession();return}const d=((n=c.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<co;if(this._debug(i,`session has${d?"":" not"} expired with margin of ${co}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:m}=await this._callRefreshToken(c.refresh_token);m&&(console.error(m),uo(m)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",m),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:m,error:f}=await this._getUser(c.access_token);!f&&m?.user?(c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(m){console.error("Error getting user data:",m),this._debug(i,"error getting user data, skipping SIGNED_IN notification",m)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(i,"error",c),console.error(c);return}finally{this._debug(i,"end")}}async _callRefreshToken(s){var n,i;if(!s)throw new dt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${s.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new ll;const{data:d,error:m}=await this._refreshAccessToken(s);if(m)throw m;if(!d.session)throw new dt;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const f={data:d.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(d){if(this._debug(c,"error",d),Y(d)){const m={data:null,error:d};return uo(d)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(m),m}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(s,n,i=!0){const c=`#_notifyAllSubscribers(${s})`;this._debug(c,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:s,session:n});const d=[],m=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(s,n)}catch(p){d.push(p)}});if(await Promise.all(m),d.length>0){for(let f=0;f<d.length;f+=1)console.error(d[f]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(s){this._debug("#_saveSession()",s),this.suppressGetSessionWarning=!0,await We(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},s),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await ks(this.userStorage,this.storageKey+"-user",{user:n.user});const c=Object.assign({},n);delete c.user;const d=hh(c);await ks(this.storage,this.storageKey,d)}else{const c=hh(n);await ks(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await We(this.storage,this.storageKey),await We(this.storage,this.storageKey+"-code-verifier"),await We(this.storage,this.storageKey+"-user"),this.userStorage&&await We(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const s=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{s&&qe()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",s)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const s=setInterval(()=>this._autoRefreshTokenTick(),Ns);this.autoRefreshTicker=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const s=this.autoRefreshTicker;this.autoRefreshTicker=null,s&&clearInterval(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const s=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((i.expires_at*1e3-s)/Ns);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Ns}ms, refresh threshold is ${No} ticks`),c<=No&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(s){if(s.isAcquireTimeout||s instanceof r0)this._debug("auto refresh token tick lock not available");else throw s}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qe()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(s){console.error("_handleVisibilityChange",s)}}async _onVisibilityChanged(s){const n=`#_onVisibilityChanged(${s})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),s||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(s,n,i){const c=[`provider=${encodeURIComponent(n)}`];if(i?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&c.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[d,m]=await gs(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(m)}`});c.push(f.toString())}if(i?.queryParams){const d=new URLSearchParams(i.queryParams);c.push(d.toString())}return i?.skipBrowserRedirect&&c.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${s}?${c.join("&")}`}async _unenroll(s){try{return await this._useSession(async n=>{var i;const{data:c,error:d}=n;return d?this._returnResult({data:null,error:d}):await te(this.fetch,"DELETE",`${this.url}/factors/${s.factorId}`,{headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Y(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(s){try{return await this._useSession(async n=>{var i,c;const{data:d,error:m}=n;if(m)return this._returnResult({data:null,error:m});const f=Object.assign({friendly_name:s.friendlyName,factor_type:s.factorType},s.factorType==="phone"?{phone:s.phone}:s.factorType==="totp"?{issuer:s.issuer}:{}),{data:p,error:g}=await te(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(i=d?.session)===null||i===void 0?void 0:i.access_token});return g?this._returnResult({data:null,error:g}):(s.factorType==="totp"&&p.type==="totp"&&(!((c=p?.totp)===null||c===void 0)&&c.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(n){if(Y(n))return this._returnResult({data:null,error:n});throw n}}async _verify(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:c,error:d}=n;if(d)return this._returnResult({data:null,error:d});const m=Object.assign({challenge_id:s.challengeId},"webauthn"in s?{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_response:s.webauthn.type==="create"?uv(s.webauthn.credential_response):dv(s.webauthn.credential_response)})}:{code:s.code}),{data:f,error:p}=await te(this.fetch,"POST",`${this.url}/factors/${s.factorId}/verify`,{body:m,headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:p}))})}catch(n){if(Y(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:c,error:d}=n;if(d)return this._returnResult({data:null,error:d});const m=await te(this.fetch,"POST",`${this.url}/factors/${s.factorId}/challenge`,{body:s,headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token});if(m.error)return m;const{data:f}=m;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:ov(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:cv(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Y(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(s){const{data:n,error:i}=await this._challenge({factorId:s.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:s.factorId,challengeId:n.id,code:s.code})}async _listFactors(){var s;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const c={all:[],phone:[],totp:[],webauthn:[]};for(const d of(s=n?.factors)!==null&&s!==void 0?s:[])c.all.push(d),d.status==="verified"&&c[d.factor_type].push(d);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var s,n;const{data:{session:i},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=ho(i.access_token);let m=null;d.aal&&(m=d.aal);let f=m;((n=(s=i.user.factors)===null||s===void 0?void 0:s.filter(v=>v.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(f="aal2");const g=d.amr||[];return{data:{currentLevel:m,nextLevel:f,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(s){try{return await this._useSession(async n=>{const{data:{session:i},error:c}=n;return c?this._returnResult({data:null,error:c}):i?await te(this.fetch,"GET",`${this.url}/oauth/authorizations/${s}`,{headers:this.headers,jwt:i.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new dt})})}catch(n){if(Y(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(s,n){try{return await this._useSession(async i=>{const{data:{session:c},error:d}=i;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new dt});const m=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${s}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return m.data&&m.data.redirect_url&&qe()&&!n?.skipBrowserRedirect&&window.location.assign(m.data.redirect_url),m})}catch(i){if(Y(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(s,n){try{return await this._useSession(async i=>{const{data:{session:c},error:d}=i;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new dt});const m=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${s}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return m.data&&m.data.redirect_url&&qe()&&!n?.skipBrowserRedirect&&window.location.assign(m.data.redirect_url),m})}catch(i){if(Y(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async s=>{const{data:{session:n},error:i}=s;return i?this._returnResult({data:null,error:i}):n?await te(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new dt})})}catch(s){if(Y(s))return this._returnResult({data:null,error:s});throw s}}async _revokeOAuthGrant(s){try{return await this._useSession(async n=>{const{data:{session:i},error:c}=n;return c?this._returnResult({data:null,error:c}):i?(await te(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:s.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new dt})})}catch(n){if(Y(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(s,n={keys:[]}){let i=n.keys.find(f=>f.kid===s);if(i)return i;const c=Date.now();if(i=this.jwks.keys.find(f=>f.kid===s),i&&this.jwks_cached_at+vg>c)return i;const{data:d,error:m}=await te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(m)throw m;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,i=d.keys.find(f=>f.kid===s),!i)?null:i}async getClaims(s,n={}){try{let i=s;if(!i){const{data:P,error:A}=await this.getSession();if(A||!P.session)return this._returnResult({data:null,error:A});i=P.session.access_token}const{header:c,payload:d,signature:m,raw:{header:f,payload:p}}=ho(i);n?.allowExpired||Fg(d.exp);const g=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!g){const{error:P}=await this.getUser(i);if(P)throw P;return{data:{claims:d,header:c,signature:m},error:null}}const v=Bg(c.alg),w=await crypto.subtle.importKey("jwk",g,v,!0,["verify"]);if(!await crypto.subtle.verify(v,w,m,Cg(`${f}.${p}`)))throw new So("Invalid JWT signature");return{data:{claims:d,header:c,signature:m},error:null}}catch(i){if(Y(i))return this._returnResult({data:null,error:i});throw i}}}An.nextInstanceID={};const bv=An,wv="2.89.0";let vn="";typeof Deno<"u"?vn="deno":typeof document<"u"?vn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?vn="react-native":vn="node";const jv={"X-Client-Info":`supabase-js-${vn}/${wv}`},Nv={headers:jv},kv={schema:"public"},_v={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Sv={};function Tn(l){"@babel/helpers - typeof";return Tn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Tn(l)}function Ev(l,s){if(Tn(l)!="object"||!l)return l;var n=l[Symbol.toPrimitive];if(n!==void 0){var i=n.call(l,s);if(Tn(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(l)}function Cv(l){var s=Ev(l,"string");return Tn(s)=="symbol"?s:s+""}function Av(l,s,n){return(s=Cv(s))in l?Object.defineProperty(l,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):l[s]=n,l}function yh(l,s){var n=Object.keys(l);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(l);s&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(l,c).enumerable})),n.push.apply(n,i)}return n}function Ae(l){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?yh(Object(n),!0).forEach(function(i){Av(l,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(n)):yh(Object(n)).forEach(function(i){Object.defineProperty(l,i,Object.getOwnPropertyDescriptor(n,i))})}return l}const Tv=l=>l?(...s)=>l(...s):(...s)=>fetch(...s),Pv=()=>Headers,Rv=(l,s,n)=>{const i=Tv(n),c=Pv();return async(d,m)=>{var f;const p=(f=await s())!==null&&f!==void 0?f:l;let g=new c(m?.headers);return g.has("apikey")||g.set("apikey",l),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),i(d,Ae(Ae({},m),{},{headers:g}))}};function Ov(l){return l.endsWith("/")?l:l+"/"}function Iv(l,s){var n,i;const{db:c,auth:d,realtime:m,global:f}=l,{db:p,auth:g,realtime:v,global:w}=s,N={db:Ae(Ae({},p),c),auth:Ae(Ae({},g),d),realtime:Ae(Ae({},v),m),storage:{},global:Ae(Ae(Ae({},w),f),{},{headers:Ae(Ae({},(n=w?.headers)!==null&&n!==void 0?n:{}),(i=f?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return l.accessToken?N.accessToken=l.accessToken:delete N.accessToken,N}function $v(l){const s=l?.trim();if(!s)throw new Error("supabaseUrl is required.");if(!s.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ov(s))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Dv=class extends bv{constructor(l){super(l)}},Uv=class{constructor(l,s,n){var i,c;this.supabaseUrl=l,this.supabaseKey=s;const d=$v(l);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const m=`sb-${d.hostname.split(".")[0]}-auth-token`,f={db:kv,realtime:Sv,auth:Ae(Ae({},_v),{},{storageKey:m}),global:Nv},p=Iv(n??{},f);if(this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(c=p.global.headers)!==null&&c!==void 0?c:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(v,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=p.auth)!==null&&g!==void 0?g:{},this.headers,p.global.fetch)}this.fetch=Rv(s,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Ae({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new xx(new URL("rest/v1",d).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new mg(this.storageUrl.href,this.headers,this.fetch,n?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new dx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(l){return this.rest.from(l)}schema(l){return this.rest.schema(l)}rpc(l,s={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(l,s,n)}channel(l,s={config:{}}){return this.realtime.channel(l,s)}getChannels(){return this.realtime.getChannels()}removeChannel(l){return this.realtime.removeChannel(l)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var l=this,s,n;if(l.accessToken)return await l.accessToken();const{data:i}=await l.auth.getSession();return(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:l.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:l,persistSession:s,detectSessionInUrl:n,storage:i,userStorage:c,storageKey:d,flowType:m,lock:f,debug:p,throwOnError:g},v,w){const N={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Dv({url:this.authUrl.href,headers:Ae(Ae({},N),v),storageKey:d,autoRefreshToken:l,persistSession:s,detectSessionInUrl:n,storage:i,userStorage:c,flowType:m,lock:f,debug:p,throwOnError:g,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(P=>P.toLowerCase()==="authorization")})}_initRealtimeClient(l){return new Ox(this.realtimeUrl.href,Ae(Ae({},l),{},{params:Ae(Ae({},{apikey:this.supabaseKey}),l?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((l,s)=>{this._handleTokenChanged(l,"CLIENT",s?.access_token)})}_handleTokenChanged(l,s,n){(l==="TOKEN_REFRESHED"||l==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):l==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Lv=(l,s,n)=>new Uv(l,s,n);function Mv(){if(typeof window<"u"||typeof process>"u")return!1;const l=process.version;if(l==null)return!1;const s=l.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}Mv()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const a0={},l0=a0?.VITE_SUPABASE_URL,i0=a0?.VITE_SUPABASE_ANON_KEY;if(!l0)throw new Error("Missing VITE_SUPABASE_URL");if(!i0)throw new Error("Missing VITE_SUPABASE_ANON_KEY");const ws=Lv(l0,i0);function zv({onNavigate:l}){const[s,n]=z.useState(!0),[i,c]=z.useState(!1),[d,m]=z.useState(null),[f,p]=z.useState(null),[g,v]=z.useState(!1),[w,N]=z.useState(""),[P,A]=z.useState(""),[S,b]=z.useState(""),[O,U]=z.useState("free"),[k]=z.useState(0),[F]=z.useState(0);z.useEffect(()=>{let G=!0;return(async()=>{try{const{data:ae,error:ce}=await ws.auth.getSession();if(ce)throw ce;const de=ae.session?.user;if(!de)throw new Error("Not signed in");const{data:Qe,error:bt}=await ws.from("artists").select("*").eq("id",de.id).limit(1);if(bt)throw bt;if(!Qe||Qe.length===0){const Ue={id:de.id,email:de.email,name:de.user_metadata?.name||"Artist",role:"artist",subscription_tier:"free",subscription_status:"inactive"},{error:Le}=await ws.from("artists").upsert(Ue,{onConflict:"id"});if(Le)throw Le;N(Ue.name||"Artist"),A(Ue.email||""),U("free")}else{const Ue=Qe[0];N(Ue.name||de.user_metadata?.name||"Artist"),A(Ue.email||de.email||"");const Le=Ue.subscription_tier||"free";U(Le)}b((de.user_metadata?.portfolioUrl||"").trim())}catch(ae){G&&m(ae?.message||"Failed to load profile")}finally{G&&n(!1)}})(),()=>{G=!1}},[]);async function X(){c(!0),m(null),p(null);try{const{data:G}=await ws.auth.getSession(),ae=G.session?.user;if(!ae)throw new Error("Not signed in");const{error:ce}=await ws.from("artists").upsert({id:ae.id,name:w,email:P,subscription_tier:O},{onConflict:"id"});if(ce)throw ce;const{error:de}=await ws.auth.updateUser({data:{portfolioUrl:S}});if(de)throw de;p("Profile updated successfully"),v(!1)}catch(G){m(G?.message||"Failed to save changes")}finally{c(!1)}}return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl mb-2 text-neutral-900",children:"Artist Profile"}),t.jsx("p",{className:"text-neutral-600",children:"Manage your account information and settings"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl border border-neutral-200 overflow-hidden",children:[t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-start justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center",children:t.jsx(Qa,{className:"w-10 h-10 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl mb-1 text-neutral-900",children:w||"Artist"}),t.jsx(Lh,{plan:O,size:"sm",showUpgrade:!0,onUpgrade:()=>l("plans-pricing")})]})]}),g?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{disabled:i,onClick:X,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-60",children:[t.jsx(Rh,{className:"w-4 h-4"}),t.jsx("span",{children:i?"Saving":"Save"})]}),t.jsxs("button",{disabled:i,onClick:()=>v(!1),className:"flex items-center gap-2 px-3 py-2 bg-neutral-50 border border-neutral-200 text-neutral-700 rounded-lg transition-colors",children:[t.jsx(It,{className:"w-4 h-4"}),t.jsx("span",{children:"Cancel"})]})]}):t.jsxs("button",{onClick:()=>v(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[t.jsx(Do,{className:"w-4 h-4"}),t.jsx("span",{children:"Edit Profile"})]})]}),(d||f)&&t.jsx("div",{className:`mb-4 rounded-lg border px-4 py-3 text-sm ${d?"bg-neutral-50 border-neutral-200 text-red-600":"bg-neutral-50 border-neutral-200 text-neutral-900"}`,children:d||f}),g?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-neutral-600 mb-1",children:"Display Name"}),t.jsx("input",{value:w,onChange:G=>N(G.target.value),className:"w-full px-4 py-2 rounded-lg border border-neutral-300 bg-white text-neutral-900 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Your name"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-neutral-600 mb-1",children:"Portfolio Website"}),t.jsx("input",{value:S,onChange:G=>b(G.target.value),className:"w-full px-4 py-2 rounded-lg border border-neutral-300 bg-white text-neutral-900 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://your-portfolio.example"})]})]}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-neutral-50 rounded-lg",children:[t.jsx(sl,{className:"w-5 h-5 text-neutral-500 mt-0.5"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{className:"block text-sm text-neutral-500 mb-1",children:"Email Address"}),t.jsx("p",{className:"text-neutral-900",children:P})]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-neutral-50 rounded-lg",children:[t.jsx(rf,{className:"w-5 h-5 text-neutral-500 mt-0.5"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{className:"block text-sm text-neutral-500 mb-1",children:"Portfolio Website"}),S?t.jsx("a",{href:S,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:S}):t.jsx("p",{className:"text-neutral-500",children:"Not set"})]})]})]})]}),t.jsxs("div",{className:"border-t border-neutral-200 p-6",children:[t.jsx("h3",{className:"text-lg mb-4 text-neutral-900",children:"Account Settings"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("button",{className:"w-full text-left px-4 py-3 bg-neutral-50 hover:bg-neutral-100 rounded-lg transition-colors",children:[t.jsx("p",{className:"text-neutral-900 mb-1",children:"Password & Security"}),t.jsx("p",{className:"text-sm text-neutral-500",children:"Change your password and security settings"})]}),t.jsxs("button",{className:"w-full text-left px-4 py-3 bg-neutral-50 hover:bg-neutral-100 rounded-lg transition-colors",children:[t.jsx("p",{className:"text-neutral-900 mb-1",children:"Notification Preferences"}),t.jsx("p",{className:"text-sm text-neutral-500",children:"Manage email and push notifications"})]})]})]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white rounded-xl border border-neutral-200 p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx(Vt,{className:"w-6 h-6 text-blue-600"})}),t.jsx("h3",{className:"text-lg text-neutral-900",children:"Earnings Summary"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-neutral-500 mb-1",children:"Total Earnings"}),t.jsxs("p",{className:"text-2xl text-neutral-900",children:["$",k.toFixed(2)]})]}),t.jsxs("div",{className:"pt-4 border-t border-neutral-200",children:[t.jsx("p",{className:"text-sm text-neutral-500 mb-1",children:"Pending Payout"}),t.jsxs("p",{className:"text-xl text-blue-600",children:["$",F.toFixed(2)]}),t.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"Processed monthly on the 15th"})]})]}),t.jsx("button",{onClick:()=>l("artist-sales"),className:"w-full mt-4 px-4 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors",children:"View Sales History"})]}),t.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl border border-neutral-200 dark:border-neutral-700 p-6",children:[t.jsx("h3",{className:"text-lg mb-3 text-neutral-900",children:"Quick Actions"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("button",{onClick:()=>l("artist-artworks"),className:"w-full text-left px-4 py-2 bg-neutral-50 text-neutral-700 rounded-lg hover:bg-neutral-100 transition-colors",children:"Manage Artworks"}),t.jsx("button",{onClick:()=>l("artist-venues"),className:"w-full text-left px-4 py-2 bg-neutral-50 dark:bg-neutral-900 text-neutral-700 dark:text-neutral-300 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-700 transition-colors",children:"Browse Venues"}),t.jsx("button",{onClick:()=>l("plans-pricing"),className:"w-full text-left px-4 py-2 bg-neutral-50 dark:bg-neutral-900 text-neutral-700 dark:text-neutral-300 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-700 transition-colors",children:"Upgrade Plan"})]})]})]})]})]})}function Fv({onNavigate:l}){const s=Ya.length,n=Ya.filter(m=>m.available).length,i=Uo.filter(m=>m.status==="pending").length,c=Ot.reduce((m,f)=>m+f.venueEarnings,0),d=[{label:"Wall Spaces",value:`${s-n}/${s}`,subtext:"Currently occupied",icon:wn,color:"green",action:()=>l("venue-walls")},{label:"Pending Applications",value:i,subtext:"Awaiting review",icon:Bt,color:"green",action:()=>l("venue-applications")},{label:"Active Artists",value:s-n,subtext:"Currently displaying",icon:Pn,color:"green",action:()=>l("venue-current")},{label:"Total Earnings",value:`$${c.toFixed(0)}`,subtext:"10% commission",icon:Vt,color:"green",action:()=>l("venue-sales")}];return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl mb-2",children:"Welcome back, Brew & Palette Caf"}),t.jsx("p",{className:"text-neutral-600",children:"Manage your wall spaces and artist applications"})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:d.map(m=>{const f=m.icon;return t.jsxs("button",{onClick:m.action,className:"bg-white rounded-xl p-6 border border-neutral-200 hover:border-green-300 hover:shadow-md transition-all text-left group",children:[t.jsx("div",{className:"flex items-start justify-between mb-4",children:t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center group-hover:bg-green-500 transition-colors",children:t.jsx(f,{className:"w-6 h-6 text-green-600 group-hover:text-white transition-colors"})})}),t.jsx("div",{className:"text-3xl mb-1 text-neutral-900",children:m.value}),t.jsx("div",{className:"text-neutral-600 text-sm",children:m.label}),t.jsx("div",{className:"text-neutral-400 text-xs mt-1",children:m.subtext})]},m.label)})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-neutral-200",children:[t.jsx("h2",{className:"text-xl mb-4",children:"Recent Activity"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-start gap-3 pb-4 border-b border-neutral-100 dark:border-neutral-700",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm text-neutral-900",children:'Artwork "Sunset Boulevard" was sold'}),t.jsx("p",{className:"text-xs text-neutral-500",children:"You earned $29.50  2 days ago"})]})]}),t.jsxs("div",{className:"flex items-start gap-3 pb-4 border-b border-neutral-100",children:[t.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm text-neutral-900",children:"New application from Marcus Rodriguez"}),t.jsx("p",{className:"text-xs text-neutral-500",children:"3 days ago"})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-2 h-2 bg-neutral-300 rounded-full mt-2"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm text-neutral-900",children:'New wall space "Corner Space" added'}),t.jsx("p",{className:"text-xs text-neutral-500",children:"1 week ago"})]})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-neutral-200",children:[t.jsx("h2",{className:"text-xl mb-4",children:"Quick Actions"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("button",{onClick:()=>l("venue-applications"),className:"w-full px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center justify-between",children:[t.jsx("span",{children:"Review Applications"}),i>0&&t.jsxs("span",{className:"px-2 py-1 bg-white text-green-700 rounded-full text-xs",children:[i," new"]})]}),t.jsx("button",{onClick:()=>l("venue-walls"),className:"w-full px-4 py-3 bg-green-50 text-green-700 rounded-lg hover:bg-green-100 transition-colors",children:"Manage Wall Spaces"}),t.jsx("button",{onClick:()=>l("venue-sales"),className:"w-full px-4 py-3 bg-neutral-100 text-neutral-700 rounded-lg hover:bg-neutral-200 transition-colors",children:"View Sales Report"})]})]})]})]})}function Bv(){const[l,s]=z.useState(Ya),[n,i]=z.useState(!1),[c,d]=z.useState({name:"",width:"",height:"",description:"",photos:[]}),m=v=>{v.preventDefault();const w={id:Math.random().toString(36).substr(2,9),name:c.name,width:parseFloat(c.width),height:parseFloat(c.height),available:!0,description:c.description,photos:c.photos};s([...l,w]),d({name:"",width:"",height:"",description:"",photos:[]}),i(!1)},f=v=>{s(l.map(w=>w.id===v?{...w,available:!w.available}:w))},p=()=>{c.photos.length<6&&d({...c,photos:[...c.photos,"https://images.unsplash.com/photo-1554118811-1e0d58224f24?w=800"]})},g=v=>{d({...c,photos:c.photos.filter((w,N)=>N!==v)})};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl mb-2 text-neutral-900",children:"My Wall Spaces"}),t.jsxs("p",{className:"text-neutral-600",children:[l.length," total spaces  ",l.filter(v=>v.available).length," available"]})]}),t.jsxs("button",{onClick:()=>i(!0),className:"flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[t.jsx(Vr,{className:"w-5 h-5"}),t.jsx("span",{children:"Add Wall Space"})]})]}),n&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 sm:p-6 overflow-y-auto",children:t.jsxs("div",{className:"bg-white rounded-2xl p-6 sm:p-8 max-w-2xl w-full my-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-2xl text-neutral-900 dark:text-neutral-50",children:"Add New Wall Space"}),t.jsx("button",{onClick:()=>i(!1),className:"p-2 hover:bg-neutral-100 rounded-lg transition-colors",children:t.jsx(It,{className:"w-5 h-5"})})]}),t.jsxs("form",{onSubmit:m,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-neutral-700 mb-2",children:"Wall Name"}),t.jsx("input",{type:"text",required:!0,value:c.name,onChange:v=>d({...c,name:v.target.value}),className:"w-full px-4 py-2 rounded-lg border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"e.g., Main Wall, Side Wall, Corner Space"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-neutral-700 mb-2",children:"Width (inches)"}),t.jsx("input",{type:"number",required:!0,value:c.width,onChange:v=>d({...c,width:v.target.value}),className:"w-full px-4 py-2 rounded-lg border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"96"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-neutral-700 mb-2",children:"Height (inches)"}),t.jsx("input",{type:"number",required:!0,value:c.height,onChange:v=>d({...c,height:v.target.value}),className:"w-full px-4 py-2 rounded-lg border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"72"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-neutral-700 mb-2",children:"Description (Optional)"}),t.jsx("textarea",{value:c.description,onChange:v=>d({...c,description:v.target.value}),rows:3,className:"w-full px-4 py-2 rounded-lg border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Describe the wall location, lighting, vibe..."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-neutral-700 dark:text-neutral-300 mb-2",children:"Wall Photos"}),t.jsx("p",{className:"text-xs text-neutral-500 mb-3",children:"Add photos so artists can see the space and vibe. Good lighting recommended. (Up to 6 photos)"}),c.photos.length<6&&t.jsxs("button",{type:"button",onClick:p,className:"w-full border-2 border-dashed border-neutral-300 rounded-xl p-8 sm:p-12 text-center hover:border-green-500 transition-colors cursor-pointer mb-4",children:[t.jsx(Dh,{className:"w-10 h-10 sm:w-12 sm:h-12 text-neutral-400 mx-auto mb-3"}),t.jsx("p",{className:"text-neutral-600 mb-1",children:"Click to upload or drag and drop"}),t.jsx("p",{className:"text-xs text-neutral-500",children:"PNG, JPG up to 10MB"})]}),c.photos.length>0&&t.jsx("div",{className:"grid grid-cols-3 gap-3",children:c.photos.map((v,w)=>t.jsxs("div",{className:"relative aspect-square bg-neutral-100 rounded-lg overflow-hidden group",children:[t.jsx("img",{src:v,alt:`Wall photo ${w+1}`,className:"w-full h-full object-cover"}),t.jsx("button",{type:"button",onClick:()=>g(w),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:t.jsx(It,{className:"w-4 h-4"})})]},w))})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>i(!1),className:"flex-1 px-4 py-2 bg-neutral-100 text-neutral-700 rounded-lg hover:bg-neutral-200 transition-colors",children:"Cancel"}),t.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Add Wall Space"})]})]})]})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(v=>t.jsxs("div",{className:"bg-white rounded-xl overflow-hidden border border-neutral-200 hover:shadow-lg transition-shadow",children:[v.photos&&v.photos.length>0&&t.jsxs("div",{className:"h-48 bg-neutral-100 overflow-hidden relative",children:[t.jsx("img",{src:v.photos[0],alt:v.name,className:"w-full h-full object-cover"}),v.photos.length>1&&t.jsxs("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-black/70 text-white rounded text-xs flex items-center gap-1",children:[t.jsx(Th,{className:"w-3 h-3"}),v.photos.length," photos"]})]}),t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"flex items-start justify-between mb-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx(wn,{className:"w-6 h-6 text-green-600"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg mb-1 text-neutral-900",children:v.name}),t.jsxs("p",{className:"text-sm text-neutral-600",children:[v.width,'"  ',v.height,'"']})]})]})}),v.description&&t.jsx("p",{className:"text-sm text-neutral-600 mb-4 line-clamp-2",children:v.description}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 bg-neutral-50 rounded-lg",children:[t.jsx("span",{className:"text-sm text-neutral-600",children:"Status"}),t.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${v.available?"bg-green-100 text-green-700":"bg-neutral-200 text-neutral-700"}`,children:v.available?"Available":"Occupied"})]}),v.currentArtworkId&&t.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[t.jsx("p",{className:"text-xs text-blue-700 mb-1",children:"Currently displaying"}),t.jsx("p",{className:"text-sm text-blue-900",children:"Sunset Boulevard"})]}),t.jsx("button",{onClick:()=>f(v.id),className:`w-full px-4 py-2 rounded-lg transition-colors ${v.available?"bg-neutral-100 text-neutral-700 hover:bg-neutral-200":"bg-green-600 text-white hover:bg-green-700"}`,children:v.available?"Mark as Occupied":"Mark as Available"})]})]})]},v.id))}),l.length===0&&t.jsxs("div",{className:"text-center py-16",children:[t.jsx("div",{className:"w-16 h-16 bg-neutral-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(wn,{className:"w-8 h-8 text-neutral-400"})}),t.jsx("h3",{className:"text-xl mb-2 text-neutral-900",children:"No wall spaces yet"}),t.jsx("p",{className:"text-neutral-600 mb-6",children:"Add your first wall space to start displaying artwork"}),t.jsx("button",{onClick:()=>i(!0),className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Add Your First Wall Space"})]})]})}function Vv(){const[l,s]=z.useState(Uo),[n,i]=z.useState("all"),[c,d]=z.useState(!1),[m,f]=z.useState(null),[p,g]=z.useState({wallspace:"Main Wall",duration:90,startDate:new Date}),v=l.filter(b=>n==="all"||b.status===n),w=b=>{const O=l.find(U=>U.id===b);O&&(f(O),d(!0),g({wallspace:"Main Wall",duration:90,startDate:new Date}))},N=()=>{m&&(s(l.map(b=>b.id===m.id?{...b,status:"approved",approvedDuration:p.duration,approvedDate:new Date().toISOString()}:b)),d(!1),f(null))},P=b=>{s(l.map(O=>O.id===b?{...O,status:"rejected"}:O))},A=b=>{const U={pending:{bg:"bg-yellow-100",text:"text-yellow-700",icon:Bt},approved:{bg:"bg-green-100",text:"text-green-700",icon:_s},rejected:{bg:"bg-red-100",text:"text-red-700",icon:It}}[b],k=U.icon;return t.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs ${U.bg} ${U.text}`,children:[t.jsx(k,{className:"w-3 h-3"}),b.charAt(0).toUpperCase()+b.slice(1)]})},S=l.filter(b=>b.status==="pending").length;return t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl mb-2 text-neutral-900",children:"Artist Applications"}),t.jsxs("p",{className:"text-neutral-600",children:[S," pending application",S!==1?"s":""," to review"]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>i("all"),className:`px-4 py-2 rounded-lg transition-colors ${n==="all"?"bg-green-600 text-white":"bg-neutral-100 text-neutral-700 hover:bg-neutral-200"}`,children:"All"}),t.jsx("button",{onClick:()=>i("pending"),className:`px-4 py-2 rounded-lg transition-colors ${n==="pending"?"bg-green-600 text-white":"bg-neutral-100 text-neutral-700 hover:bg-neutral-200"}`,children:"Pending"}),t.jsx("button",{onClick:()=>i("approved"),className:`px-4 py-2 rounded-lg transition-colors ${n==="approved"?"bg-green-600 text-white":"bg-neutral-100 text-neutral-700 hover:bg-neutral-200"}`,children:"Approved"}),t.jsx("button",{onClick:()=>i("rejected"),className:`px-4 py-2 rounded-lg transition-colors ${n==="rejected"?"bg-green-600 text-white":"bg-neutral-100 text-neutral-700 hover:bg-neutral-200"}`,children:"Rejected"})]})]}),t.jsx("div",{className:"space-y-4",children:v.map(b=>t.jsx("div",{className:"bg-white rounded-xl p-6 border border-neutral-200 hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex gap-6",children:[t.jsx("div",{className:"w-48 h-48 bg-neutral-100 rounded-lg overflow-hidden flex-shrink-0",children:t.jsx("img",{src:b.artworkImage,alt:b.artworkTitle,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl mb-1 text-neutral-900",children:b.artworkTitle}),t.jsxs("p",{className:"text-neutral-600",children:["by ",b.artistName]})]}),A(b.status)]}),t.jsx("div",{className:"space-y-2 mb-6",children:t.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-600",children:[t.jsx("span",{className:"text-neutral-500",children:"Applied:"}),new Date(b.appliedDate).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]})}),b.status==="pending"&&t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("button",{onClick:()=>w(b.id),className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[t.jsx(_s,{className:"w-4 h-4"}),"Approve Application"]}),t.jsxs("button",{onClick:()=>P(b.id),className:"flex items-center gap-2 px-6 py-2 bg-neutral-100 text-neutral-700 rounded-lg hover:bg-neutral-200 transition-colors",children:[t.jsx(It,{className:"w-4 h-4"}),"Decline"]})]}),b.status==="approved"&&t.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-green-900 mb-2",children:"Application approved. Artist will schedule installation during your weekly window."}),b.approvedDuration&&t.jsxs("p",{className:"text-xs text-green-700",children:["Display term: ",t.jsxs("strong",{children:[b.approvedDuration," days"]})]})]}),b.status==="rejected"&&t.jsx("div",{className:"p-4 bg-neutral-50 rounded-lg",children:t.jsx("p",{className:"text-sm text-neutral-600",children:"This application was declined."})})]})]})},b.id))}),v.length===0&&t.jsxs("div",{className:"text-center py-16",children:[t.jsx("div",{className:"w-16 h-16 bg-neutral-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Bt,{className:"w-8 h-8 text-neutral-400"})}),t.jsx("h3",{className:"text-xl mb-2 text-neutral-900",children:"No applications"}),t.jsx("p",{className:"text-neutral-600",children:n==="all"?"You don't have any applications yet":`No ${n} applications`})]}),c&&m&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsx("div",{className:"sticky top-0 bg-white border-b border-neutral-200 p-6",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl mb-1 text-neutral-900",children:"Approve Application"}),t.jsxs("p",{className:"text-sm text-neutral-600",children:[m.artworkTitle," by ",m.artistName]})]}),t.jsx("button",{onClick:()=>d(!1),className:"p-2 hover:bg-neutral-100 rounded-lg transition-colors",children:t.jsx(It,{className:"w-5 h-5"})})]})}),t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex gap-4 p-4 bg-neutral-50 rounded-lg",children:[t.jsx("div",{className:"w-24 h-24 bg-neutral-100 rounded-lg overflow-hidden flex-shrink-0",children:t.jsx("img",{src:m.artworkImage,alt:m.artworkTitle,className:"w-full h-full object-cover"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-base mb-1 text-neutral-900",children:m.artworkTitle}),t.jsxs("p",{className:"text-sm text-neutral-600 mb-2",children:["by ",m.artistName]}),t.jsxs("p",{className:"text-xs text-neutral-500",children:["Applied: ",new Date(m.appliedDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm mb-2",children:[t.jsx(Br,{className:"w-4 h-4 inline mr-1"}),"Wall Space ",t.jsx("span",{className:"text-red-600",children:"*"})]}),t.jsxs("select",{value:p.wallspace,onChange:b=>g({...p,wallspace:b.target.value}),className:"w-full px-4 py-2 border border-neutral-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-600",children:[t.jsx("option",{value:"Main Wall",children:"Main Wall"}),t.jsx("option",{value:"Back Wall",children:"Back Wall"}),t.jsx("option",{value:"Hallway Wall",children:"Hallway Wall"}),t.jsx("option",{value:"Private Dining",children:"Private Dining"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm mb-2",children:[t.jsx(Zt,{className:"w-4 h-4 inline mr-1"}),"Start Date"]}),t.jsx("input",{type:"date",value:p.startDate.toISOString().split("T")[0],onChange:b=>g({...p,startDate:new Date(b.target.value)}),className:"w-full px-4 py-2 border border-neutral-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-600"}),t.jsx("p",{className:"text-xs text-neutral-600 mt-1",children:"Artist will schedule installation during your next install window after this date"})]}),t.jsx(ax,{value:p.duration,onChange:b=>g({...p,duration:b}),startDate:p.startDate,showEndDate:!0,helpText:"Pickup/rotation happens during your weekly install/pickup window after the end date."})]}),t.jsxs("div",{className:"sticky bottom-0 bg-white border-t border-neutral-200 p-6 flex gap-3",children:[t.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-6 py-3 bg-neutral-100 text-neutral-700 rounded-lg hover:bg-neutral-200 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:N,className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Approve & Schedule"})]})]})})]})}function Wv(){const[l,s]=z.useState(Qf),[n,i]=z.useState("all"),[c,d]=z.useState(!1),[m,f]=z.useState(!1),[p,g]=z.useState(null),v=l.filter(k=>n==="all"?!0:k.status===n),w=k=>{const X={active:{bg:"bg-green-100",text:"text-green-700",label:"Active"},sold:{bg:"bg-blue-100",text:"text-blue-700",label:"Sold"},"ending-soon":{bg:"bg-yellow-100",text:"text-yellow-700",label:"Ending Soon"},"needs-pickup":{bg:"bg-orange-100",text:"text-orange-700",label:"Needs Pickup"},ended:{bg:"bg-neutral-100",text:"text-neutral-700",label:"Ended"}}[k];return t.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${X.bg} ${X.text}`,children:X.label})},N=(k,F,X)=>{F==="schedule-install"||F==="schedule-pickup"||F==="reschedule"?(g({id:k,action:F,artwork:X}),f(!0)):(g({id:k,action:F}),d(!0))},P=()=>{p&&(s(l.map(k=>{if(k.id===p.id)switch(p.action){case"mark-sold":return{...k,status:"sold"};case"confirm-installed":return{...k,installConfirmed:!0};case"confirm-pickup":return{...k,status:"ended",pickupConfirmed:!0};case"end-display":return{...k,status:"ended"};default:return k}return k})),d(!1),g(null))},A=k=>{if(!p)return;const F=X=>{const[G,ae]=X.split(":"),ce=parseInt(G),de=ce>=12?"PM":"AM",Qe=ce>12?ce-12:ce===0?12:ce;return`${Pt.dayOfWeek.substring(0,3)} ${Qe}:${ae} ${de}`};s(l.map(X=>{if(X.id===p.id){if(p.action==="schedule-install"||p.action==="reschedule")return{...X,scheduledInstall:F(k)};if(p.action==="schedule-pickup")return{...X,scheduledPickup:F(k)}}return X})),f(!1),g(null)},S=k=>{switch(k){case"mark-sold":return"Mark as Sold";case"confirm-installed":return"Confirm Installed";case"confirm-pickup":return"Confirm Pickup";case"end-display":return"End Display";default:return k}},b=l.filter(k=>k.status==="active").length,O=l.filter(k=>k.status==="sold").length,U=l.filter(k=>k.status==="ending-soon").length;return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl mb-2 text-neutral-900",children:"Current Artwork"}),t.jsxs("p",{className:"text-neutral-600",children:[b," active  ",O," sold  ",U," ending soon"]})]}),t.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[t.jsxs("button",{onClick:()=>i("all"),className:`px-4 py-2 rounded-lg transition-colors ${n==="all"?"bg-green-600 text-white":"bg-neutral-100 text-neutral-700 hover:bg-neutral-200"}`,children:["All (",l.length,")"]}),t.jsxs("button",{onClick:()=>i("active"),className:`px-4 py-2 rounded-lg transition-colors ${n==="active"?"bg-green-600 text-white":"bg-neutral-100 text-neutral-700 hover:bg-neutral-200"}`,children:["Active (",b,")"]}),t.jsxs("button",{onClick:()=>i("sold"),className:`px-4 py-2 rounded-lg transition-colors ${n==="sold"?"bg-green-600 text-white":"bg-neutral-100 text-neutral-700 hover:bg-neutral-200"}`,children:["Sold (",O,")"]}),t.jsxs("button",{onClick:()=>i("ending-soon"),className:`px-4 py-2 rounded-lg transition-colors ${n==="ending-soon"?"bg-green-600 text-white":"bg-neutral-100 text-neutral-700 hover:bg-neutral-200"}`,children:["Ending Soon (",U,")"]})]}),t.jsx("div",{className:"space-y-4",children:v.map(k=>t.jsx("div",{className:"bg-white rounded-xl border border-neutral-200 hover:shadow-md transition-shadow overflow-hidden",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-6 p-4 sm:p-6",children:[t.jsx("div",{className:"w-full md:w-48 h-48 md:h-auto bg-neutral-100 rounded-lg overflow-hidden flex-shrink-0",children:t.jsx("img",{src:k.artworkImage,alt:k.artworkTitle,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-4 mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl mb-1 text-neutral-900",children:k.artworkTitle}),t.jsxs("p",{className:"text-neutral-600",children:["by ",k.artistName]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[w(k.status),t.jsxs("span",{className:"text-lg",children:["$",k.price]})]})]}),t.jsx("div",{className:"mb-4 p-3 bg-neutral-50 rounded-lg border border-neutral-200",children:t.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-neutral-600",children:"Display term:"}),t.jsx(Fh,{duration:k.displayDuration||90,size:"sm"})]}),t.jsx("div",{className:"text-neutral-400",children:""}),t.jsxs("div",{className:"text-neutral-600",children:[t.jsx("span",{className:"text-neutral-500",children:"Ends:"})," ",t.jsx("strong",{children:new Date(k.endDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]})}),(k.scheduledInstall||k.scheduledPickup)&&t.jsxs("div",{className:"mb-4 flex flex-wrap gap-2",children:[k.scheduledInstall&&t.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-blue-50 rounded-lg text-sm",children:[t.jsx(Bt,{className:"w-4 h-4 text-blue-600"}),t.jsxs("span",{className:"text-blue-900",children:["Install scheduled: ",t.jsx("strong",{children:k.scheduledInstall})]}),k.installConfirmed&&t.jsx($t,{className:"w-4 h-4 text-green-600"})]}),k.scheduledPickup&&t.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-orange-50 rounded-lg text-sm",children:[t.jsx(Bt,{className:"w-4 h-4 text-orange-600"}),t.jsxs("span",{className:"text-orange-900",children:["Pickup scheduled: ",t.jsx("strong",{children:k.scheduledPickup})]}),k.pickupConfirmed&&t.jsx($t,{className:"w-4 h-4 text-green-600"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-4",children:[t.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[t.jsx(Br,{className:"w-4 h-4 text-neutral-500 mt-0.5 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-neutral-500",children:"Wall Location"}),t.jsx("p",{className:"text-neutral-900",children:k.wallSpaceName})]})]}),t.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[t.jsx(Zt,{className:"w-4 h-4 text-neutral-500 mt-0.5 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-neutral-500",children:"Install Date"}),t.jsx("p",{className:"text-neutral-900",children:new Date(k.installDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]}),t.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[t.jsx(Zt,{className:"w-4 h-4 text-neutral-500 mt-0.5 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-neutral-500",children:"End Date"}),t.jsx("p",{className:"text-neutral-900",children:new Date(k.endDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]}),t.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[t.jsx(xf,{className:"w-4 h-4 text-neutral-500 mt-0.5 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-neutral-500",children:"QR Code"}),t.jsx("button",{className:"text-green-600 hover:text-green-700 underline",children:"View / Print"})]})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[k.status==="active"&&t.jsxs(t.Fragment,{children:[!k.installConfirmed&&k.scheduledInstall&&t.jsx("button",{onClick:()=>N(k.id,"confirm-installed"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Confirm Installed"}),t.jsx("button",{onClick:()=>N(k.id,"mark-sold"),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:"Mark as Sold"}),t.jsx("button",{onClick:()=>N(k.id,"end-display"),className:"px-4 py-2 bg-neutral-100 text-neutral-700 rounded-lg hover:bg-neutral-200 transition-colors text-sm",children:"End Display"}),k.scheduledInstall&&t.jsx("button",{onClick:()=>N(k.id,"reschedule",k),className:"px-4 py-2 bg-neutral-100 text-neutral-700 rounded-lg hover:bg-neutral-200 transition-colors text-sm",children:"Reschedule"})]}),k.status==="sold"&&t.jsx(t.Fragment,{children:k.scheduledPickup?k.pickupConfirmed?null:t.jsx("button",{onClick:()=>N(k.id,"confirm-pickup"),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:"Confirm Pickup Completed"}):t.jsx("button",{onClick:()=>N(k.id,"schedule-pickup",k),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:"Schedule Pickup"})}),k.status==="ending-soon"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>N(k.id,"mark-sold"),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:"Mark as Sold"}),t.jsx("button",{className:"px-4 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors text-sm",children:"Request Replacement"})]})]})]})]})},k.id))}),v.length===0&&t.jsxs("div",{className:"text-center py-16",children:[t.jsx("div",{className:"w-16 h-16 bg-neutral-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Br,{className:"w-8 h-8 text-neutral-400"})}),n==="all"&&t.jsxs(t.Fragment,{children:[t.jsx("h3",{className:"text-xl mb-2 text-neutral-900",children:"No artwork on display"}),t.jsx("p",{className:"text-neutral-600 mb-6",children:"Review artist applications to start displaying artwork"}),t.jsx("button",{className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"View Applications"})]}),n!=="all"&&t.jsxs(t.Fragment,{children:[t.jsxs("h3",{className:"text-xl mb-2 text-neutral-900",children:["No ",n.replace("-"," ")," artwork"]}),t.jsx("p",{className:"text-neutral-600",children:"Try selecting a different filter"})]})]}),m&&p?.artwork&&t.jsx(zh,{isOpen:m,onClose:()=>{f(!1),g(null)},windowDay:Pt.dayOfWeek,startTime:Pt.startTime,endTime:Pt.endTime,type:p.action==="schedule-pickup"?"pickup":"install",artworkTitle:p.artwork.artworkTitle,onConfirm:A}),c&&p&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-xl text-neutral-900",children:"Confirm Action"}),t.jsx("button",{onClick:()=>d(!1),className:"p-2 hover:bg-neutral-100 rounded-lg transition-colors",children:t.jsx(It,{className:"w-5 h-5"})})]}),t.jsxs("p",{className:"text-neutral-600 mb-6",children:["Are you sure you want to ",S(p.action).toLowerCase(),"?"]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-4 py-2 bg-neutral-100 text-neutral-700 rounded-lg hover:bg-neutral-200 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:P,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Confirm"})]})]})})]})}function qv(){const l=Ot.reduce((i,c)=>i+c.venueEarnings,0),s=Ot.length,n=l/s;return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl mb-2 text-neutral-900",children:"Sales & Earnings"}),t.jsx("p",{className:"text-neutral-600",children:"Track artwork sales and your commission (10% of sales)"})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-neutral-200",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:t.jsx(Vt,{className:"w-6 h-6 text-green-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-neutral-600",children:"Total Earnings"}),t.jsxs("div",{className:"text-2xl",children:["$",l.toFixed(2)]})]})]}),t.jsx("div",{className:"text-xs text-neutral-500",children:"10% commission"})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-neutral-200",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx(Oo,{className:"w-6 h-6 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-neutral-600",children:"Artworks Sold"}),t.jsx("div",{className:"text-2xl",children:s})]})]}),t.jsx("div",{className:"text-xs text-neutral-500",children:"From your venue"})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-neutral-200",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:t.jsx(jr,{className:"w-6 h-6 text-purple-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-neutral-600",children:"Avg. Commission"}),t.jsxs("div",{className:"text-2xl",children:["$",n.toFixed(0)]})]})]}),t.jsx("div",{className:"text-xs text-neutral-500",children:"Per sale"})]})]}),t.jsxs("div",{className:"bg-white rounded-xl border border-neutral-200 overflow-hidden",children:[t.jsx("div",{className:"p-6 border-b border-neutral-200",children:t.jsx("h2",{className:"text-xl text-neutral-900",children:"Sales History"})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-neutral-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Artwork"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Artist"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Sale Price"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Your Commission"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Date"})]})}),t.jsx("tbody",{className:"divide-y divide-neutral-100",children:Ot.map(i=>t.jsxs("tr",{className:"hover:bg-neutral-50",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-neutral-100 rounded overflow-hidden",children:t.jsx("img",{src:i.artworkImage,alt:i.artworkTitle,className:"w-full h-full object-cover"})}),t.jsx("span",{className:"text-sm",children:i.artworkTitle})]})}),t.jsx("td",{className:"px-6 py-4 text-sm text-neutral-600",children:i.artistName}),t.jsxs("td",{className:"px-6 py-4 text-sm",children:["$",i.price.toFixed(2)]}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"text-sm",children:[t.jsxs("span",{className:"text-green-600",children:["$",i.venueEarnings.toFixed(2)]}),t.jsx("span",{className:"text-xs text-neutral-500 ml-1",children:"(10%)"})]})}),t.jsx("td",{className:"px-6 py-4 text-sm text-neutral-600",children:new Date(i.saleDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]},i.id))})]})}),Ot.length===0&&t.jsxs("div",{className:"text-center py-16",children:[t.jsx("div",{className:"w-16 h-16 bg-neutral-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Vt,{className:"w-8 h-8 text-neutral-400"})}),t.jsx("h3",{className:"text-xl mb-2 text-neutral-900",children:"No sales yet"}),t.jsx("p",{className:"text-neutral-600",children:"Sales will appear here once artwork is purchased"})]})]}),t.jsxs("div",{className:"mt-6 bg-green-50 rounded-xl p-6",children:[t.jsx("h3",{className:"text-lg mb-2 text-neutral-900",children:"Commission Structure"}),t.jsx("p",{className:"text-sm text-green-900 mb-4",children:"You receive 10% commission on each artwork sold from your venue. Artists receive 80%, and Artwalls keeps 10% as a platform fee."}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[t.jsxs("div",{className:"bg-white rounded-lg p-3",children:[t.jsx("div",{className:"text-neutral-600 mb-1",children:"Artist"}),t.jsx("div",{className:"text-xl text-blue-600",children:"80%"})]}),t.jsxs("div",{className:"bg-white rounded-lg p-3",children:[t.jsx("div",{className:"text-neutral-600 mb-1",children:"Your Venue"}),t.jsx("div",{className:"text-xl text-green-600",children:"10%"})]}),t.jsxs("div",{className:"bg-white rounded-lg p-3",children:[t.jsx("div",{className:"text-neutral-600 mb-1",children:"Platform"}),t.jsx("div",{className:"text-xl text-neutral-600",children:"10%"})]})]})]})]})}function Hv(){const[l,s]=z.useState(!1),[n,i]=z.useState(!1),[c,d]=z.useState({dayOfWeek:"Thursday",startTime:"16:00",endTime:"18:00",timezone:"PST"}),[m,f]=z.useState(c),[p,g]=z.useState({}),v=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],w=S=>{const[b,O]=S.split(":"),U=parseInt(b),k=U>=12?"PM":"AM";return`${U>12?U-12:U===0?12:U}:${O.padStart(2,"0")} ${k}`},N=()=>{const S={},b=parseInt(m.startTime.replace(":","")),O=parseInt(m.endTime.replace(":",""));return O<=b&&(S.endTime="End time must be after start time"),(O-b)/100<1&&(S.duration="Recommended duration: 1-3 hours"),g(S),Object.keys(S).length===0},P=()=>{N()&&(d(m),s(!0),i(!0),setTimeout(()=>i(!1),3e3))},A=()=>{const S=parseInt(m.startTime.replace(":",""));return(parseInt(m.endTime.replace(":",""))-S)/100};return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl mb-2 text-neutral-900 dark:text-neutral-50",children:"Venue Settings"}),t.jsx("p",{className:"text-neutral-600 dark:text-neutral-300",children:"Manage your venue profile and scheduling preferences"})]}),!l&&t.jsx("div",{className:"max-w-3xl mb-6",children:t.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/30 rounded-xl p-6 border border-yellow-200 dark:border-yellow-800",children:t.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[t.jsx(rl,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-base text-yellow-900 dark:text-yellow-200 mb-1 text-neutral-900 dark:text-neutral-50",children:"Install Window Not Set"}),t.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Set your weekly install/pickup window to enable artist scheduling. This simplifies coordination and reduces back-and-forth messaging."})]})]})})}),t.jsxs("div",{className:"max-w-3xl",children:[t.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl border border-neutral-200 dark:border-neutral-700 overflow-hidden mb-6",children:[t.jsxs("div",{className:"p-6 border-b border-neutral-200 dark:border-neutral-700",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center",children:t.jsx(Bt,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),t.jsx("h2",{className:"text-xl text-neutral-900 dark:text-neutral-50",children:"Install & Pickup Window"})]}),t.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"Set one weekly time window when artists can install or pick up art. This keeps scheduling simple."})]}),t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-neutral-700 dark:text-neutral-300 mb-2",children:"Day of Week"}),t.jsx("select",{value:m.dayOfWeek,onChange:S=>f({...m,dayOfWeek:S.target.value}),className:"w-full px-4 py-2 rounded-lg border border-neutral-300 dark:border-neutral-600 focus:outline-none focus:ring-2 focus:ring-green-500",children:v.map(S=>t.jsx("option",{value:S,children:S},S))})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-neutral-700 dark:text-neutral-300 mb-2",children:"Start Time"}),t.jsx("input",{type:"time",value:m.startTime,onChange:S=>f({...m,startTime:S.target.value}),className:"w-full px-4 py-2 rounded-lg border border-neutral-300 dark:border-neutral-600 focus:outline-none focus:ring-2 focus:ring-green-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-neutral-700 dark:text-neutral-300 mb-2",children:"End Time"}),t.jsx("input",{type:"time",value:m.endTime,onChange:S=>f({...m,endTime:S.target.value}),className:`w-full px-4 py-2 rounded-lg border focus:outline-none focus:ring-2 ${p.endTime?"border-red-300 focus:ring-red-500":"border-neutral-300 dark:border-neutral-600 focus:ring-green-500"}`}),p.endTime&&t.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:p.endTime})]})]}),!p.endTime&&A()>0&&t.jsx("div",{className:`p-3 rounded-lg ${A()>=1&&A()<=3?"bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-300":"bg-yellow-50 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300"}`,children:t.jsxs("p",{className:"text-sm",children:["Duration: ",A()," hour",A()!==1?"s":"",A()<1&&" (Too short - recommended: 1-3 hours)",A()>3&&" (Consider a shorter window for better scheduling)"]})}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-neutral-700 dark:text-neutral-300 mb-2",children:"Timezone"}),t.jsxs("div",{className:"px-4 py-2 bg-neutral-100 dark:bg-neutral-800 rounded-lg text-neutral-600 dark:text-neutral-300",children:[m.timezone," (Auto-detected)"]})]}),t.jsx("div",{className:"bg-green-50 dark:bg-green-900/30 rounded-xl p-4 border border-green-100 dark:border-green-900",children:t.jsxs("p",{className:"text-sm text-green-900 dark:text-green-200",children:[t.jsx("strong",{children:"Preview:"})," Artists can schedule installs/pickups every"," ",m.dayOfWeek,", ",w(m.startTime),"  ",w(m.endTime),"."]})}),t.jsxs("button",{onClick:P,className:"flex items-center justify-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors w-full sm:w-auto",children:[t.jsx(Rh,{className:"w-5 h-5"}),t.jsx("span",{children:"Save Schedule"})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl border border-neutral-200 dark:border-neutral-700 p-6",children:[t.jsx("h2",{className:"text-xl mb-4 text-neutral-900 dark:text-neutral-50",children:"Venue Information"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-neutral-700 dark:text-neutral-300 mb-2",children:"Venue Name"}),t.jsx("input",{type:"text",defaultValue:"The Corner Caf",className:"w-full px-4 py-2 rounded-lg border border-neutral-300 dark:border-neutral-600 focus:outline-none focus:ring-2 focus:ring-green-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-neutral-700 dark:text-neutral-300 mb-2",children:"Contact Email"}),t.jsx("input",{type:"email",defaultValue:"venue@example.com",className:"w-full px-4 py-2 rounded-lg border border-neutral-300 dark:border-neutral-600 focus:outline-none focus:ring-2 focus:ring-green-500"})]})]})]})]}),n&&t.jsxs("div",{className:"fixed bottom-6 right-6 bg-green-600 text-white px-6 py-4 rounded-xl shadow-lg flex items-center gap-3 animate-slide-up z-50",children:[t.jsx($t,{className:"w-5 h-5"}),t.jsx("span",{children:"Schedule updated successfully!"})]})]})}function Kv({onNavigate:l}){const s={name:"Brew & Palette Caf",email:"contact@brewpalette.com",address:"123 Arts District, Portland, OR 97209",totalEarnings:487.5,wallSpaces:3,activeDisplays:2,installWindow:{day:"Monday",time:"9:00 AM - 11:00 AM"}};return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl mb-2 text-neutral-900",children:"Venue Profile"}),t.jsx("p",{className:"text-neutral-600",children:"Manage your venue information and settings"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl border border-neutral-200 overflow-hidden",children:[t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-start justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center",children:t.jsx(kn,{className:"w-10 h-10 text-green-600"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl mb-1 text-neutral-900",children:s.name}),t.jsx("span",{className:"inline-flex px-3 py-1 rounded-full text-sm bg-green-100 text-green-700",children:"Venue Account"})]})]}),t.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:[t.jsx(Do,{className:"w-4 h-4"}),t.jsx("span",{children:"Edit Profile"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-neutral-50 rounded-lg",children:[t.jsx(sl,{className:"w-5 h-5 text-neutral-500 mt-0.5"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{className:"block text-sm text-neutral-500 mb-1",children:"Contact Email"}),t.jsx("p",{className:"text-neutral-900",children:s.email})]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-neutral-50 rounded-lg",children:[t.jsx(Br,{className:"w-5 h-5 text-neutral-500 mt-0.5"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{className:"block text-sm text-neutral-500 mb-1",children:"Venue Address"}),t.jsx("p",{className:"text-neutral-900",children:s.address})]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-neutral-50 rounded-lg",children:[t.jsx(Bt,{className:"w-5 h-5 text-neutral-500 mt-0.5"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{className:"block text-sm text-neutral-500 mb-1",children:"Install Window"}),t.jsxs("p",{className:"text-neutral-900",children:[s.installWindow.day,"s, ",s.installWindow.time]}),t.jsx("button",{onClick:()=>l("venue-settings"),className:"text-sm text-green-600 hover:underline mt-1",children:"Update schedule"})]})]})]})]}),t.jsxs("div",{className:"border-t border-neutral-200 dark:border-neutral-700 p-6",children:[t.jsx("h3",{className:"text-lg mb-4 text-neutral-900",children:"Wall Space Guidelines"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"p-4 bg-neutral-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-neutral-600 mb-2",children:t.jsx("strong",{className:"text-neutral-900",children:"Artwork Requirements:"})}),t.jsxs("ul",{className:"text-sm text-neutral-600 space-y-1 list-disc list-inside",children:[t.jsx("li",{children:"Must be gallery-wrapped or framed"}),t.jsx("li",{children:"Professional presentation required"}),t.jsx("li",{children:"Family-friendly content only"})]})]}),t.jsxs("button",{onClick:()=>l("venue-settings"),className:"w-full text-left px-4 py-3 bg-neutral-50 hover:bg-neutral-100 rounded-lg transition-colors",children:[t.jsx("p",{className:"text-neutral-900 mb-1",children:"Manage Guidelines"}),t.jsx("p",{className:"text-sm text-neutral-500",children:"Customize your venue's artwork preferences"})]})]})]}),t.jsxs("div",{className:"border-t border-neutral-200 dark:border-neutral-700 p-6",children:[t.jsx("h3",{className:"text-lg mb-4 text-neutral-900",children:"Account Settings"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("button",{className:"w-full text-left px-4 py-3 bg-neutral-50 hover:bg-neutral-100 rounded-lg transition-colors",children:[t.jsx("p",{className:"text-neutral-900 mb-1",children:"Password & Security"}),t.jsx("p",{className:"text-sm text-neutral-500",children:"Change your password and security settings"})]}),t.jsxs("button",{className:"w-full text-left px-4 py-3 bg-neutral-50 hover:bg-neutral-100 rounded-lg transition-colors",children:[t.jsx("p",{className:"text-neutral-900 mb-1",children:"Notification Preferences"}),t.jsx("p",{className:"text-sm text-neutral-500",children:"Manage email and push notifications"})]})]})]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl border border-neutral-200 dark:border-neutral-700 p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:t.jsx(Vt,{className:"w-6 h-6 text-green-600"})}),t.jsx("h3",{className:"text-lg text-neutral-900",children:"Commission Earnings"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-neutral-500 mb-1",children:"Total Commission (10%)"}),t.jsxs("p",{className:"text-2xl text-neutral-900",children:["$",s.totalEarnings.toFixed(2)]})]}),t.jsx("div",{className:"pt-4 border-t border-neutral-200",children:t.jsxs("div",{className:"grid grid-cols-2 gap-3 text-center",children:[t.jsxs("div",{className:"p-3 bg-neutral-50 rounded-lg",children:[t.jsx("p",{className:"text-2xl text-neutral-900",children:s.wallSpaces}),t.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"Wall Spaces"})]}),t.jsxs("div",{className:"p-3 bg-neutral-50 rounded-lg",children:[t.jsx("p",{className:"text-2xl text-green-600",children:s.activeDisplays}),t.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"Active"})]})]})})]}),t.jsx("button",{onClick:()=>l("venue-sales"),className:"w-full mt-4 px-4 py-2 bg-green-50 text-green-700 rounded-lg hover:bg-green-100 transition-colors",children:"View Sales Report"})]}),t.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl border border-neutral-200 dark:border-neutral-700 p-6",children:[t.jsx("h3",{className:"text-lg mb-3 text-neutral-900",children:"Quick Actions"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("button",{onClick:()=>l("venue-walls"),className:"w-full text-left px-4 py-2 bg-neutral-50 dark:bg-neutral-900 text-neutral-700 dark:text-neutral-300 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-700 transition-colors",children:"Manage Wall Spaces"}),t.jsx("button",{onClick:()=>l("venue-applications"),className:"w-full text-left px-4 py-2 bg-neutral-50 dark:bg-neutral-900 text-neutral-700 dark:text-neutral-300 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-700 transition-colors",children:"Review Applications"}),t.jsx("button",{onClick:()=>l("venue-current"),className:"w-full text-left px-4 py-2 bg-neutral-50 dark:bg-neutral-900 text-neutral-700 dark:text-neutral-300 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-700 transition-colors",children:"Current Artwork"})]})]})]})]})]})}function bh(){const l=i=>{switch(i){case"application-approved":return t.jsx($t,{className:"w-5 h-5 text-green-600"});case"install-scheduled":case"pickup-scheduled":return t.jsx(Zt,{className:"w-5 h-5 text-blue-600"});case"install-reminder":case"pickup-reminder":return t.jsx(Ja,{className:"w-5 h-5 text-orange-600"});case"artwork-sold":return t.jsx(jr,{className:"w-5 h-5 text-purple-600"});default:return t.jsx(Ja,{className:"w-5 h-5 text-neutral-600"})}},s=i=>{const c=new Date(i),m=new Date().getTime()-c.getTime(),f=Math.floor(m/6e4),p=Math.floor(m/36e5),g=Math.floor(m/864e5);return f<60?`${f}m ago`:p<24?`${p}h ago`:g<7?`${g}d ago`:c.toLocaleDateString("en-US",{month:"short",day:"numeric"})},n={today:Wa.filter(i=>Math.floor((new Date().getTime()-new Date(i.timestamp).getTime())/864e5)===0),earlier:Wa.filter(i=>Math.floor((new Date().getTime()-new Date(i.timestamp).getTime())/864e5)>0)};return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl mb-2 text-neutral-900",children:"Notifications"}),t.jsxs("p",{className:"text-neutral-600",children:[Wa.filter(i=>!i.isRead).length," unread notifications"]})]}),t.jsxs("div",{className:"max-w-3xl space-y-8",children:[n.today.length>0&&t.jsxs("div",{children:[t.jsx("h2",{className:"text-sm text-neutral-500 mb-3",children:"Today"}),t.jsx("div",{className:"space-y-2",children:n.today.map(i=>t.jsx("div",{className:`bg-white rounded-xl border border-neutral-200 p-4 sm:p-5 hover:shadow-md transition-shadow ${i.isRead?"":"bg-blue-50"}`,children:t.jsxs("div",{className:"flex gap-4",children:[t.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-neutral-100 rounded-lg flex items-center justify-center",children:l(i.type)}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-start justify-between gap-3 mb-1",children:[t.jsxs("h3",{className:"text-base text-neutral-900",children:[i.title,!i.isRead&&t.jsx("span",{className:"ml-2 inline-block w-2 h-2 bg-blue-600 rounded-full"})]}),t.jsx("span",{className:"text-xs text-neutral-500 whitespace-nowrap",children:s(i.timestamp)})]}),t.jsx("p",{className:"text-sm text-neutral-600 mb-3",children:i.message}),i.ctaLabel&&t.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700 underline",children:i.ctaLabel})]})]})},i.id))})]}),n.earlier.length>0&&t.jsxs("div",{children:[t.jsx("h2",{className:"text-sm text-neutral-500 mb-3",children:"Earlier"}),t.jsx("div",{className:"space-y-2",children:n.earlier.map(i=>t.jsx("div",{className:`bg-white rounded-xl border border-neutral-200 p-4 sm:p-5 hover:shadow-md transition-shadow ${i.isRead?"":"bg-blue-50"}`,children:t.jsxs("div",{className:"flex gap-4",children:[t.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-neutral-100 rounded-lg flex items-center justify-center",children:l(i.type)}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-start justify-between gap-3 mb-1",children:[t.jsxs("h3",{className:"text-base text-neutral-900",children:[i.title,!i.isRead&&t.jsx("span",{className:"ml-2 inline-block w-2 h-2 bg-blue-600 rounded-full"})]}),t.jsx("span",{className:"text-xs text-neutral-500 whitespace-nowrap",children:s(i.timestamp)})]}),t.jsx("p",{className:"text-sm text-neutral-600 mb-3",children:i.message}),i.ctaLabel&&t.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700 underline",children:i.ctaLabel})]})]})},i.id))})]}),Wa.length===0&&t.jsxs("div",{className:"text-center py-16",children:[t.jsx("div",{className:"w-16 h-16 bg-neutral-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Ja,{className:"w-8 h-8 text-neutral-400"})}),t.jsx("h3",{className:"text-xl mb-2 text-neutral-900",children:"No notifications"}),t.jsx("p",{className:"text-neutral-600",children:"You're all caught up!"})]})]})]})}function Gv({onNavigate:l}){return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl mb-2 text-neutral-900",children:"Policies & Agreements"}),t.jsx("p",{className:"text-neutral-600",children:"Review the terms and agreements that govern the Artwalls marketplace"})]}),t.jsxs("div",{className:"max-w-4xl grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("button",{onClick:()=>l("plans-pricing"),className:"bg-white rounded-xl border border-neutral-200 p-6 hover:shadow-lg transition-shadow text-left group",children:[t.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4 group-hover:bg-purple-200 transition-colors",children:t.jsx(Vt,{className:"w-6 h-6 text-purple-600"})}),t.jsx("h2",{className:"text-xl mb-2 text-neutral-900",children:"Pricing & Plans"}),t.jsx("p",{className:"text-sm text-neutral-600 mb-4",children:"Artwalls offers a Free plan plus paid subscriptions: Starter ($9/mo), Growth ($19/mo), and Pro ($39/mo). Plans differ by active displays included (Free 1, Starter 4, Growth 10, Pro unlimited), platform fee on sales (Free 15%, Starter 10%, Growth 8%, Pro 6%), and payout timing (Free weekly payouts; paid plans standard/faster). Additional active displays may incur monthly overage charges as shown on the Plans & Pricing page."}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-purple-600",children:[t.jsx("span",{children:"View Plans & Pricing"}),t.jsx("span",{children:""})]})]}),t.jsxs("button",{onClick:()=>l("artist-agreement"),className:"bg-white rounded-xl border border-neutral-200 p-6 hover:shadow-lg transition-shadow text-left group",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4 group-hover:bg-blue-200 transition-colors",children:t.jsx(qp,{className:"w-6 h-6 text-blue-600"})}),t.jsx("h2",{className:"text-xl mb-2 text-neutral-900",children:"Artist Agreement"}),t.jsx("p",{className:"text-sm text-neutral-600 mb-4",children:"Terms for artists who display and sell artwork through Artwalls venues. Covers ownership, installation, sales splits, and responsibilities."}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-600",children:[t.jsx("span",{children:"Read Agreement"}),t.jsx("span",{children:""})]})]}),t.jsxs("button",{onClick:()=>l("venue-agreement"),className:"bg-white rounded-xl border border-neutral-200 p-6 hover:shadow-lg transition-shadow text-left group",children:[t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4 group-hover:bg-green-200 transition-colors",children:t.jsx(Vp,{className:"w-6 h-6 text-green-600"})}),t.jsx("h2",{className:"text-xl mb-2 text-neutral-900",children:"Venue Agreement"}),t.jsx("p",{className:"text-sm text-neutral-600 mb-4",children:"Terms for venues that host artwork. Covers wallspace safety, scheduling, revenue sharing, and care responsibilities."}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[t.jsx("span",{children:"Read Agreement"}),t.jsx("span",{children:""})]})]}),t.jsxs("button",{className:"bg-white rounded-xl border border-neutral-200 p-6 hover:shadow-lg transition-shadow text-left group opacity-75 cursor-not-allowed",disabled:!0,children:[t.jsx("div",{className:"w-12 h-12 bg-neutral-100 rounded-lg flex items-center justify-center mb-4",children:t.jsx(Nn,{className:"w-6 h-6 text-neutral-600"})}),t.jsx("h2",{className:"text-xl mb-2 text-neutral-900",children:"Privacy Policy"}),t.jsx("p",{className:"text-sm text-neutral-600 mb-4",children:"How we collect, use, and protect your personal information."}),t.jsx("div",{className:"flex items-center gap-2 text-sm text-neutral-500",children:t.jsx("span",{children:"Coming Soon"})})]}),t.jsxs("button",{className:"bg-white rounded-xl border border-neutral-200 p-6 hover:shadow-lg transition-shadow text-left group opacity-75 cursor-not-allowed",disabled:!0,children:[t.jsx("div",{className:"w-12 h-12 bg-neutral-100 rounded-lg flex items-center justify-center mb-4",children:t.jsx(yf,{className:"w-6 h-6 text-neutral-600"})}),t.jsx("h2",{className:"text-xl mb-2 text-neutral-900",children:"Terms of Service"}),t.jsx("p",{className:"text-sm text-neutral-600 mb-4",children:"General terms governing your use of the Artwalls platform."}),t.jsx("div",{className:"flex items-center gap-2 text-sm text-neutral-500",children:t.jsx("span",{children:"Coming Soon"})})]})]}),t.jsxs("div",{className:"max-w-4xl mt-8 bg-blue-50 rounded-xl p-6 border border-blue-100",children:[t.jsx("h3",{className:"text-base text-blue-900 mb-2 text-neutral-900",children:"Questions about our agreements?"}),t.jsxs("p",{className:"text-sm text-blue-700 mb-3",children:["If you have questions about any of these agreements, please contact us at"," ",t.jsx("a",{href:"mailto:legal@artwalls.com",className:"underline hover:text-blue-800",children:"legal@artwalls.com"})]}),t.jsx("p",{className:"text-xs text-blue-600",children:"Last updated: December 25, 2024"})]})]})}function Jv({onNavigate:l,onAccept:s,hasAccepted:n=!1}){const[i,c]=z.useState(n),[d,m]=z.useState(""),[f,p]=z.useState(!1),[g,v]=z.useState(!1),w=new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),N=[{id:"parties",title:"1. Parties"},{id:"overview",title:"2. Program Overview"},{id:"ownership",title:"3. Ownership and Responsibility"},{id:"readiness",title:"4. Artwork Readiness Requirements"},{id:"installation",title:"5. Installation and Pickup"},{id:"risk",title:"6. Display Risk; Damage, Loss, or Theft"},{id:"sales",title:'7. Sales and "All Sales Final"'},{id:"subscriptions",title:"8. Subscriptions, Fees, Active Displays, and Protection Plan"},{id:"prohibited",title:"9. Prohibited Content and Conduct"},{id:"account",title:"10. Account Actions and Removal"},{id:"limitation",title:"11. Limitation of Platform Responsibility"},{id:"contact",title:"12. Contact and Notices"}],P=S=>{const b=document.getElementById(S);b&&b.scrollIntoView({behavior:"smooth",block:"start"})},A=()=>{i&&d.trim()&&(s&&s(d,w),v(!0),setTimeout(()=>{v(!1),l("policies")},2e3))};return t.jsxs("div",{children:[t.jsxs("button",{onClick:()=>l("policies"),className:"flex items-center gap-2 text-neutral-600 hover:text-neutral-900 mb-6 transition-colors",children:[t.jsx(tl,{className:"w-5 h-5"}),t.jsx("span",{children:"Back to Policies"})]}),t.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[t.jsxs("div",{className:"flex-1 max-w-3xl",children:[t.jsxs("div",{className:"bg-white rounded-xl border border-neutral-200 p-6 sm:p-8 mb-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-3xl mb-2 text-neutral-900",children:"Artwalls Artist Agreement"}),t.jsx("p",{className:"text-sm text-neutral-500",children:"Last updated: December 25, 2024"})]}),t.jsxs("div",{className:"bg-blue-50 rounded-lg p-5 mb-8 border border-blue-100",children:[t.jsx("h2",{className:"text-base text-blue-900 mb-2 text-neutral-900",children:"Summary (non-binding)"}),t.jsx("p",{className:"text-sm text-blue-700",children:'This agreement explains how artists list, display, and sell artwork through Artwalls venues. The "Terms" below are binding; this summary is for convenience only.'})]}),t.jsxs("div",{className:"lg:hidden mb-6",children:[t.jsxs("button",{onClick:()=>p(!f),className:"w-full flex items-center justify-between p-4 bg-neutral-50 rounded-lg border border-neutral-200",children:[t.jsx("span",{className:"text-sm",children:"On this page"}),f?t.jsx(To,{className:"w-5 h-5"}):t.jsx(Ao,{className:"w-5 h-5"})]}),f&&t.jsx("div",{className:"mt-2 p-4 bg-neutral-50 rounded-lg border border-neutral-200",children:N.map(S=>t.jsx("button",{onClick:()=>{P(S.id),p(!1)},className:"block w-full text-left text-sm text-neutral-700 hover:text-blue-600 py-2 transition-colors",children:S.title},S.id))})]}),t.jsxs("div",{className:"space-y-8 prose prose-sm max-w-none",children:[t.jsxs("section",{id:"parties",children:[t.jsx("h2",{className:"text-xl mb-3 text-neutral-900",children:"1. Parties"}),t.jsx("p",{className:"text-neutral-700 leading-relaxed",children:'This Artist Agreement ("Agreement") is between the artist account holder ("Artist," "you") and Artwalls ("Artwalls," "we," "us").'})]}),t.jsxs("section",{id:"overview",children:[t.jsx("h2",{className:"text-xl mb-3 text-neutral-900",children:"2. Program Overview"}),t.jsx("p",{className:"text-neutral-700 leading-relaxed",children:'Artwalls connects artists with participating venues ("Venues") that host rotating physical wall art for display and potential sale. Artworks may be displayed in public spaces and purchased by customers via QR code checkout.'})]}),t.jsxs("section",{id:"ownership",children:[t.jsx("h2",{className:"text-xl mb-3 text-neutral-900",children:"3. Ownership and Responsibility"}),t.jsxs("ul",{className:"list-disc list-inside space-y-2 text-neutral-700 leading-relaxed",children:[t.jsx("li",{children:"You retain ownership of your artwork until it is sold to a customer."}),t.jsx("li",{children:"You are responsible for your artwork's readiness for public display and for accurate listing details (title, price, medium, dimensions, and images)."}),t.jsx("li",{children:"Artwalls generally does not take physical possession of artwork. Unless explicitly agreed otherwise in writing, you deliver, install, retrieve, or replace artwork directly with the Venue."})]})]}),t.jsxs("section",{id:"readiness",children:[t.jsx("h2",{className:"text-xl mb-3 text-neutral-900",children:"4. Artwork Readiness Requirements"}),t.jsx("p",{className:"text-neutral-700 leading-relaxed mb-3",children:"You agree that any artwork you place through Artwalls will be reasonably prepared for public display, including:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-2 text-neutral-700 dark:text-neutral-300 leading-relaxed",children:[t.jsx("li",{children:"Stable hanging method and hardware appropriate for the work's size/weight (or clearly disclosing requirements)."}),t.jsx("li",{children:"Safe framing/finish suitable for a public environment."}),t.jsx("li",{children:"A label/QR display requirement as provided by Artwalls or the Venue."})]})]}),t.jsxs("section",{id:"installation",children:[t.jsx("h2",{className:"text-xl mb-3 text-neutral-900",children:"5. Installation and Pickup"}),t.jsxs("ul",{className:"list-disc list-inside space-y-2 text-neutral-700 leading-relaxed",children:[t.jsx("li",{children:"You will coordinate installation and pickup during the Venue's posted weekly install/pickup window (or another mutually agreed schedule)."}),t.jsx("li",{children:"If you miss a scheduled window, you will reschedule promptly. Repeated no-shows may result in account restrictions."})]})]}),t.jsxs("section",{id:"risk",children:[t.jsx("h2",{className:"text-xl mb-3 text-neutral-900",children:"6. Display Risk; Damage, Loss, or Theft"}),t.jsxs("ul",{className:"list-disc list-inside space-y-2 text-neutral-700 leading-relaxed",children:[t.jsx("li",{children:"You acknowledge that displaying artwork in public venues carries inherent risk (e.g., accidental contact, spills, theft, or vandalism)."}),t.jsx("li",{children:"Venues are required to exercise reasonable care and to list only safe wallspaces (not near heaters/steam/grease sources, and with material risks disclosed)."}),t.jsx("li",{children:"If damage occurs, you agree to cooperate in documenting the incident (photos, condition confirmation)."}),t.jsx("li",{children:"Artwalls may assist with coordination but does not guarantee reimbursement for damage, loss, or theft unless Artwalls has expressly agreed in writing to provide coverage."})]})]}),t.jsxs("section",{id:"sales",children:[t.jsx("h2",{className:"text-xl mb-3 text-neutral-900",children:'7. Sales and "All Sales Final"'}),t.jsxs("ul",{className:"list-disc list-inside space-y-2 text-neutral-700 leading-relaxed",children:[t.jsx("li",{children:"All artwork sales processed through Artwalls are final. No returns or refunds are offered by default."}),t.jsx("li",{children:"You agree to describe artwork accurately and disclose material issues. Material misrepresentation may lead to cancellation of your account and other remedies as permitted by law."})]})]}),t.jsxs("section",{id:"subscriptions",children:[t.jsx("h2",{className:"text-xl mb-3 text-neutral-900",children:"8. Subscriptions, Fees, Active Displays, and Protection Plan"}),t.jsx("h3",{className:"text-base mb-2 mt-4 text-neutral-900",children:"Plans"}),t.jsx("p",{className:"text-neutral-700 leading-relaxed mb-3",children:"Artists may use Artwalls on a Free plan or a paid subscription plan (Starter, Growth, Pro). Plan features, limits, pricing, and overage rules are shown on the Plans & Pricing page and may be updated from time to time."}),t.jsx("h3",{className:"text-base mb-2 mt-4 text-neutral-900",children:"Platform fee on sales"}),t.jsx("p",{className:"text-neutral-700 leading-relaxed mb-2",children:"For sales processed through Artwalls, Artwalls charges a platform fee that depends on your plan:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-2 text-neutral-700 leading-relaxed mb-3",children:[t.jsx("li",{children:"Free: 15% platform fee"}),t.jsx("li",{children:"Starter: 10% platform fee"}),t.jsx("li",{children:"Growth: 8% platform fee"}),t.jsx("li",{children:"Pro: 6% platform fee"})]}),t.jsx("h3",{className:"text-base mb-2 mt-4 text-neutral-900",children:"Revenue split on completed sales"}),t.jsx("p",{className:"text-neutral-700 leading-relaxed mb-2",children:"Artist 80% / Venue 10% / Artwalls 10% (with plan-based fee adjustments as shown above)."}),t.jsx("p",{className:"text-neutral-700 leading-relaxed mb-3",children:"Payment processing fees may apply as disclosed at checkout or in your dashboard."}),t.jsx("h3",{className:"text-base mb-2 mt-4 text-neutral-900",children:"Active displays and overage pricing"}),t.jsx("p",{className:"text-neutral-700 leading-relaxed mb-3",children:'Plans include a number of "active displays" (artworks currently displayed at venues). If you exceed your included active displays, overage charges may apply as shown on the Plans & Pricing page (e.g., Starter additional active displays billed monthly; Growth additional active displays billed monthly). Artwalls may pause new placements if unpaid overages accrue.'}),t.jsx("h3",{className:"text-base mb-2 mt-4 text-neutral-900",children:"Payout timing"}),t.jsx("p",{className:"text-neutral-700 leading-relaxed mb-3",children:"Payout timing may vary by plan. The Free plan may be paid out on a weekly schedule; paid plans may receive standard or faster payouts as disclosed in your dashboard."}),t.jsx("h3",{className:"text-base mb-2 mt-4 text-neutral-900",children:"Artwork Protection Plan"}),t.jsx("p",{className:"text-neutral-700 leading-relaxed mb-2",children:'Artwalls offers an optional "Artwork Protection Plan" to help reimburse certain covered incidents while artwork is displayed through Artwalls placements:'}),t.jsxs("ul",{className:"list-disc list-inside space-y-2 text-neutral-700 dark:text-neutral-300 leading-relaxed mb-3",children:[t.jsx("li",{children:"Free/Starter: optional add-on at $3 per displayed artwork per month; reimbursement cap up to $100 per covered incident."}),t.jsx("li",{children:"Growth: optional add-on at $3 per displayed artwork per month; reimbursement cap up to $150 per covered incident."}),t.jsx("li",{children:"Pro: protection included at no extra charge for displayed artworks; reimbursement cap up to $200 per covered incident."})]}),t.jsx("h3",{className:"text-base mb-2 mt-4 text-neutral-900",children:"Protection Plan Requirements"}),t.jsx("p",{className:"text-neutral-700 leading-relaxed mb-2",children:"Coverage eligibility requires:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-2 text-neutral-700 leading-relaxed mb-3",children:[t.jsx("li",{children:"Declared value per artwork"}),t.jsx("li",{children:"Condition report at install (24 photos + confirmation)"}),t.jsx("li",{children:"Venue wallspace safety checklist completion"}),t.jsx("li",{children:"Reporting within 48 hours with photos"}),t.jsx("li",{children:"7-day waiting period before coverage begins"})]}),t.jsx("h3",{className:"text-base mb-2 mt-4 text-neutral-900",children:"Exclusions"}),t.jsx("p",{className:"text-neutral-700 leading-relaxed mb-2",children:"Protection does not cover:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-2 text-neutral-700 leading-relaxed mb-3",children:[t.jsx("li",{children:"Improper mounting/hardware failure caused by the artist"}),t.jsx("li",{children:"Normal wear and tear"}),t.jsx("li",{children:"Damage from risks disclosed and accepted by the artist (e.g., direct sun disclosed)"}),t.jsx("li",{children:"Intentional damage or fraud"})]}),t.jsx("h3",{className:"text-base mb-2 mt-4 text-neutral-900",children:"Claim limits"}),t.jsx("p",{className:"text-neutral-700 leading-relaxed mb-3",children:"Artwalls may limit claims per year by plan tier (e.g., Free/Starter up to 2, Growth up to 3, Pro up to 4)."}),t.jsx("h3",{className:"text-base mb-2 mt-4 text-neutral-900",children:"All Sales Final"}),t.jsx("p",{className:"text-neutral-700 leading-relaxed",children:"All artwork sales processed through Artwalls are final and non-refundable."})]}),t.jsxs("section",{id:"prohibited",children:[t.jsx("h2",{className:"text-xl mb-3 text-neutral-900",children:"9. Prohibited Content and Conduct"}),t.jsx("p",{className:"text-neutral-700 leading-relaxed",children:"You agree not to list or display artwork that includes unlawful content, harassment, hate symbols, or content that violates applicable laws. Venues may also set content preferences (e.g., family-friendly). Artwalls may remove listings or suspend accounts for violations."})]}),t.jsxs("section",{id:"account",children:[t.jsx("h2",{className:"text-xl mb-3 text-neutral-900",children:"10. Account Actions and Removal"}),t.jsx("p",{className:"text-neutral-700 leading-relaxed",children:"Artwalls may remove your listings or suspend/restrict your account for repeated policy violations, non-compliance with installation rules, misrepresentation, or harassment. You may remove your artwork from the program subject to any active placements and reasonable notice to the Venue."})]}),t.jsxs("section",{id:"limitation",children:[t.jsx("h2",{className:"text-xl mb-3 text-neutral-900",children:"11. Limitation of Platform Responsibility"}),t.jsx("p",{className:"text-neutral-700 leading-relaxed",children:"Artwalls provides a marketplace platform and payment coordination. Artwalls is not a gallery and does not assume custody of artwork by default. Except where prohibited by law, Artwalls is not liable for indirect damages, lost profits, or consequential losses related to venue display."})]}),t.jsxs("section",{id:"contact",children:[t.jsx("h2",{className:"text-xl mb-3 text-neutral-900",children:"12. Contact and Notices"}),t.jsx("p",{className:"text-neutral-700 leading-relaxed",children:"You agree to maintain an accurate email address and respond to scheduling or incident notifications within a reasonable time."})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl border border-neutral-200 p-6 sm:p-8",children:[t.jsx("h2",{className:"text-xl mb-1 text-neutral-900",children:"Accept Agreement"}),t.jsx("p",{className:"text-sm text-neutral-600 mb-6",children:"You must accept this agreement to use Artwalls artist features."}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:i,onChange:S=>c(S.target.checked),className:"mt-1 w-5 h-5 rounded border-neutral-300 text-blue-600 focus:ring-2 focus:ring-blue-500"}),t.jsx("span",{className:"text-sm text-neutral-700",children:"I have read and agree to the Artwalls Artist Agreement"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-neutral-700 mb-2",children:"Your Full Name"}),t.jsx("input",{type:"text",value:d,onChange:S=>m(S.target.value),placeholder:"Enter your full name",className:"w-full px-4 py-2 rounded-lg border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-neutral-700 mb-2",children:"Date"}),t.jsx("div",{className:"px-4 py-2 bg-neutral-100 rounded-lg text-neutral-600",children:w})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[t.jsxs("button",{onClick:A,disabled:!i||!d.trim(),className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx($t,{className:"w-5 h-5"}),t.jsx("span",{children:"Accept Agreement"})]}),t.jsxs("button",{className:"flex items-center justify-center gap-2 px-6 py-3 bg-neutral-100 text-neutral-700 rounded-lg hover:bg-neutral-200 transition-colors",children:[t.jsx(Po,{className:"w-5 h-5"}),t.jsx("span",{children:"Download PDF"})]})]}),t.jsx("p",{className:"text-xs text-neutral-500 text-center",children:"By accepting, you agree to be bound by the terms of this agreement."})]})]})]}),t.jsx("div",{className:"hidden lg:block w-64 flex-shrink-0",children:t.jsx("div",{className:"sticky top-8",children:t.jsxs("div",{className:"bg-white rounded-xl border border-neutral-200 p-5",children:[t.jsx("h3",{className:"text-sm text-neutral-500 mb-3",children:"On this page"}),t.jsx("nav",{className:"space-y-2",children:N.map(S=>t.jsx("button",{onClick:()=>P(S.id),className:"block w-full text-left text-sm text-neutral-700 hover:text-blue-600 py-1 transition-colors",children:S.title},S.id))})]})})})]}),g&&t.jsxs("div",{className:"fixed bottom-6 right-6 bg-blue-600 text-white px-6 py-4 rounded-xl shadow-lg flex items-center gap-3 animate-slide-up z-50",children:[t.jsx($t,{className:"w-5 h-5"}),t.jsx("span",{children:"Agreement accepted successfully!"})]})]})}function Qv({onNavigate:l,onAccept:s,hasAccepted:n=!1}){const[i,c]=z.useState(n),[d,m]=z.useState(""),[f,p]=z.useState(!1),[g,v]=z.useState(!1),w=new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),N=[{id:"parties",title:"1. Parties"},{id:"overview",title:"2. Program Overview"},{id:"wallspace",title:"3. Wallspace Listings and Accuracy"},{id:"safety",title:"4. Wallspace Safety, Duty of Care, and Damage Reporting"},{id:"scheduling",title:"5. Scheduling: Weekly Install/Pickup Window"},{id:"handling",title:"6. Handling, Moving, and Removal"},{id:"revenue",title:"7. Sales and Revenue Share"},{id:"customer",title:"8. Customer Sales Policy"},{id:"prohibited",title:"9. Prohibited Conduct"},{id:"limitation",title:"10. Limitation of Platform Responsibility"},{id:"contact",title:"11. Contact and Notices"}],P=S=>{const b=document.getElementById(S);b&&b.scrollIntoView({behavior:"smooth",block:"start"})},A=()=>{i&&d.trim()&&(s&&s(d,w),v(!0),setTimeout(()=>{v(!1),l("policies")},2e3))};return t.jsxs("div",{children:[t.jsxs("button",{onClick:()=>l("policies"),className:"flex items-center gap-2 text-neutral-600 hover:text-neutral-900 mb-6 transition-colors",children:[t.jsx(tl,{className:"w-5 h-5"}),t.jsx("span",{children:"Back to Policies"})]}),t.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[t.jsxs("div",{className:"flex-1 max-w-3xl",children:[t.jsxs("div",{className:"bg-white rounded-xl border border-neutral-200 p-6 sm:p-8 mb-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-3xl mb-2 text-neutral-900",children:"Artwalls Venue Agreement"}),t.jsx("p",{className:"text-sm text-neutral-500",children:"Last updated: December 25, 2024"})]}),t.jsxs("div",{className:"bg-green-50 rounded-lg p-5 mb-8 border border-green-100",children:[t.jsx("h2",{className:"text-base text-green-900 mb-2 text-neutral-900",children:"Summary (non-binding)"}),t.jsx("p",{className:"text-sm text-green-700",children:'This agreement explains how venues list wallspaces, host art, and earn a share of sales through Artwalls. The "Terms" below are binding; this summary is for convenience only.'})]}),t.jsxs("div",{className:"lg:hidden mb-6",children:[t.jsxs("button",{onClick:()=>p(!f),className:"w-full flex items-center justify-between p-4 bg-neutral-50 rounded-lg border border-neutral-200",children:[t.jsx("span",{className:"text-sm",children:"On this page"}),f?t.jsx(To,{className:"w-5 h-5"}):t.jsx(Ao,{className:"w-5 h-5"})]}),f&&t.jsx("div",{className:"mt-2 p-4 bg-neutral-50 rounded-lg border border-neutral-200",children:N.map(S=>t.jsx("button",{onClick:()=>{P(S.id),p(!1)},className:"block w-full text-left text-sm text-neutral-700 hover:text-green-600 py-2 transition-colors",children:S.title},S.id))})]}),t.jsxs("div",{className:"space-y-8 prose prose-sm max-w-none",children:[t.jsxs("section",{id:"parties",children:[t.jsx("h2",{className:"text-xl mb-3 text-neutral-900",children:"1. Parties"}),t.jsx("p",{className:"text-neutral-700 leading-relaxed",children:'This Venue Agreement ("Agreement") is between the venue account holder ("Venue," "you") and Artwalls ("Artwalls," "we," "us").'})]}),t.jsxs("section",{id:"overview",children:[t.jsx("h2",{className:"text-xl mb-3 text-neutral-900",children:"2. Program Overview"}),t.jsx("p",{className:"text-neutral-700 leading-relaxed",children:"Artwalls connects venues with local artists who display physical artwork on-site for a rotating period. Customers may purchase displayed artwork via QR code checkout."})]}),t.jsxs("section",{id:"wallspace",children:[t.jsx("h2",{className:"text-xl mb-3 text-neutral-900",children:"3. Wallspace Listings and Accuracy"}),t.jsxs("ul",{className:"list-disc list-inside space-y-2 text-neutral-700 leading-relaxed",children:[t.jsx("li",{children:"You will provide accurate details for each wallspace listing (location, approximate dimensions, availability, and any constraints)."}),t.jsx("li",{children:"You will upload at least one photo of each wallspace and keep listings updated if conditions change."})]})]}),t.jsxs("section",{id:"safety",children:[t.jsx("h2",{className:"text-xl mb-3 text-neutral-900",children:"4. Wallspace Safety, Duty of Care, and Damage Reporting"}),t.jsx("h3",{className:"text-base mb-2 mt-4 text-neutral-900",children:"Wallspace safety"}),t.jsx("p",{className:"text-neutral-700 leading-relaxed mb-2",children:"You agree to list and use only wallspaces that meet these minimum conditions unless clearly disclosed and accepted by the artist:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-2 text-neutral-700 leading-relaxed mb-3",children:[t.jsx("li",{children:"Not above or adjacent to heaters/heat sources"}),t.jsx("li",{children:"Not in excessive steam/grease/smoke areas"}),t.jsx("li",{children:"Sunlight exposure disclosed if sustained"}),t.jsx("li",{children:"Not in locations with high bump/spill risk unless disclosed"})]}),t.jsx("h3",{className:"text-base mb-2 mt-4 text-neutral-900",children:"Duty of care"}),t.jsx("p",{className:"text-neutral-700 leading-relaxed mb-3\\",children:"While artwork is displayed at your venue, you agree to exercise reasonable care, including preventing staff/customer handling and avoiding moving artwork without the artist's permission (except urgent safety reasons, with prompt notice)."}),t.jsx("h3",{className:"text-base mb-2 mt-4 text-neutral-900",children:"Damage/loss/theft reporting"}),t.jsx("p",{className:"text-neutral-700 leading-relaxed mb-3",children:"If you discover damage, loss, theft, or vandalism, you will notify the artist within 48 hours and provide photos (close-up and context). You will cooperate in documenting incidents (e.g., incident details, security footage availability). Artwalls may take enforcement action if wallspace safety requirements were violated or if repeated incidents occur."}),t.jsx("h3",{className:"text-base mb-2 mt-4 text-neutral-900",children:"Artwork Protection Plan"}),t.jsx("p",{className:"text-neutral-700 leading-relaxed",children:"Some artists may have elected the optional Artwork Protection Plan (or have it included under their plan). The Protection Plan is administered by Artwalls and does not change your duty of care or wallspace safety obligations. Venues must still comply with wallspace safety requirements to remain eligible for the marketplace."})]}),t.jsxs("section",{id:"scheduling",children:[t.jsx("h2",{className:"text-xl mb-3 text-neutral-900",children:"5. Scheduling: Weekly Install/Pickup Window"}),t.jsxs("ul",{className:"list-disc list-inside space-y-2 text-neutral-700 leading-relaxed",children:[t.jsx("li",{children:"You will set one recurring weekly install/pickup window (e.g., Thursdays 46pm)."}),t.jsx("li",{children:"Artists will install and pick up artwork during this window unless otherwise agreed."}),t.jsx("li",{children:"You will make reasonable efforts to have a responsible staff member available during the window for check-in and coordination."})]})]}),t.jsxs("section",{id:"handling",children:[t.jsx("h2",{className:"text-xl mb-3 text-neutral-900",children:"6. Handling, Moving, and Removal"}),t.jsxs("ul",{className:"list-disc list-inside space-y-2 text-neutral-700 leading-relaxed",children:[t.jsx("li",{children:"Do not move or rehang artwork without the Artist's permission, except where necessary to prevent imminent damage or for safety."}),t.jsx("li",{children:"If you must move artwork urgently, you will notify the Artist as soon as reasonably possible."}),t.jsx("li",{children:"At the end of a rotation window, you may request pickup/replacement according to the agreed schedule."})]})]}),t.jsxs("section",{id:"revenue",children:[t.jsx("h2",{className:"text-xl mb-3 text-neutral-900",children:"7. Sales and Revenue Share"}),t.jsx("p",{className:"text-neutral-700 leading-relaxed mb-3",children:"For completed sales processed through Artwalls:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-2 text-neutral-700 leading-relaxed",children:[t.jsx("li",{children:"Artist payout: 80% of sale price"}),t.jsx("li",{children:"Venue share: 10% of sale price"}),t.jsx("li",{children:"Artwalls fee: 10% of sale price"})]}),t.jsx("p",{className:"text-neutral-700 leading-relaxed mt-3",children:"You agree not to interfere with QR labels or purchase links and not to misrepresent pricing to customers."})]}),t.jsxs("section",{id:"customer",children:[t.jsx("h2",{className:"text-xl mb-3 text-neutral-900",children:"8. Customer Sales Policy"}),t.jsx("p",{className:"text-neutral-700 leading-relaxed",children:"All sales are final. Venues should encourage customers to view artwork in person before purchase. Venues should not promise refunds or returns on behalf of Artists or Artwalls."})]}),t.jsxs("section",{id:"prohibited",children:[t.jsx("h2",{className:"text-xl mb-3 text-neutral-900",children:"9. Prohibited Conduct"}),t.jsx("p",{className:"text-neutral-700 leading-relaxed",children:"You agree not to discriminate unlawfully, harass artists, or use Artwalls to spam or solicit unrelated services. Artwalls may restrict or suspend venue accounts for violations."})]}),t.jsxs("section",{id:"limitation",children:[t.jsx("h2",{className:"text-xl mb-3 text-neutral-900",children:"10. Limitation of Platform Responsibility"}),t.jsx("p",{className:"text-neutral-700 leading-relaxed",children:"Artwalls provides a marketplace platform and payment coordination. Artwalls does not take custody of artwork by default and is not a guarantor of sales or incident reimbursement except where expressly agreed in writing. Except where prohibited by law, Artwalls is not liable for indirect damages or consequential losses related to venue display."})]}),t.jsxs("section",{id:"contact",children:[t.jsx("h2",{className:"text-xl mb-3 text-neutral-900",children:"11. Contact and Notices"}),t.jsx("p",{className:"text-neutral-700 leading-relaxed",children:"You agree to maintain accurate contact information and respond to scheduling and incident notifications within a reasonable time."})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl border border-neutral-200 p-6 sm:p-8",children:[t.jsx("h2",{className:"text-xl mb-1 text-neutral-900",children:"Accept Agreement"}),t.jsx("p",{className:"text-sm text-neutral-600 mb-6",children:"You must accept this agreement to use Artwalls venue features."}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:i,onChange:S=>c(S.target.checked),className:"mt-1 w-5 h-5 rounded border-neutral-300 text-green-600 focus:ring-2 focus:ring-green-500"}),t.jsx("span",{className:"text-sm text-neutral-700",children:"I have read and agree to the Artwalls Venue Agreement"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-neutral-700 mb-2",children:"Your Full Name / Venue Representative"}),t.jsx("input",{type:"text",value:d,onChange:S=>m(S.target.value),placeholder:"Enter your full name",className:"w-full px-4 py-2 rounded-lg border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-green-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-neutral-700 mb-2",children:"Date"}),t.jsx("div",{className:"px-4 py-2 bg-neutral-100 rounded-lg text-neutral-600",children:w})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[t.jsxs("button",{onClick:A,disabled:!i||!d.trim(),className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx($t,{className:"w-5 h-5"}),t.jsx("span",{children:"Accept Agreement"})]}),t.jsxs("button",{className:"flex items-center justify-center gap-2 px-6 py-3 bg-neutral-100 text-neutral-700 rounded-lg hover:bg-neutral-200 transition-colors",children:[t.jsx(Po,{className:"w-5 h-5"}),t.jsx("span",{children:"Download PDF"})]})]}),t.jsx("p",{className:"text-xs text-neutral-500 text-center",children:"By accepting, you agree to be bound by the terms of this agreement."})]})]})]}),t.jsx("div",{className:"hidden lg:block w-64 flex-shrink-0",children:t.jsx("div",{className:"sticky top-8",children:t.jsxs("div",{className:"bg-white rounded-xl border border-neutral-200 p-5",children:[t.jsx("h3",{className:"text-sm text-neutral-500 mb-3",children:"On this page"}),t.jsx("nav",{className:"space-y-2",children:N.map(S=>t.jsx("button",{onClick:()=>P(S.id),className:"block w-full text-left text-sm text-neutral-700 hover:text-green-600 py-1 transition-colors",children:S.title},S.id))})]})})})]}),g&&t.jsxs("div",{className:"fixed bottom-6 right-6 bg-green-600 text-white px-6 py-4 rounded-xl shadow-lg flex items-center gap-3 animate-slide-up z-50",children:[t.jsx($t,{className:"w-5 h-5"}),t.jsx("span",{children:"Agreement accepted successfully!"})]})]})}function Yv({role:l,onNavigate:s}){const n=l==="artist"?"artist-agreement":"venue-agreement",i=l==="artist"?"Artist Agreement":"Venue Agreement",c=l==="artist"?"bg-blue-50":"bg-green-50",d=l==="artist"?"border-blue-200":"border-green-200",m=l==="artist"?"text-blue-900":"text-green-900",f=l==="artist"?"text-blue-600":"text-green-600",p=l==="artist"?"bg-blue-600 hover:bg-blue-700":"bg-green-600 hover:bg-green-700";return t.jsx("div",{className:`${c} ${d} border rounded-xl p-4 mb-6`,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(rl,{className:`w-5 h-5 ${f} flex-shrink-0 mt-0.5`}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:`text-sm ${m} mb-1`,children:"Action Required"}),t.jsxs("p",{className:`text-sm ${m} opacity-90 mb-3`,children:["Please accept the ",i," to continue using Artwalls features."]}),t.jsx("button",{onClick:()=>s(n),className:`px-4 py-2 ${p} text-white rounded-lg transition-colors text-sm`,children:"Review & Accept Agreement"})]})]})})}function Xv({onNavigate:l}){return t.jsx("footer",{className:"bg-white border-t border-neutral-200 mt-16",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-12",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[t.jsxs("div",{className:"md:col-span-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center",children:t.jsx(jn,{className:"w-5 h-5 text-white"})}),t.jsx("span",{className:"text-lg text-neutral-900",children:"Artwalls"})]}),t.jsx("p",{className:"text-sm text-neutral-600",children:"Connecting local artists with venues for rotating artwork displays and sales."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm mb-3",children:"For Artists"}),t.jsxs("ul",{className:"space-y-2 text-sm text-neutral-600",children:[t.jsx("li",{children:t.jsx("button",{onClick:()=>l("artist-venues"),className:"hover:text-neutral-900 transition-colors",children:"Browse Venues"})}),t.jsx("li",{children:t.jsx("button",{onClick:()=>l("artist-artworks"),className:"hover:text-neutral-900 transition-colors",children:"Manage Artwork"})}),t.jsx("li",{children:t.jsx("button",{onClick:()=>l("artist-sales"),className:"hover:text-neutral-900 transition-colors",children:"Track Sales"})})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm mb-3",children:"For Venues"}),t.jsxs("ul",{className:"space-y-2 text-sm text-neutral-600",children:[t.jsx("li",{children:t.jsx("button",{onClick:()=>l("venue-walls"),className:"hover:text-neutral-900 transition-colors",children:"Wall Spaces"})}),t.jsx("li",{children:t.jsx("button",{onClick:()=>l("venue-applications"),className:"hover:text-neutral-900 transition-colors",children:"Review Applications"})}),t.jsx("li",{children:t.jsx("button",{onClick:()=>l("venue-current"),className:"hover:text-neutral-900 transition-colors",children:"Current Artwork"})})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm mb-3",children:"Legal & Support"}),t.jsxs("ul",{className:"space-y-2 text-sm text-neutral-600",children:[t.jsx("li",{children:t.jsx("button",{onClick:()=>l("policies"),className:"hover:text-neutral-900 transition-colors",children:"Policies & Agreements"})}),t.jsx("li",{children:t.jsx("button",{onClick:()=>l("artist-agreement"),className:"hover:text-neutral-900 transition-colors",children:"Artist Agreement"})}),t.jsx("li",{children:t.jsx("button",{onClick:()=>l("venue-agreement"),className:"hover:text-neutral-900 transition-colors",children:"Venue Agreement"})}),t.jsx("li",{children:t.jsx("a",{href:"mailto:support@artwalls.com",className:"hover:text-neutral-900 transition-colors",children:"Contact Support"})})]})]})]}),t.jsxs("div",{className:"border-t border-neutral-200 mt-8 pt-8 flex flex-col sm:flex-row justify-between items-center gap-4",children:[t.jsx("p",{className:"text-sm text-neutral-600",children:" 2024 Artwalls. All rights reserved."}),t.jsxs("div",{className:"flex items-center gap-6 text-sm text-neutral-600",children:[t.jsx("button",{onClick:()=>l("policies"),className:"hover:text-neutral-900 transition-colors",children:"Privacy"}),t.jsx("button",{onClick:()=>l("policies"),className:"hover:text-neutral-900 transition-colors",children:"Terms"}),t.jsx("a",{href:"mailto:legal@artwalls.com",className:"hover:text-neutral-900 transition-colors",children:"Legal"})]})]})]})})}function Zv({onNavigate:l,currentPlan:s="free",currentUser:n}){const[i,c]=z.useState(!1),[d,m]=z.useState(300),[f,p]=z.useState(!1),[g,v]=z.useState(null),w=async(k,F)=>{try{if(!n){v("Please log in to upgrade your plan");return}if(n.role!=="artist"){v("Only artists can upgrade plans");return}p(!0),v(null);const G={free:"free",starter:"starter",growth:"elite",pro:"pro"}[k]||k,{url:ae}=await Cs("/api/stripe/billing/create-subscription-session",{tier:G});window.location.href=ae}catch(X){v(X?.message||`Failed to start upgrade to ${k}`),p(!1)}},N=[{id:"free",name:"Free",price:0,period:"/mo",icon:$o,tier:"free",features:["1 active display included","1 artwork listing","Up to 1 venue application / month","15% platform fee on sales","Weekly payouts","Basic QR label generation"],activeDisplays:1,overagePricing:null,platformFee:15,payoutSpeed:"Weekly",protection:"Optional at $3/artwork/mo",protectionCap:"$100 per incident",claimLimit:"Up to 2 claims/year",cta:s==="free"?"Current Plan":"Downgrade",popular:!1,disabled:s==="free"},{id:"starter",name:"Starter",price:9,period:"/mo",icon:jr,tier:"starter",features:["4 active displays included","Up to 10 artworks","Up to 3 venue applications / month","10% platform fee on sales","Standard payouts","Priority support"],activeDisplays:4,overagePricing:"$5/mo per additional display",platformFee:10,payoutSpeed:"Standard",protection:"Optional at $3/artwork/mo",protectionCap:"$100 per incident",claimLimit:"Up to 2 claims/year",cta:s==="starter"?"Current Plan":"Get Started",popular:!1,disabled:s==="starter"},{id:"growth",name:"Growth",price:19,period:"/mo",icon:Uh,tier:"elite",features:["10 active displays included","Up to 30 artworks","Unlimited venue applications","8% platform fee on sales","Standard payouts","Priority visibility boost"],activeDisplays:10,overagePricing:"$4/mo per additional display",platformFee:8,payoutSpeed:"Standard",protection:"Optional at $3/artwork/mo",protectionCap:"$150 per incident",claimLimit:"Up to 3 claims/year",cta:s==="growth"?"Current Plan":"Upgrade to Growth",popular:!0,disabled:s==="growth"},{id:"pro",name:"Pro",price:39,period:"/mo",icon:Nn,tier:"pro",features:["Unlimited active displays","Unlimited artworks","Unlimited applications","6% platform fee on sales","Fast payouts (coming soon)","Featured artist eligibility"],activeDisplays:"Unlimited",overagePricing:null,platformFee:6,payoutSpeed:"Fast",protection:"Included FREE",protectionCap:"$200 per incident",claimLimit:"Up to 4 claims/year",cta:s==="pro"?"Current Plan":"Upgrade to Pro",popular:!1,disabled:s==="pro"}],P=(k,F)=>k*(F/100),A=P(d,15),S=P(d,10)+9,b=P(d,8)+19,O=P(d,6)+39,U=()=>[{plan:"Free",cost:A},{plan:"Starter",cost:S},{plan:"Growth",cost:b},{plan:"Pro",cost:O}].reduce((F,X)=>X.cost<F.cost?X:F).plan;return t.jsxs("div",{children:[g&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 max-w-2xl mx-auto",children:t.jsx("p",{className:"text-red-800 text-sm",children:g})}),t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h1",{className:"text-3xl mb-2 text-neutral-900",children:"Plans & Pricing"}),t.jsx("p",{className:"text-neutral-600 max-w-2xl mx-auto",children:"Choose the plan that fits your needs. Upgrade anytime as your art business grows."})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:N.map(k=>{const F=k.icon;return t.jsxs("div",{className:`bg-white rounded-xl border-2 p-6 relative ${k.popular?"border-blue-600 shadow-lg":"border-neutral-200"}`,children:[k.popular&&t.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-blue-600 text-white px-4 py-1 rounded-full text-xs",children:"Most Popular"}),t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx(F,{className:"w-5 h-5 text-blue-600"})}),t.jsx("div",{children:t.jsx("h3",{className:"text-lg text-neutral-900",children:k.name})})]}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("span",{className:"text-3xl",children:["$",k.price]}),t.jsx("span",{className:"text-neutral-600",children:k.period})]}),t.jsx("ul",{className:"space-y-3 mb-6",children:k.features.map((X,G)=>t.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[t.jsx(_s,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),t.jsx("span",{className:"text-neutral-700",children:X})]},G))}),t.jsxs("div",{className:"border-t border-neutral-200 pt-4 mb-6",children:[t.jsx("p",{className:"text-xs text-neutral-600 mb-2",children:"Artwork Protection Plan:"}),t.jsxs("p",{className:"text-sm text-neutral-900 mb-1",children:[k.protection,k.id==="pro"&&t.jsx("span",{className:"ml-2 text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded",children:"INCLUDED"})]}),t.jsxs("p",{className:"text-xs text-neutral-500",children:["Coverage: ",k.protectionCap]}),t.jsx("p",{className:"text-xs text-neutral-500",children:k.claimLimit})]}),t.jsxs("button",{onClick:()=>w(k.tier,k.id),disabled:k.disabled||f,className:`w-full py-3 rounded-lg transition-colors flex items-center justify-center gap-2 ${k.disabled||f?"bg-neutral-200 text-neutral-500 cursor-not-allowed":k.popular?"bg-blue-600 text-white hover:bg-blue-700":"bg-blue-100 text-blue-700 hover:bg-blue-200"}`,children:[f&&k.id==="growth"?t.jsx(Es,{className:"w-4 h-4 animate-spin"}):null,k.cta]})]},k.id)})}),t.jsx("div",{className:"text-center mb-12 bg-blue-50 dark:bg-blue-900/30 rounded-xl p-6 border border-blue-100 dark:border-blue-800",children:t.jsx("p",{className:"text-sm text-blue-900 dark:text-blue-300",children:" You can upgrade or downgrade your plan anytime. Changes take effect at the start of your next billing cycle."})}),t.jsx("div",{className:"max-w-4xl mx-auto mb-12",children:t.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-purple-600 rounded-xl p-8 text-white",children:[t.jsx("h2",{className:"text-2xl mb-2 text-white",children:"Which plan pays for itself?"}),t.jsx("p",{className:"text-sm text-white/90 mb-6",children:"Use this calculator to see which plan saves you the most money based on your monthly sales."}),t.jsxs("div",{className:"bg-white backdrop-blur rounded-lg p-6 mb-6",children:[t.jsx("label",{className:"block text-sm mb-3",children:"Your monthly sales"}),t.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[t.jsx("input",{type:"range",min:"0",max:"2000",step:"50",value:d,onChange:k=>m(Number(k.target.value)),className:"flex-1 h-2 bg-white rounded-lg appearance-none cursor-pointer"}),t.jsx("input",{type:"number",value:d,onChange:k=>m(Number(k.target.value)),className:"w-24 px-3 py-2 bg-white border border-white/30 rounded-lg text-white text-center"})]}),t.jsxs("p",{className:"text-2xl mb-1",children:["$",d.toLocaleString(),"/month"]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[t.jsxs("div",{className:"bg-white backdrop-blur rounded-lg p-4",children:[t.jsx("p",{className:"text-xs text-white/80 mb-1",children:"Free"}),t.jsxs("p",{className:"text-xl mb-1",children:["$",A.toFixed(0)]}),t.jsx("p",{className:"text-xs text-white/70",children:"total cost/mo"})]}),t.jsxs("div",{className:"bg-white backdrop-blur rounded-lg p-4",children:[t.jsx("p",{className:"text-xs text-white/80 mb-1",children:"Starter"}),t.jsxs("p",{className:"text-xl mb-1",children:["$",S.toFixed(0)]}),t.jsx("p",{className:"text-xs text-white/70",children:"total cost/mo"})]}),t.jsxs("div",{className:"bg-white backdrop-blur rounded-lg p-4",children:[t.jsx("p",{className:"text-xs text-white/80 mb-1",children:"Growth"}),t.jsxs("p",{className:"text-xl mb-1",children:["$",b.toFixed(0)]}),t.jsx("p",{className:"text-xs text-white/70",children:"total cost/mo"})]}),t.jsxs("div",{className:"bg-white backdrop-blur rounded-lg p-4",children:[t.jsx("p",{className:"text-xs text-white/80 mb-1",children:"Pro"}),t.jsxs("p",{className:"text-xl mb-1",children:["$",O.toFixed(0)]}),t.jsx("p",{className:"text-xs text-white/70",children:"total cost/mo"})]})]}),t.jsxs("div",{className:"bg-white backdrop-blur rounded-lg p-4 mb-4",children:[t.jsxs("p",{className:"text-sm mb-2",children:[" ",t.jsx("strong",{children:"Recommended plan:"})," ",U()]}),t.jsx("p",{className:"text-xs text-white/80",children:"Approximate break-evens: Starter  $180/mo sales  Growth  $272/mo  Pro  $433/mo"})]}),t.jsx("p",{className:"text-xs text-white/60",children:"* Estimates exclude payment processing fees. Based on platform fee differences vs Free plan."})]})}),t.jsxs("div",{className:"max-w-4xl mx-auto mb-12",children:[t.jsx("button",{onClick:()=>c(!i),className:"w-full bg-white rounded-xl border border-neutral-200 p-6 text-left hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx(Nn,{className:"w-6 h-6 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl mb-1 text-neutral-900",children:"Artwork Protection Plan Details"}),t.jsx("p",{className:"text-sm text-neutral-600",children:"Learn about coverage, requirements, and exclusions"})]})]}),t.jsx("div",{className:"text-neutral-400",children:i?"":"+"})]})}),i&&t.jsx("div",{className:"bg-white rounded-xl border border-neutral-200 border-t-0 p-6 mt-0",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-base mb-3 text-neutral-900",children:"What's Covered"}),t.jsx("p",{className:"text-sm text-neutral-700 mb-3",children:"The Artwork Protection Plan helps reimburse you for certain covered incidents while your artwork is displayed through Artwalls placements:"}),t.jsxs("ul",{className:"space-y-2 text-sm text-neutral-700",children:[t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(_s,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}),t.jsx("span",{children:"Accidental damage (spills, bumps, falls)"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(_s,{className:"w-4 h-4 text-green-600 dark:text-green-400 flex-shrink-0 mt-0.5"}),t.jsx("span",{children:"Theft or vandalism"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(_s,{className:"w-4 h-4 text-green-600 dark:text-green-400 flex-shrink-0 mt-0.5"}),t.jsx("span",{children:"Environmental damage (within venue safety guidelines)"})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-base mb-3 text-neutral-900",children:"Coverage Requirements"}),t.jsxs("ul",{className:"space-y-2 text-sm text-neutral-700",children:[t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-blue-600 mr-1",children:""}),t.jsxs("span",{children:[t.jsx("strong",{children:"Declared value:"})," Required per artwork (defaults to sale price)"]})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-blue-600 dark:text-blue-400 mr-1",children:""}),t.jsxs("span",{children:[t.jsx("strong",{children:"Condition report at install:"}),' 24 photos + "Installed in good condition" confirmation']})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-blue-600 dark:text-blue-400 mr-1",children:""}),t.jsxs("span",{children:[t.jsx("strong",{children:"Venue safety checklist:"})," Must be completed (no heaters/steam/grease; sunlight disclosed)"]})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-blue-600 dark:text-blue-400 mr-1",children:""}),t.jsxs("span",{children:[t.jsx("strong",{children:"Incident reporting:"})," Within 48 hours with photos (close-up + context)"]})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-blue-600 dark:text-blue-400 mr-1",children:""}),t.jsxs("span",{children:[t.jsx("strong",{children:"Waiting period:"})," Coverage begins 7 days after plan activation"]})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-base mb-3 text-neutral-900",children:"What's NOT Covered (Exclusions)"}),t.jsxs("ul",{className:"space-y-2 text-sm text-neutral-700",children:[t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-red-600 mr-1",children:""}),t.jsx("span",{children:"Improper mounting or hardware failure caused by artist"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-red-600 dark:text-red-400 mr-1",children:""}),t.jsx("span",{children:"Normal wear and tear"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-red-600 dark:text-red-400 mr-1",children:""}),t.jsx("span",{children:"Damage from disclosed risks that artist accepted (e.g., direct sun disclosed)"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-red-600 dark:text-red-400 mr-1",children:""}),t.jsx("span",{children:"Intentional damage or fraud"})]})]})]}),t.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 rounded-lg p-4 border border-blue-100 dark:border-blue-800",children:[t.jsx("h3",{className:"text-base text-blue-900 dark:text-blue-300 mb-3",children:"Coverage Caps by Plan"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-1",children:t.jsx("strong",{children:"Free & Starter:"})}),t.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Up to $100 per incident"}),t.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:"2 claims per year"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-1",children:t.jsx("strong",{children:"Growth:"})}),t.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Up to $150 per incident"}),t.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:"3 claims per year"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-1",children:t.jsx("strong",{children:"Pro:"})}),t.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Up to $200 per incident"}),t.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:"4 claims per year"})]}),t.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg p-3 border border-blue-200 dark:border-neutral-700",children:[t.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mb-1",children:"Protection cost:"}),t.jsx("p",{className:"text-sm text-neutral-900 dark:text-neutral-100",children:"$3/artwork/mo"}),t.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:"FREE on Pro plan"})]})]})]})]})})]}),t.jsxs("div",{className:"max-w-6xl mx-auto mb-12",children:[t.jsx("h2",{className:"text-2xl mb-6 text-center text-neutral-900",children:"Compare All Features"}),t.jsx("div",{className:"bg-white rounded-xl border border-neutral-200 overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700",children:[t.jsx("th",{className:"text-left p-4 text-sm text-neutral-600 dark:text-neutral-400",children:"Feature"}),t.jsx("th",{className:"text-center p-4 text-sm dark:text-neutral-300",children:"Free"}),t.jsx("th",{className:"text-center p-4 text-sm dark:text-neutral-300",children:"Starter"}),t.jsx("th",{className:"text-center p-4 text-sm bg-blue-50 dark:bg-blue-900/30 text-neutral-900 dark:text-blue-300",children:"Growth"}),t.jsx("th",{className:"text-center p-4 text-sm dark:text-neutral-300",children:"Pro"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700 bg-purple-50 dark:bg-purple-900/20",children:[t.jsx("td",{className:"p-4 text-sm text-neutral-900 dark:text-neutral-100",children:t.jsx("strong",{children:"Active displays included"})}),t.jsx("td",{className:"text-center p-4 text-sm text-neutral-900 dark:text-neutral-100",children:t.jsx("strong",{children:"1"})}),t.jsx("td",{className:"text-center p-4 text-sm text-neutral-900 dark:text-neutral-100",children:t.jsx("strong",{children:"4"})}),t.jsx("td",{className:"text-center p-4 text-sm bg-blue-100 dark:bg-blue-900/50 text-neutral-900 dark:text-blue-300",children:t.jsx("strong",{children:"10"})}),t.jsx("td",{className:"text-center p-4 text-sm text-neutral-900 dark:text-neutral-100",children:t.jsx("strong",{children:"Unlimited"})})]}),t.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700",children:[t.jsx("td",{className:"p-4 text-sm text-neutral-900 dark:text-neutral-100",children:"Overage pricing"}),t.jsx("td",{className:"text-center p-4 text-sm text-xs text-neutral-900 dark:text-neutral-100",children:""}),t.jsx("td",{className:"text-center p-4 text-sm text-xs text-neutral-900 dark:text-neutral-100",children:"$5/mo per display"}),t.jsx("td",{className:"text-center p-4 text-sm text-xs bg-blue-50 dark:bg-blue-900/30 text-neutral-900 dark:text-blue-300",children:"$4/mo per display"}),t.jsx("td",{className:"text-center p-4 text-sm text-xs text-neutral-900 dark:text-neutral-100",children:""})]}),t.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700",children:[t.jsx("td",{className:"p-4 text-sm text-neutral-900 dark:text-neutral-100",children:"Artwork listings"}),t.jsx("td",{className:"text-center p-4 text-sm text-neutral-900 dark:text-neutral-100",children:"1"}),t.jsx("td",{className:"text-center p-4 text-sm text-neutral-900 dark:text-neutral-100",children:"10"}),t.jsx("td",{className:"text-center p-4 text-sm bg-blue-50 dark:bg-blue-900/30 text-neutral-900 dark:text-blue-300",children:"30"}),t.jsx("td",{className:"text-center p-4 text-sm text-neutral-900 dark:text-neutral-100",children:"Unlimited"})]}),t.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700",children:[t.jsx("td",{className:"p-4 text-sm text-neutral-900 dark:text-neutral-100",children:"Venue applications"}),t.jsx("td",{className:"text-center p-4 text-sm text-neutral-900 dark:text-neutral-100",children:"1/month"}),t.jsx("td",{className:"text-center p-4 text-sm text-neutral-900 dark:text-neutral-100",children:"3/month"}),t.jsx("td",{className:"text-center p-4 text-sm bg-blue-50 dark:bg-blue-900/30 text-neutral-900 dark:text-blue-300",children:"Unlimited"}),t.jsx("td",{className:"text-center p-4 text-sm text-neutral-900 dark:text-neutral-100",children:"Unlimited"})]}),t.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700 bg-yellow-50 dark:bg-yellow-900/20",children:[t.jsx("td",{className:"p-4 text-sm text-neutral-900 dark:text-neutral-100",children:t.jsx("strong",{children:"Platform fee on sales"})}),t.jsx("td",{className:"text-center p-4 text-sm text-neutral-900 dark:text-neutral-100",children:t.jsx("strong",{children:"15%"})}),t.jsx("td",{className:"text-center p-4 text-sm text-neutral-900 dark:text-neutral-100",children:t.jsx("strong",{children:"10%"})}),t.jsx("td",{className:"text-center p-4 text-sm bg-blue-100 dark:bg-blue-900/50 text-neutral-900 dark:text-blue-300",children:t.jsx("strong",{children:"8%"})}),t.jsx("td",{className:"text-center p-4 text-sm text-neutral-900 dark:text-neutral-100",children:t.jsx("strong",{children:"6%"})})]}),t.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700",children:[t.jsx("td",{className:"p-4 text-sm text-neutral-900 dark:text-neutral-100",children:"Payout speed"}),t.jsx("td",{className:"text-center p-4 text-sm text-xs text-neutral-900 dark:text-neutral-100",children:"Weekly"}),t.jsx("td",{className:"text-center p-4 text-sm text-xs text-neutral-900 dark:text-neutral-100",children:"Standard"}),t.jsx("td",{className:"text-center p-4 text-sm text-xs bg-blue-50 dark:bg-blue-900/30 text-neutral-900 dark:text-blue-300",children:"Standard"}),t.jsx("td",{className:"text-center p-4 text-sm text-xs text-neutral-900 dark:text-neutral-100",children:"Fast"})]}),t.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700",children:[t.jsx("td",{className:"p-4 text-sm text-neutral-900 dark:text-neutral-100",children:"Analytics"}),t.jsx("td",{className:"text-center p-4 text-sm text-neutral-900 dark:text-neutral-100",children:""}),t.jsx("td",{className:"text-center p-4 text-sm text-neutral-900 dark:text-neutral-100",children:"Basic"}),t.jsx("td",{className:"text-center p-4 text-sm bg-blue-50 dark:bg-blue-900/30 text-neutral-900 dark:text-blue-300",children:"Advanced"}),t.jsx("td",{className:"text-center p-4 text-sm text-neutral-900 dark:text-neutral-100",children:"Advanced"})]}),t.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700",children:[t.jsx("td",{className:"p-4 text-sm text-neutral-900 dark:text-neutral-100",children:"Priority visibility"}),t.jsx("td",{className:"text-center p-4 text-sm text-neutral-900 dark:text-neutral-100",children:""}),t.jsx("td",{className:"text-center p-4 text-sm text-neutral-900 dark:text-neutral-100",children:""}),t.jsx("td",{className:"text-center p-4 text-sm bg-blue-50 dark:bg-blue-900/30 text-neutral-900 dark:text-blue-300",children:""}),t.jsx("td",{className:"text-center p-4 text-sm text-neutral-900 dark:text-neutral-100",children:""})]}),t.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700 bg-green-50 dark:bg-green-900/20",children:[t.jsx("td",{className:"p-4 text-sm text-neutral-900 dark:text-neutral-100",children:t.jsx("strong",{children:"Protection Plan"})}),t.jsx("td",{className:"text-center p-4 text-sm text-xs text-neutral-900 dark:text-neutral-100",children:"$3/artwork"}),t.jsx("td",{className:"text-center p-4 text-sm text-xs text-neutral-900 dark:text-neutral-100",children:"$3/artwork"}),t.jsx("td",{className:"text-center p-4 text-sm text-xs bg-blue-50 dark:bg-blue-900/30 text-neutral-900 dark:text-blue-300",children:"$3/artwork"}),t.jsx("td",{className:"text-center p-4 text-sm text-xs text-neutral-900 dark:text-neutral-100",children:t.jsx("strong",{children:"INCLUDED"})})]}),t.jsxs("tr",{className:"border-t border-neutral-200 dark:border-neutral-700",children:[t.jsx("td",{className:"p-4 text-sm text-neutral-900 dark:text-neutral-100",children:"Protection cap"}),t.jsx("td",{className:"text-center p-4 text-sm text-xs text-neutral-900 dark:text-neutral-100",children:"$100"}),t.jsx("td",{className:"text-center p-4 text-sm text-xs text-neutral-900 dark:text-neutral-100",children:"$100"}),t.jsx("td",{className:"text-center p-4 text-sm text-xs bg-blue-50 dark:bg-blue-900/30 text-neutral-900 dark:text-blue-300",children:"$150"}),t.jsx("td",{className:"text-center p-4 text-sm text-xs text-neutral-900 dark:text-neutral-100",children:"$200"})]})]})]})})]}),t.jsxs("div",{className:"max-w-3xl mx-auto",children:[t.jsx("h2",{className:"text-2xl mb-6 text-center text-neutral-900",children:"Frequently Asked Questions"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-white rounded-xl border border-neutral-200 p-6",children:[t.jsx("h3",{className:"text-base mb-2 text-neutral-900",children:"Can I change plans later?"}),t.jsx("p",{className:"text-sm text-neutral-700",children:"Yes! You can upgrade or downgrade anytime. Changes take effect at the start of your next billing cycle."})]}),t.jsxs("div",{className:"bg-white rounded-xl border border-neutral-200 p-6",children:[t.jsx("h3",{className:"text-base mb-2 text-neutral-900",children:"How does the Protection Plan work if I have multiple artworks displayed?"}),t.jsx("p",{className:"text-sm text-neutral-700",children:"On Free, Starter, and Growth plans, protection costs $3 per displayed artwork per month. On Pro, protection is included FREE for all displayed artworks. You can toggle protection on/off for each placement."})]}),t.jsxs("div",{className:"bg-white rounded-xl border border-neutral-200 p-6",children:[t.jsx("h3",{className:"text-base mb-2 text-neutral-900",children:"What's the revenue split on sales?"}),t.jsx("p",{className:"text-sm text-neutral-700",children:"Artists receive 80% of the sale price, venues receive 10%, and Artwalls receives 10%. Your subscription plan determines the platform fee on top of this split."})]})]})]})]})}function ey({artworkId:l,onBack:s}){const n=z.useMemo(()=>Ts.find(N=>N.id===l)||Ts[0],[l]),[i,c]=z.useState(n),[d,m]=z.useState(!0),[f,p]=z.useState(!1),[g,v]=z.useState(null);z.useEffect(()=>{let N=!1;return(async()=>{try{m(!0),v(null);const P=await Lo(`/api/artworks/${encodeURIComponent(l)}`);N||c(P)}catch{N||c(n)}finally{N||m(!1)}})(),()=>{N=!0}},[l,n]);const w=async()=>{try{if(p(!0),v(null),i?.checkoutUrl){window.location.href=i.checkoutUrl;return}const{url:N}=await Cs("/api/stripe/create-checkout-session",{artworkId:i.id,buyerEmail:void 0});window.location.href=N}catch(N){v(N?.message||"Unable to start checkout")}finally{p(!1)}};return t.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[t.jsx("div",{className:"bg-white border-b border-neutral-200",children:t.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[s&&t.jsxs("button",{onClick:s,className:"flex items-center gap-2 text-neutral-600 hover:text-neutral-900 transition-colors",children:[t.jsx(tl,{className:"w-5 h-5"}),t.jsx("span",{className:"text-sm",children:"Back"})]}),t.jsx("span",{className:"text-xl tracking-tight text-neutral-900",children:"Artwalls"}),t.jsx("div",{className:"w-16"})," "]})})}),t.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-8 sm:py-12",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12",children:[t.jsx("div",{className:"bg-white rounded-2xl overflow-hidden border border-neutral-200 shadow-lg",children:t.jsx("div",{className:"aspect-square bg-neutral-100",children:t.jsx("img",{src:i.imageUrl,alt:i.title,className:"w-full h-full object-cover"})})}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("span",{className:"inline-block px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm mb-4",children:i.status==="sold"?"Sold":"Available for Purchase"}),t.jsx("h1",{className:"text-3xl sm:text-4xl mb-3 text-neutral-900",children:i.title}),t.jsxs("div",{className:"flex items-center gap-2 text-neutral-600 mb-4",children:[t.jsx(Qa,{className:"w-5 h-5"}),t.jsxs("span",{className:"text-base sm:text-lg",children:["by ",i.artistName]})]}),t.jsxs("div",{className:"flex items-start gap-2 text-neutral-600 mb-6",children:[t.jsx(Br,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),t.jsxs("span",{className:"text-sm sm:text-base",children:["Currently on display at ",i.venueName||"Local Venue"]})]})]}),t.jsx("div",{className:"mb-8",children:t.jsx("p",{className:"text-neutral-700 leading-relaxed",children:i.description})}),t.jsxs("div",{className:"bg-neutral-100 rounded-xl p-4 sm:p-6 mb-6 border border-neutral-200",children:[t.jsxs("div",{className:"flex items-baseline justify-between mb-2",children:[t.jsx("span",{className:"text-neutral-600",children:"Price"}),t.jsxs("span",{className:"text-3xl sm:text-4xl text-neutral-900",children:["$",i.price]})]}),t.jsx("p",{className:"text-sm text-neutral-500",children:"Supports local artist with ~80% of the sale going to the creator (before Stripe fees)"})]}),g&&t.jsx("div",{className:"bg-red-50 rounded-xl p-4 border border-red-200 mb-4",children:t.jsx("p",{className:"text-sm text-red-800",children:g})}),t.jsxs("button",{onClick:w,disabled:f||i.status==="sold",className:"w-full flex items-center justify-center gap-3 px-6 py-3 sm:py-4 bg-blue-600 disabled:bg-blue-400 text-white rounded-xl hover:bg-blue-700 transition-colors shadow-lg mb-4",children:[f?t.jsx(Es,{className:"w-5 h-5 animate-spin"}):t.jsx(Io,{className:"w-5 h-5"}),t.jsx("span",{className:"text-base sm:text-lg",children:i.status==="sold"?"Already Sold":"Buy This Artwork"})]}),d&&t.jsx("p",{className:"text-xs text-neutral-500",children:"Loading latest availability"}),t.jsx("div",{className:"bg-yellow-50 rounded-xl p-4 border border-yellow-200 mb-6",children:t.jsxs("p",{className:"text-sm text-yellow-900",children:[t.jsx("strong",{children:" All sales final:"})," Please view artwork in person before purchasing. No returns or refunds available."]})}),t.jsxs("div",{className:"space-y-3 pt-6 border-t border-neutral-200",children:[t.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[t.jsx("div",{className:"w-5 h-5 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:t.jsx("svg",{className:"w-3 h-3 text-green-600 dark:text-green-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-neutral-900",children:"Original physical artwork"}),t.jsx("p",{className:"text-neutral-500",children:"Take it home immediately after purchase"})]})]}),t.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[t.jsx("div",{className:"w-5 h-5 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:t.jsx("svg",{className:"w-3 h-3 text-green-600 dark:text-green-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-neutral-900",children:"Support local artists"}),t.jsx("p",{className:"text-neutral-500",children:"Funds are routed to the artist automatically via Stripe Connect"})]})]}),t.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[t.jsx("div",{className:"w-5 h-5 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:t.jsx("svg",{className:"w-3 h-3 text-green-600 dark:text-green-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-neutral-900",children:"Secure payment"}),t.jsx("p",{className:"text-neutral-500",children:"Checkout is handled by Stripe"})]})]})]})]})]})})]})}function ty({currentPage:l,onNavigate:s}){const n=[{id:"admin-dashboard",label:"Dashboard",icon:ef},{id:"admin-users",label:"Users",icon:Pn},{id:"admin-orders",label:"Orders & Payments",icon:Io},{id:"admin-announcements",label:"Announcements",icon:Ph},{id:"admin-promo-codes",label:"Promo Codes",icon:Ih},{id:"admin-activity-log",label:"Activity Log",icon:Co},{id:"admin-settings",label:"Settings",icon:jf}];return t.jsxs("aside",{className:"w-64 bg-white border-r border-neutral-200 flex flex-col",children:[t.jsx("div",{className:"p-6 border-b border-neutral-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-neutral-900 rounded-lg flex items-center justify-center",children:t.jsx(Nn,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-sm text-neutral-900",children:"Admin Console"}),t.jsx("p",{className:"text-xs text-neutral-500",children:"Internal"})]})]})}),t.jsx("nav",{className:"flex-1 p-4 space-y-1",children:n.map(i=>{const c=i.icon,d=l===i.id;return t.jsxs("button",{onClick:()=>s(i.id),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all text-sm ${d?"bg-neutral-900 text-white":"text-neutral-700 hover:bg-neutral-100"}`,children:[t.jsx(c,{className:"w-5 h-5"}),i.label]},i.id)})}),t.jsx("div",{className:"p-4 border-t border-neutral-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 bg-neutral-200 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-xs text-neutral-700",children:"AD"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm text-neutral-900 truncate",children:"Admin User"}),t.jsx("p",{className:"text-xs text-neutral-500",children:"admin@artwalls.com"})]})]})})]})}function wh({onNavigate:l}){const s=[{label:"Total Artists",value:"1,247",delta:"+32 this month",deltaType:"positive",icon:Pn,iconBg:"bg-blue-100 dark:bg-blue-900",iconColor:"text-blue-600 dark:text-blue-300"},{label:"Total Venues",value:"387",delta:"+12 this month",deltaType:"positive",icon:_p,iconBg:"bg-green-100 dark:bg-green-900",iconColor:"text-green-600 dark:text-green-300"},{label:"Active Displays",value:"542",delta:"89% capacity",deltaType:"neutral",icon:wn,iconBg:"bg-purple-100 dark:bg-purple-900",iconColor:"text-purple-600 dark:text-purple-300"},{label:"Pending Invites",value:"23",delta:"Needs review",deltaType:"neutral",icon:sl,iconBg:"bg-orange-100 dark:bg-orange-900",iconColor:"text-orange-600 dark:text-orange-300"},{label:"Total GMV (Month)",value:"$48,392",delta:"+18% vs last month",deltaType:"positive",icon:Vt,iconBg:"bg-emerald-100 dark:bg-emerald-900",iconColor:"text-emerald-600 dark:text-emerald-300"},{label:"Platform Revenue",value:"$4,839",delta:"10% platform fee",deltaType:"neutral",icon:jr,iconBg:"bg-cyan-100 dark:bg-cyan-900",iconColor:"text-cyan-600 dark:text-cyan-300"},{label:"Support Queue",value:"7",delta:"2 urgent",deltaType:"warning",icon:rl,iconBg:"bg-red-100 dark:bg-red-900",iconColor:"text-red-600 dark:text-red-300"}],n=[{label:"Create Announcement",icon:Vr,onClick:()=>l("admin-announcements",{action:"create"})},{label:"Create Promo Code",icon:Vr,onClick:()=>l("admin-promo-codes",{action:"create"})},{label:"Search User",icon:Oh,onClick:()=>l("admin-users")}],i=[{id:"1",type:"payment",description:'Payment completed: "Urban Sunset" sold for $850',user:"Sarah Chen",timestamp:"5 minutes ago",status:"success"},{id:"2",type:"venue",description:"New venue registered: The Artisan Lounge",user:"Michael Torres",timestamp:"32 minutes ago",status:"info"},{id:"3",type:"dispute",description:"Dispute opened: Artwork damaged during installation",user:"Emma Liu",timestamp:"1 hour ago",status:"warning"},{id:"4",type:"subscription",description:"Subscription upgraded: Free  Growth",user:"Jordan Taylor",timestamp:"2 hours ago",status:"success"},{id:"5",type:"payment",description:'Payment completed: "City Lights" sold for $1,200',user:"Marcus Rodriguez",timestamp:"3 hours ago",status:"success"}],c=[{service:"Stripe Webhooks",status:"operational",lastCheck:"2 minutes ago"},{service:"Supabase Database",status:"operational",lastCheck:"1 minute ago"},{service:"Email Delivery",status:"operational",lastCheck:"5 minutes ago"}],d=p=>{switch(p){case"positive":return"text-green-600 dark:text-green-400";case"negative":return"text-red-600 dark:text-red-400";case"warning":return"text-orange-600 dark:text-orange-400";default:return"text-neutral-500 dark:text-neutral-400"}},m=p=>{switch(p){case"success":return t.jsx($t,{className:"w-4 h-4 text-green-600 dark:text-green-400"});case"warning":return t.jsx($h,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"});default:return t.jsx(Co,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}},f=p=>{switch(p){case"operational":return"bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300";case"degraded":return"bg-orange-100 dark:bg-orange-900/50 text-orange-700 dark:text-orange-300";default:return"bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300"}};return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl mb-2",children:"Dashboard"}),t.jsx("p",{className:"text-neutral-600 dark:text-neutral-300",children:"Overview of platform metrics and recent activity"})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:s.map(p=>{const g=p.icon;return t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-neutral-200",children:[t.jsx("div",{className:"flex items-start justify-between mb-4",children:t.jsx("div",{className:`w-12 h-12 ${p.iconBg} rounded-lg flex items-center justify-center`,children:t.jsx(g,{className:`w-6 h-6 ${p.iconColor}`})})}),t.jsx("div",{className:"text-sm text-neutral-600 mb-1",children:p.label}),t.jsx("div",{className:"text-2xl mb-2 text-neutral-900",children:p.value}),t.jsx("div",{className:`text-xs ${d(p.deltaType)}`,children:p.delta})]},p.label)})}),t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-xl mb-4",children:"Quick Actions"}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:n.map(p=>{const g=p.icon;return t.jsx("button",{onClick:p.onClick,className:"bg-white border border-neutral-200 rounded-xl p-6 hover:shadow-lg hover:border-neutral-300 transition-all text-left group",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-neutral-100 rounded-lg flex items-center justify-center group-hover:bg-neutral-900 transition-colors",children:t.jsx(g,{className:"w-5 h-5 text-neutral-600 group-hover:text-white"})}),t.jsx("span",{className:"text-neutral-900",children:p.label})]})},p.label)})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsx("div",{className:"lg:col-span-2",children:t.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl border border-neutral-200 dark:border-neutral-700",children:[t.jsx("div",{className:"p-6 border-b border-neutral-200 dark:border-neutral-700",children:t.jsx("h2",{className:"text-xl",children:"Recent Activity"})}),t.jsx("div",{className:"divide-y divide-neutral-100",children:i.map(p=>t.jsx("div",{className:"p-6 hover:bg-neutral-50 transition-colors",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"mt-0.5",children:m(p.status)}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm text-neutral-900 mb-1",children:p.description}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-neutral-500",children:[t.jsx("span",{children:p.user}),t.jsx("span",{children:""}),t.jsx("span",{children:p.timestamp})]})]})]})},p.id))}),t.jsx("div",{className:"p-4 border-t border-neutral-200",children:t.jsx("button",{onClick:()=>l("admin-activity-log"),className:"w-full text-sm text-neutral-600 hover:text-neutral-900 transition-colors",children:"View all activity "})})]})}),t.jsx("div",{children:t.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl border border-neutral-200 dark:border-neutral-700",children:[t.jsx("div",{className:"p-6 border-b border-neutral-200 dark:border-neutral-700",children:t.jsx("h2",{className:"text-xl",children:"System Status"})}),t.jsx("div",{className:"p-6 space-y-4",children:c.map(p=>t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-neutral-900 dark:text-neutral-50",children:p.service}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${f(p.status)}`,children:p.status})]}),t.jsxs("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:["Last checked ",p.lastCheck]})]},p.service))})]})})]})]})}function ry({role:l}){return t.jsx("span",{className:`px-2 py-1 rounded-full text-xs capitalize ${l==="artist"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300"}`,children:l})}function jh({onViewUser:l}){const[s,n]=z.useState(""),[i,c]=z.useState(!1),[d,m]=z.useState({role:"all",plan:"all",status:"all",city:"all",agreementAccepted:"all"}),f=[{id:"1",name:"Sarah Chen",email:"sarah.chen@example.com",role:"artist",plan:"Growth",status:"Active",lastActive:"5 minutes ago",city:"Portland",agreementAccepted:!0},{id:"2",name:"Brew & Palette Caf",email:"owner@brewpalette.com",role:"venue",plan:"Pro",status:"Active",lastActive:"2 hours ago",city:"Portland",agreementAccepted:!0},{id:"3",name:"Marcus Rodriguez",email:"marcus.r@example.com",role:"artist",plan:"Starter",status:"Active",lastActive:"1 day ago",city:"Seattle",agreementAccepted:!0},{id:"4",name:"The Artisan Lounge",email:"info@artisanlounge.com",role:"venue",plan:"Growth",status:"Active",lastActive:"3 hours ago",city:"Portland",agreementAccepted:!0},{id:"5",name:"Emma Liu",email:"emma.liu@example.com",role:"artist",plan:"Free",status:"Suspended",lastActive:"2 weeks ago",city:"Portland",agreementAccepted:!1}],p=["Free","Starter","Growth","Pro"],g=["Active","Suspended"],v=["Portland","Seattle","San Francisco","Los Angeles"],w=b=>{switch(b){case"Free":return"bg-neutral-100 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300";case"Starter":return"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300";case"Growth":return"bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300";case"Pro":return"bg-orange-100 dark:bg-orange-900/50 text-orange-700 dark:text-orange-300";default:return"bg-neutral-100 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300"}},N=b=>{switch(b){case"Active":return"bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300";case"Suspended":return"bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300";default:return"bg-neutral-100 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300"}},P=f.filter(b=>{if(s){const O=s.toLowerCase();if(!(b.name.toLowerCase().includes(O)||b.email.toLowerCase().includes(O)))return!1}if(d.role!=="all"&&b.role!==d.role||d.plan!=="all"&&b.plan!==d.plan||d.status!=="all"&&b.status!==d.status||d.city!=="all"&&b.city!==d.city)return!1;if(d.agreementAccepted!=="all"){const O=d.agreementAccepted==="yes";if(b.agreementAccepted!==O)return!1}return!0}),A=()=>{m({role:"all",plan:"all",status:"all",city:"all",agreementAccepted:"all"}),n("")},S=d.role!=="all"||d.plan!=="all"||d.status!=="all"||d.city!=="all"||d.agreementAccepted!=="all"||s!=="";return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl mb-2",children:"Users"}),t.jsx("p",{className:"text-neutral-600",children:"Manage and support platform users"})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-neutral-200 mb-6",children:[t.jsxs("div",{className:"flex gap-3 mb-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(Oh,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),t.jsx("input",{type:"text",value:s,onChange:b=>n(b.target.value),placeholder:"Search by name, email, venue name, or user ID...",className:"w-full pl-12 pr-4 py-3 rounded-lg border border-neutral-300 bg-white text-neutral-900 focus:outline-none focus:ring-2 focus:ring-neutral-500"})]}),t.jsxs("button",{onClick:()=>c(!i),className:`px-6 py-3 rounded-lg border-2 transition-all flex items-center gap-2 ${i||S?"border-neutral-900 bg-neutral-900 text-white":"border-neutral-300 bg-white text-neutral-700 hover:border-neutral-400"}`,children:[t.jsx(Gp,{className:"w-5 h-5"}),"Filters",S&&t.jsx("span",{className:"ml-1 px-2 py-0.5 bg-white text-neutral-900 text-xs rounded-full",children:"Active"})]}),t.jsxs("button",{className:"px-6 py-3 rounded-lg border border-neutral-300 bg-white text-neutral-700 hover:bg-neutral-50 transition-colors flex items-center gap-2",children:[t.jsx(Po,{className:"w-5 h-5"}),"Export"]})]}),i&&t.jsxs("div",{className:"pt-4 border-t border-neutral-200",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4 mb-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-neutral-700 dark:text-neutral-300 mb-2",children:"Role"}),t.jsxs("select",{value:d.role,onChange:b=>m({...d,role:b.target.value}),className:"w-full px-3 py-2 rounded-lg border border-neutral-300 dark:border-neutral-600 bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-50 text-sm focus:outline-none focus:ring-2 focus:ring-neutral-500",children:[t.jsx("option",{value:"all",children:"All roles"}),t.jsx("option",{value:"artist",children:"Artist"}),t.jsx("option",{value:"venue",children:"Venue"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-neutral-700 dark:text-neutral-300 mb-2",children:"Plan"}),t.jsxs("select",{value:d.plan,onChange:b=>m({...d,plan:b.target.value}),className:"w-full px-3 py-2 rounded-lg border border-neutral-300 dark:border-neutral-600 bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-50 text-sm focus:outline-none focus:ring-2 focus:ring-neutral-500",children:[t.jsx("option",{value:"all",children:"All plans"}),p.map(b=>t.jsx("option",{value:b,children:b},b))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-neutral-700 dark:text-neutral-300 mb-2",children:"Status"}),t.jsxs("select",{value:d.status,onChange:b=>m({...d,status:b.target.value}),className:"w-full px-3 py-2 rounded-lg border border-neutral-300 dark:border-neutral-600 bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-50 text-sm focus:outline-none focus:ring-2 focus:ring-neutral-500",children:[t.jsx("option",{value:"all",children:"All statuses"}),g.map(b=>t.jsx("option",{value:b,children:b},b))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-neutral-700 dark:text-neutral-300 mb-2",children:"City"}),t.jsxs("select",{value:d.city,onChange:b=>m({...d,city:b.target.value}),className:"w-full px-3 py-2 rounded-lg border border-neutral-300 dark:border-neutral-600 bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-50 text-sm focus:outline-none focus:ring-2 focus:ring-neutral-500",children:[t.jsx("option",{value:"all",children:"All cities"}),v.map(b=>t.jsx("option",{value:b,children:b},b))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-neutral-700 dark:text-neutral-300 mb-2",children:"Agreement"}),t.jsxs("select",{value:d.agreementAccepted,onChange:b=>m({...d,agreementAccepted:b.target.value}),className:"w-full px-3 py-2 rounded-lg border border-neutral-300 dark:border-neutral-600 bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-50 text-sm focus:outline-none focus:ring-2 focus:ring-neutral-500",children:[t.jsx("option",{value:"all",children:"All"}),t.jsx("option",{value:"yes",children:"Accepted"}),t.jsx("option",{value:"no",children:"Not accepted"})]})]})]}),S&&t.jsx("button",{onClick:A,className:"text-sm text-neutral-600 hover:text-neutral-900 transition-colors",children:"Clear all filters"})]})]}),t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[t.jsx("span",{className:"text-neutral-900 dark:text-neutral-50",children:P.length})," users found"]})}),P.length>0?t.jsx("div",{className:"bg-white dark:bg-neutral-800 rounded-xl border border-neutral-200 dark:border-neutral-700 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-neutral-50 dark:bg-neutral-900 border-b border-neutral-200 dark:border-neutral-700",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600 dark:text-neutral-300",children:"Name"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600 dark:text-neutral-300",children:"Role"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600 dark:text-neutral-300",children:"Email"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600 dark:text-neutral-300",children:"Plan"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600 dark:text-neutral-300",children:"Status"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600 dark:text-neutral-300",children:"Last Active"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600 dark:text-neutral-300",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-neutral-100 dark:divide-neutral-700",children:P.map(b=>t.jsxs("tr",{className:"hover:bg-neutral-50 dark:hover:bg-neutral-700/50 transition-colors",children:[t.jsx("td",{className:"px-6 py-4 text-sm text-neutral-900 dark:text-neutral-50",children:b.name}),t.jsx("td",{className:"px-6 py-4",children:t.jsx(ry,{role:b.role})}),t.jsx("td",{className:"px-6 py-4 text-sm text-neutral-600 dark:text-neutral-400",children:b.email}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${w(b.plan)}`,children:b.plan})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${N(b.status)}`,children:b.status})}),t.jsx("td",{className:"px-6 py-4 text-sm text-neutral-600 dark:text-neutral-400",children:b.lastActive}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>l(b.id),className:"px-3 py-1 bg-neutral-900 dark:bg-neutral-100 text-white dark:text-neutral-900 rounded text-xs hover:bg-neutral-800 dark:hover:bg-neutral-200 transition-colors",children:"View"}),b.status==="Active"?t.jsx("button",{className:"px-3 py-1 bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 rounded text-xs hover:bg-red-200 dark:hover:bg-red-900 transition-colors",children:"Suspend"}):t.jsx("button",{className:"px-3 py-1 bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300 rounded text-xs hover:bg-green-200 dark:hover:bg-green-900 transition-colors",children:"Activate"})]})})]},b.id))})]})})}):t.jsxs("div",{className:"text-center py-16 bg-white dark:bg-neutral-800 rounded-xl border border-neutral-200 dark:border-neutral-700",children:[t.jsx("div",{className:"w-16 h-16 bg-neutral-100 dark:bg-neutral-800 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Pn,{className:"w-8 h-8 text-neutral-400"})}),t.jsx("h3",{className:"text-xl mb-2",children:"No users found"}),t.jsx("p",{className:"text-neutral-600 dark:text-neutral-300 mb-6",children:S?"Try adjusting your filters to see more results":"No users in the system yet"}),S&&t.jsx("button",{onClick:A,className:"px-6 py-2 bg-neutral-900 dark:bg-neutral-100 text-white dark:text-neutral-900 rounded-lg hover:bg-neutral-800 dark:hover:bg-neutral-200 transition-colors",children:"Clear Filters"})]})]})}function sy({role:l}){return t.jsx("span",{className:`px-2 py-1 rounded-full text-xs capitalize ${l==="artist"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:l})}function Nh({userId:l,onBack:s}){const[n,i]=z.useState("overview"),c={name:"Sarah Chen",email:"sarah.chen@example.com",role:"artist",plan:"Growth",status:"Active",city:"Portland, OR",createdAt:"2023-06-15",agreementDate:"2023-06-15",artworksCount:24,activeDisplays:3,protectionPlanActive:2},d=[{id:"overview",label:"Overview",icon:Qa},{id:"placements",label:"Placements",icon:wn},{id:"orders",label:"Orders",icon:Io},{id:"subscriptions",label:"Subscriptions",icon:Ch},{id:"notes",label:"Notes",icon:Tf}],m=[{id:"1",artwork:"Urban Sunset",venue:"Brew & Palette Caf",status:"On display",installDate:"2024-01-15",endDate:"2024-04-15",duration:90,protection:!0},{id:"2",artwork:"City Lights",venue:"The Artisan Lounge",status:"Sold",installDate:"2023-12-01",endDate:"2024-03-01",duration:90,protection:!0}],f=[{id:"ord_123456",artwork:"City Lights",amount:1200,status:"Paid",stripeSessionId:"cs_test_a1b2c3...",date:"2024-01-20"}],p=[{id:"1",author:"Admin User",tag:"Support",content:"User reported issue with artwork upload. Resolved by clearing cache.",timestamp:"2024-01-15 14:30"}],g=w=>{switch(w){case"Growth":return"bg-purple-100 text-purple-700";default:return"bg-neutral-100 text-neutral-700"}},v=w=>{switch(w){case"On display":return"bg-green-100 text-green-700";case"Sold":return"bg-blue-100 text-blue-700";case"Paid":return"bg-green-100 text-green-700";default:return"bg-neutral-100 text-neutral-700"}};return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("button",{onClick:s,className:"flex items-center gap-2 text-neutral-600 hover:text-neutral-900 mb-4 transition-colors",children:[t.jsx(tl,{className:"w-4 h-4"}),"Back to Users"]}),t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl mb-2",children:c.name}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(sy,{role:c.role}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${g(c.plan)}`,children:c.plan}),t.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs",children:c.status})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors text-sm flex items-center gap-2",children:[t.jsx($h,{className:"w-4 h-4"}),"Suspend"]}),t.jsxs("button",{className:"px-4 py-2 bg-neutral-100 text-neutral-700 rounded-lg hover:bg-neutral-200 transition-colors text-sm flex items-center gap-2",children:[t.jsx(Ro,{className:"w-4 h-4"}),"Force Logout"]}),t.jsxs("button",{className:"px-4 py-2 bg-neutral-100 text-neutral-700 rounded-lg hover:bg-neutral-200 transition-colors text-sm flex items-center gap-2",children:[t.jsx(Xp,{className:"w-4 h-4"}),"Reset Password"]})]})]})]}),t.jsx("div",{className:"border-b border-neutral-200 mb-6",children:t.jsx("div",{className:"flex gap-6",children:d.map(w=>{const N=w.icon;return t.jsxs("button",{onClick:()=>i(w.id),className:`flex items-center gap-2 px-4 py-3 border-b-2 transition-colors ${n===w.id?"border-neutral-900 text-neutral-900":"border-transparent text-neutral-600 hover:text-neutral-900"}`,children:[t.jsx(N,{className:"w-4 h-4"}),w.label]},w.id)})})}),n==="overview"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-neutral-200",children:[t.jsx("h2",{className:"text-xl mb-4",children:"Identity"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Qa,{className:"w-5 h-5 text-neutral-400 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-neutral-600",children:"Name"}),t.jsx("p",{className:"text-neutral-900",children:c.name})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(sl,{className:"w-5 h-5 text-neutral-400 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-neutral-600",children:"Email"}),t.jsx("p",{className:"text-neutral-900",children:c.email})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Br,{className:"w-5 h-5 text-neutral-400 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-neutral-600",children:"City"}),t.jsx("p",{className:"text-neutral-900",children:c.city})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Zt,{className:"w-5 h-5 text-neutral-400 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-neutral-600",children:"Member Since"}),t.jsx("p",{className:"text-neutral-900",children:c.createdAt})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx($t,{className:"w-5 h-5 text-green-600 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-neutral-600",children:"Agreement"}),t.jsx("p",{className:"text-neutral-900",children:`Accepted ${c.agreementDate}`})]})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-neutral-200",children:[t.jsx("h2",{className:"text-xl mb-4",children:"Artist Stats"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-neutral-600 mb-1",children:"Artworks"}),t.jsx("p",{className:"text-2xl text-neutral-900",children:c.artworksCount})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-neutral-600 mb-1",children:"Active Displays"}),t.jsx("p",{className:"text-2xl text-neutral-900",children:c.activeDisplays})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-neutral-600 mb-1",children:"Protected Artworks"}),t.jsx("p",{className:"text-2xl text-neutral-900",children:c.protectionPlanActive})]})]})]})]}),n==="placements"&&t.jsx("div",{className:"bg-white rounded-xl border border-neutral-200 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Artwork"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Venue"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Status"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Install Date"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"End Date"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Duration"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Protection"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-neutral-100",children:m.map(w=>t.jsxs("tr",{className:"hover:bg-neutral-50",children:[t.jsx("td",{className:"px-6 py-4 text-sm text-neutral-900",children:w.artwork}),t.jsx("td",{className:"px-6 py-4 text-sm text-neutral-600",children:w.venue}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${v(w.status)}`,children:w.status})}),t.jsx("td",{className:"px-6 py-4 text-sm text-neutral-600",children:w.installDate}),t.jsx("td",{className:"px-6 py-4 text-sm text-neutral-600",children:w.endDate}),t.jsxs("td",{className:"px-6 py-4 text-sm text-neutral-600",children:[w.duration," days"]}),t.jsx("td",{className:"px-6 py-4 text-sm",children:w.protection?t.jsx("span",{className:"text-green-600",children:"On"}):t.jsx("span",{className:"text-neutral-500",children:"Off"})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("button",{className:"px-3 py-1 bg-neutral-900 text-white rounded text-xs hover:bg-neutral-800 transition-colors",children:"View"})})]},w.id))})]})})}),n==="orders"&&t.jsx("div",{className:"bg-white rounded-xl border border-neutral-200 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Order ID"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Artwork"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Amount"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Status"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Stripe Session"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Date"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-neutral-100",children:f.map(w=>t.jsxs("tr",{className:"hover:bg-neutral-50",children:[t.jsx("td",{className:"px-6 py-4 text-sm text-neutral-900 font-mono",children:w.id}),t.jsx("td",{className:"px-6 py-4 text-sm text-neutral-600",children:w.artwork}),t.jsxs("td",{className:"px-6 py-4 text-sm text-neutral-900",children:["$",w.amount]}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${v(w.status)}`,children:w.status})}),t.jsx("td",{className:"px-6 py-4 text-sm text-neutral-600 font-mono",children:w.stripeSessionId}),t.jsx("td",{className:"px-6 py-4 text-sm text-neutral-600",children:w.date}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("button",{className:"px-3 py-1 bg-neutral-900 text-white rounded text-xs hover:bg-neutral-800 transition-colors",children:"Details"})})]},w.id))})]})})}),n==="subscriptions"&&t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-neutral-200",children:[t.jsx("h2",{className:"text-xl mb-4",children:"Current Plan"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 mb-6",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-neutral-600 mb-1",children:"Tier"}),t.jsx("p",{className:"text-2xl text-neutral-900",children:c.plan})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-neutral-600 mb-1",children:"Stripe Status"}),t.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded-full text-sm",children:"Active"})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{className:"px-4 py-2 bg-neutral-900 text-white rounded-lg hover:bg-neutral-800 transition-colors text-sm",children:"Open Stripe Customer"}),t.jsx("button",{className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors text-sm",children:"Cancel Subscription"})]})]})}),n==="notes"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-neutral-200",children:[t.jsx("h2",{className:"text-xl mb-4",children:"Add Internal Note"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("select",{className:"w-full px-4 py-2 rounded-lg border border-neutral-300 bg-white text-neutral-900 focus:outline-none focus:ring-2 focus:ring-neutral-500",children:[t.jsx("option",{children:"Support"}),t.jsx("option",{children:"Billing"}),t.jsx("option",{children:"Safety"})]}),t.jsx("textarea",{rows:4,placeholder:"Add your note here...",className:"w-full px-4 py-2 rounded-lg border border-neutral-300 bg-white text-neutral-900 focus:outline-none focus:ring-2 focus:ring-neutral-500"}),t.jsx("button",{className:"px-6 py-2 bg-neutral-900 text-white rounded-lg hover:bg-neutral-800 transition-colors",children:"Save Note"})]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-neutral-200",children:[t.jsx("h2",{className:"text-xl mb-4",children:"Notes History"}),t.jsx("div",{className:"space-y-4",children:p.map(w=>t.jsxs("div",{className:"p-4 bg-neutral-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-neutral-900",children:w.author}),t.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 rounded-full text-xs",children:w.tag})]}),t.jsx("span",{className:"text-xs text-neutral-500",children:w.timestamp})]}),t.jsx("p",{className:"text-sm text-neutral-600",children:w.content})]},w.id))})]})]})]})}function kh({onCreateAnnouncement:l}){const s=[{id:"1",title:"New Protection Plan Available",audience:"Artists",type:"Banner",status:"Active",startDate:"2024-01-15",endDate:"2024-02-15",createdBy:"Admin User"},{id:"2",title:"System Maintenance Scheduled",audience:"All",type:"Notification",status:"Scheduled",startDate:"2024-02-01",endDate:null,createdBy:"Tech Team"}],n=c=>{switch(c){case"Artists":return"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300";case"Venues":return"bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300";default:return"bg-neutral-100 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300"}},i=c=>{switch(c){case"Active":return"bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300";case"Scheduled":return"bg-orange-100 dark:bg-orange-900/50 text-orange-700 dark:text-orange-300";case"Expired":return"bg-neutral-100 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300";default:return"bg-neutral-100 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300"}};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl mb-2",children:"Announcements"}),t.jsx("p",{className:"text-neutral-600",children:"Manage global and role-targeted announcements"})]}),t.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-6 py-3 bg-neutral-900 text-white rounded-lg hover:bg-neutral-800 transition-colors",children:[t.jsx(Vr,{className:"w-5 h-5"}),"Create Announcement"]})]}),t.jsx("div",{className:"bg-white rounded-xl border border-neutral-200 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Title"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Audience"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Type"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Status"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Start Date"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"End Date"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Created By"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-neutral-100",children:s.map(c=>t.jsxs("tr",{className:"hover:bg-neutral-50",children:[t.jsx("td",{className:"px-6 py-4 text-sm text-neutral-900",children:c.title}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${n(c.audience)}`,children:c.audience})}),t.jsx("td",{className:"px-6 py-4 text-sm text-neutral-600",children:c.type}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${i(c.status)}`,children:c.status})}),t.jsx("td",{className:"px-6 py-4 text-sm text-neutral-600",children:c.startDate}),t.jsx("td",{className:"px-6 py-4 text-sm text-neutral-600",children:c.endDate||""}),t.jsx("td",{className:"px-6 py-4 text-sm text-neutral-600",children:c.createdBy}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{className:"p-1 text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-50",children:t.jsx(Ah,{className:"w-4 h-4"})}),t.jsx("button",{className:"p-1 text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-50",children:t.jsx(Do,{className:"w-4 h-4"})}),t.jsx("button",{className:"p-1 text-red-600 hover:text-red-700",children:t.jsx($f,{className:"w-4 h-4"})})]})})]},c.id))})]})})}),s.length===0&&t.jsxs("div",{className:"text-center py-16 bg-white rounded-xl border border-neutral-200",children:[t.jsx("div",{className:"w-16 h-16 bg-neutral-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Ph,{className:"w-8 h-8 text-neutral-400"})}),t.jsx("h3",{className:"text-xl mb-2",children:"No announcements yet"}),t.jsx("p",{className:"text-neutral-600 dark:text-neutral-300 mb-6",children:"Create your first announcement to communicate with users"}),t.jsx("button",{onClick:l,className:"px-6 py-2 bg-neutral-900 text-white rounded-lg hover:bg-neutral-800 transition-colors",children:"Create Announcement"})]})]})}function _h({onCreatePromoCode:l}){const s=[{id:"1",code:"WELCOME15",discount:"15% off",duration:"Once",maxRedemptions:100,redeemedCount:47,expires:"2024-12-31",status:"Active"},{id:"2",code:"SUMMER2024",discount:"$10 off",duration:"3 months",maxRedemptions:null,redeemedCount:12,expires:"2024-08-31",status:"Active"},{id:"3",code:"LAUNCH50",discount:"50% off",duration:"Forever",maxRedemptions:50,redeemedCount:50,expires:null,status:"Inactive"}],n=i=>{switch(i){case"Active":return"bg-green-100 text-green-700";case"Inactive":return"bg-neutral-100 text-neutral-700";default:return"bg-neutral-100 text-neutral-700"}};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl mb-2",children:"Promo Codes"}),t.jsx("p",{className:"text-neutral-600",children:"Create and manage subscription discount codes"})]}),t.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-6 py-3 bg-neutral-900 text-white rounded-lg hover:bg-neutral-800 transition-colors",children:[t.jsx(Vr,{className:"w-5 h-5"}),"Create Promo Code"]})]}),t.jsx("div",{className:"bg-white rounded-xl border border-neutral-200 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Code"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Discount"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Duration"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Max Redemptions"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Redeemed"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Expires"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Status"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-neutral-100",children:s.map(i=>t.jsxs("tr",{className:"hover:bg-neutral-50",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-mono text-neutral-900",children:i.code}),t.jsx("button",{className:"p-1 text-neutral-400 hover:text-neutral-600",children:t.jsx(Dp,{className:"w-3 h-3"})})]})}),t.jsx("td",{className:"px-6 py-4 text-sm text-neutral-900",children:i.discount}),t.jsx("td",{className:"px-6 py-4 text-sm text-neutral-600",children:i.duration}),t.jsx("td",{className:"px-6 py-4 text-sm text-neutral-600",children:i.maxRedemptions||"Unlimited"}),t.jsxs("td",{className:"px-6 py-4 text-sm text-neutral-900",children:[i.redeemedCount,i.maxRedemptions&&t.jsxs("span",{className:"text-neutral-500",children:[" / ",i.maxRedemptions]})]}),t.jsx("td",{className:"px-6 py-4 text-sm text-neutral-600",children:i.expires||"Never"}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${n(i.status)}`,children:i.status})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{className:"px-3 py-1 bg-neutral-900 text-white rounded text-xs hover:bg-neutral-800 transition-colors",children:"View"}),i.status==="Active"&&t.jsx("button",{className:"px-3 py-1 bg-red-100 text-red-700 rounded text-xs hover:bg-red-200 transition-colors",children:"Deactivate"})]})})]},i.id))})]})})}),s.length===0&&t.jsxs("div",{className:"text-center py-16 bg-white rounded-xl border border-neutral-200",children:[t.jsx("div",{className:"w-16 h-16 bg-neutral-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Ih,{className:"w-8 h-8 text-neutral-400"})}),t.jsx("h3",{className:"text-xl mb-2",children:"No promo codes yet"}),t.jsx("p",{className:"text-neutral-600 mb-6",children:"Create your first promo code to offer subscription discounts"}),t.jsx("button",{onClick:l,className:"px-6 py-2 bg-neutral-900 text-white rounded-lg hover:bg-neutral-800 transition-colors",children:"Create Promo Code"})]})]})}function Sh(){const l=[{id:"1",timestamp:"2024-01-22 14:32:15",admin:"admin@artwalls.com",action:"Created promo code",target:"WELCOME15",details:"15% off for new customers"},{id:"2",timestamp:"2024-01-22 13:15:42",admin:"admin@artwalls.com",action:"Published announcement",target:"New Protection Plan Available",details:"Targeted to Artists"},{id:"3",timestamp:"2024-01-22 11:20:08",admin:"support@artwalls.com",action:"Suspended user",target:"emma.liu@example.com",details:"Violation of terms"},{id:"4",timestamp:"2024-01-22 10:45:33",admin:"support@artwalls.com",action:"Reset password",target:"marcus.r@example.com",details:"User requested password reset"},{id:"5",timestamp:"2024-01-22 09:12:17",admin:"admin@artwalls.com",action:"Created promo code",target:"SUMMER2024",details:"$10 off, 3 months duration"},{id:"6",timestamp:"2024-01-21 16:55:28",admin:"support@artwalls.com",action:"Added note",target:"sarah.chen@example.com",details:"Resolved billing issue"},{id:"7",timestamp:"2024-01-21 15:30:41",admin:"admin@artwalls.com",action:"Deactivated promo code",target:"LAUNCH50",details:"Max redemptions reached"},{id:"8",timestamp:"2024-01-21 14:22:09",admin:"support@artwalls.com",action:"Unsuspended user",target:"jordan.taylor@example.com",details:"Cleared after verification"}],s=n=>n.includes("Suspended")?"text-red-600":n.includes("Created")||n.includes("Published")?"text-green-600":n.includes("Deactivated")?"text-orange-600":"text-blue-600";return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl mb-2",children:"Activity Log"}),t.jsx("p",{className:"text-neutral-600",children:"Audit trail of all admin actions"})]}),t.jsxs("div",{className:"bg-white rounded-xl border border-neutral-200 overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Timestamp"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Admin User"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Action"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Target"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Details"}),t.jsx("th",{className:"text-left px-6 py-3 text-sm text-neutral-600",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-neutral-100",children:l.map(n=>t.jsxs("tr",{className:"hover:bg-neutral-50",children:[t.jsx("td",{className:"px-6 py-4 text-sm text-neutral-600 font-mono",children:n.timestamp}),t.jsx("td",{className:"px-6 py-4 text-sm text-neutral-900",children:n.admin}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`text-sm ${s(n.action)}`,children:n.action})}),t.jsx("td",{className:"px-6 py-4 text-sm text-neutral-900 font-mono",children:n.target}),t.jsx("td",{className:"px-6 py-4 text-sm text-neutral-600",children:n.details}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("button",{className:"px-3 py-1 text-neutral-600 hover:text-neutral-900 text-xs transition-colors",children:"View"})})]},n.id))})]})}),t.jsxs("div",{className:"p-4 border-t border-neutral-200 flex items-center justify-between",children:[t.jsxs("p",{className:"text-sm text-neutral-600",children:["Showing 1-",l.length," of 247 entries"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{className:"px-3 py-1 bg-neutral-100 text-neutral-700 rounded hover:bg-neutral-200 transition-colors text-sm",children:"Previous"}),t.jsx("button",{className:"px-3 py-1 bg-neutral-900 text-white rounded hover:bg-neutral-800 transition-colors text-sm",children:"Next"})]})]})]}),l.length===0&&t.jsxs("div",{className:"text-center py-16 bg-white rounded-xl border border-neutral-200",children:[t.jsx("div",{className:"w-16 h-16 bg-neutral-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Co,{className:"w-8 h-8 text-neutral-400"})}),t.jsx("h3",{className:"text-xl mb-2",children:"No activity yet"}),t.jsx("p",{className:"text-neutral-600",children:"Admin actions will appear here"})]})]})}function ny(){const[l,s]=z.useState(null),[n,i]=z.useState("login"),[c,d]=z.useState(!1),[m,f]=z.useState(!1),p=w=>{s(w),w.role==="admin"?i("admin-dashboard"):i(w.role==="artist"?"artist-dashboard":"venue-dashboard")},g=()=>{s(null),i("login")},v=w=>{i(w)};if(n.startsWith("purchase-")){const w=n.split("-")[1];return t.jsx(ey,{artworkId:w,onBack:()=>i("login")})}return l?l.role==="admin"?t.jsxs("div",{className:"flex min-h-screen bg-neutral-50 dark:bg-neutral-900",children:[t.jsx(ty,{currentPage:n,onNavigate:v}),t.jsx("div",{className:"flex-1 flex flex-col",children:t.jsxs("main",{className:"flex-1 p-8 overflow-y-auto",children:[n==="admin-dashboard"&&t.jsx(wh,{onNavigate:v}),n==="admin-users"&&t.jsx(jh,{onViewUser:w=>v("admin-user-detail")}),n==="admin-user-detail"&&t.jsx(Nh,{userId:"1",onBack:()=>v("admin-users")}),n==="admin-announcements"&&t.jsx(kh,{onCreateAnnouncement:()=>{}}),n==="admin-promo-codes"&&t.jsx(_h,{onCreatePromoCode:()=>{}}),n==="admin-activity-log"&&t.jsx(Sh,{})]})})]}):t.jsxs("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-900",children:[t.jsx(Vf,{user:l,onNavigate:v,onLogout:g,currentPage:n,onMenuClick:()=>d(!0)}),t.jsx(Kf,{isOpen:c,onClose:()=>d(!1),user:l,onNavigate:v,onLogout:g,currentPage:n}),t.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8",children:[!m&&!["policies","artist-agreement","venue-agreement"].includes(n)&&t.jsx(Yv,{role:l.role,onNavigate:v}),n==="policies"&&t.jsx(Gv,{onNavigate:v}),n==="plans-pricing"&&t.jsx(Zv,{onNavigate:v,currentPlan:"free",currentUser:l}),n==="artist-agreement"&&t.jsx(Jv,{onNavigate:v,onAccept:()=>f(!0),hasAccepted:m}),n==="venue-agreement"&&t.jsx(Qv,{onNavigate:v,onAccept:()=>f(!0),hasAccepted:m}),l.role==="artist"&&t.jsxs(t.Fragment,{children:[n==="artist-dashboard"&&t.jsx(tx,{onNavigate:v,user:l}),n==="artist-artworks"&&t.jsx(rx,{user:l}),n==="artist-venues"&&t.jsx(sx,{}),n==="artist-applications"&&t.jsx(lx,{}),n==="artist-sales"&&t.jsx(ix,{}),n==="artist-profile"&&t.jsx(zv,{onNavigate:v}),n==="artist-notifications"&&t.jsx(bh,{})]}),l.role==="venue"&&t.jsxs(t.Fragment,{children:[n==="venue-dashboard"&&t.jsx(Fv,{onNavigate:v}),n==="venue-walls"&&t.jsx(Bv,{}),n==="venue-applications"&&t.jsx(Vv,{}),n==="venue-current"&&t.jsx(Wv,{}),n==="venue-sales"&&t.jsx(qv,{}),n==="venue-settings"&&t.jsx(Hv,{}),n==="venue-profile"&&t.jsx(Kv,{onNavigate:v}),n==="venue-notifications"&&t.jsx(bh,{})]}),l.role==="admin"&&t.jsxs(t.Fragment,{children:[n==="admin-dashboard"&&t.jsx(wh,{onNavigate:v}),n==="admin-users"&&t.jsx(jh,{onNavigate:v}),n==="admin-user-detail"&&t.jsx(Nh,{onNavigate:v}),n==="admin-announcements"&&t.jsx(kh,{onNavigate:v}),n==="admin-promo-codes"&&t.jsx(_h,{onNavigate:v}),n==="admin-activity-log"&&t.jsx(Sh,{onNavigate:v})]})]}),t.jsx(Xv,{onNavigate:v})]}):t.jsxs("div",{children:[t.jsx(Gf,{onLogin:p}),t.jsxs("div",{className:"fixed bottom-6 right-6 bg-white rounded-lg shadow-lg p-4 border border-neutral-200",children:[t.jsx("p",{className:"text-sm text-neutral-600 mb-2",children:"Demo QR Purchase Page:"}),t.jsx("button",{onClick:()=>i("purchase-1"),className:"text-sm text-blue-600 hover:text-blue-700 underline mb-2 block",children:"View Customer Purchase Page"}),t.jsx("p",{className:"text-sm text-neutral-600 mb-2 pt-2 border-t",children:"Admin Demo:"}),t.jsx("button",{onClick:()=>p({id:"admin-1",name:"Admin User",email:"admin@artwalls.com",role:"admin"}),className:"text-sm text-neutral-900 hover:text-neutral-700 underline",children:"Sign in as Admin"})]})]})}mp.createRoot(document.getElementById("root")).render(t.jsx(ny,{}));
